---
layout: "post"
title: "Inventor Engineer-To-Order using frame based positioning - rotation example"
date: "2012-11-03 01:33:03"
author: "Wayne Brill"
categories:
  - "Engineer-To-Order"
  - "Wayne"
original_url: "https://modthemachine.typepad.com/my_weblog/2012/11/inventor-engineer-to-order-using-frame-based-positioning-rotation-example.html "
typepad_basename: "inventor-engineer-to-order-using-frame-based-positioning-rotation-example"
typepad_status: "Publish"
---

<p>The most common way used to control the position of parts in ETO is the use of constraints. In some cases however it can be more advantageous to use frame based positioning to control the position. When using frame based positioning the trickiest thing is controlling the rotation. This example can be used to help you understand how to get the rotation you need.</p>
<p>The design below creates three parts:</p>
<p><a href="http://modthemachine.typepad.com/.a/6a00e553fcbfc68834017d3d3a133d970c-pi"><img alt="image" border="0" height="252" src="/assets/image_118534.jpg" style="background-image: none; padding-left: 0px; padding-right: 0px; display: inline; padding-top: 0px; border-width: 0px;" title="image" width="272" /></a></p>
<p>Design Assembly1_1 : ETO_WB_TestingRoot _ <br />&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160; IvAssemblyDocument <br />&#0160;&#0160;&#0160; <br />&#0160;&#0160; <span style="color: #0000ff;">&#39;Used to set the angle for myPart1_test <br />&#0160;&#0160;&#0160; &#39; and myPart1_test2 <br /></span>&#0160;&#0160;&#0160; Parameter Rule angleToRotate = 0 <br />&#0160;&#0160; <br />&#0160; <span style="color: #0000ff;">&#0160; &#39;Create a vector that is the X axis <br />&#0160;&#0160;&#0160; &#39; Rotated around Z Axis by the angle <br />&#0160;&#0160;&#0160; &#39; set in angleToRotate <br /></span>&#0160;&#0160;&#0160; Rule myRotatedVecX_z As Vector = _ <br />&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160; RotateVector(UnitX, _ <br />&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160; angleToRotate, _ <br />&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160; UnitZ) <br />&#0160; <span style="color: #0000ff;">&#0160; &#39;Use the cross product to get a <br />&#0160;&#0160;&#0160; &#39; a vector for the Y direction <br /></span>&#0160;&#0160;&#0160; Rule myRotatedVecY_z As Vector = _ <br />&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160; UnitZ * MyRotatedVecX_z <br />&#0160;&#0160;&#0160; <br />&#0160;&#0160; <span style="color: #0000ff;">&#39; Create the part that will rotate <br />&#0160;&#0160;&#0160; &#39;around the Z Axis <br /></span>&#0160;&#0160;&#0160; Child myPart1_test As :Part1_Test <br />&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160; <br />&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160; xDirection = myRotatedVecX_z <br />&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160; yDirection = myRotatedVecY_z</p>
<p>&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160; ignorePosition? = False <br />&#0160;&#0160;&#0160; <br />&#0160;&#0160;&#0160; End Child <br />&#0160;&#0160;&#0160; <br />&#0160;&#0160; <span style="color: #0000ff;">&#0160; &#39;Create a vector that is the X axis <br />&#0160;&#0160;&#0160; &#39; Rotated around Y Axis by the angle <br />&#0160;&#0160;&#0160; &#39; set in angleToRotate <br /></span>&#0160;&#0160;&#0160; Rule myRotatedVecX_y As Vector = _ <br />&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160; RotateVector(UnitX, _ <br />&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160; angleToRotate, _ <br />&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160; UnitY) <br />&#0160; <span style="color: #0000ff;">&#0160; &#39;Use the cross product to get a <br />&#0160;&#0160;&#0160; &#39; a vector for the Y direction <br /></span>&#0160;&#0160;&#0160; Rule myRotatedVecY_y As Vector = _ <br />&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160; UnitY * MyRotatedVecX_y <br />&#0160;&#0160;&#0160; <br />&#0160;&#0160; <span style="color: #0000ff;">&#39; Create the part that will rotate <br />&#0160;&#0160;&#0160; &#39;around the Y Axis <br /></span>&#0160;&#0160;&#0160; Child myPart1_test2 As :Part1_Test <br />&#0160;&#0160;&#0160;&#0160;&#0160;&#0160; <br />&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160; xDirection = myRotatedVecX_y <br />&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160; yDirection = myRotatedVecY_y <br />&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160; <br />&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160; origin=Point(4,0,0) <br />&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160; ignorePosition? = False <br />&#0160;&#0160;&#0160; <br />&#0160;&#0160;&#0160; End Child <br />&#0160;&#0160;&#0160;</p>
<p>&#0160;&#0160;&#0160; <span style="color: #0000ff;">‘Parameters to control the rotation of the third part using frames</span></p>
<p>&#0160;&#0160;&#0160; Parameter Rule primaryRotationAngle = 0 <br />&#0160;&#0160;&#0160; Parameter Rule secondaryRotationAngle = 0 <br />&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160; <br />&#0160; <span style="color: #0000ff;">&#0160; &#39; This Frame is the world frame rotated <br />&#0160;&#0160;&#0160; &#39; by the parameter primaryRotationAngle <br />&#0160;&#0160;&#0160; &#39; around the Z Axis <br />&#0160;&#0160;&#0160; &#39; localFrame is the frame that was used <br />&#0160;&#0160;&#0160; &#39; to position the parent. In this simple <br />&#0160;&#0160;&#0160; &#39; example, worldframe = localFrame <br /></span>&#0160;&#0160;&#0160; Rule myFrame_1 As Frame = RotateFrame _ <br />&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160; (localFrame, _ <br />&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160; primaryRotationAngle, _ <br />&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160; Origin, _ <br />&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160; UnitZ) <br />&#0160;&#0160;&#0160; <br />&#0160;&#0160;&#0160; <span style="color: #0000ff;">&#39;This Frame is myFrame_1 rotated around <br />&#0160;&#0160;&#0160; &#39; the X axis in myFrame_1 <br />&#0160;&#0160;&#0160; &#39; “vector_” creates a vector relative to <br />&#0160;&#0160;&#0160; &#39; a given Frame <br /></span>&#0160;&#0160;&#0160; Rule myFrame_2 As Frame = RotateFrame _ <br />&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160; (myFrame_1, _ <br />&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160; secondaryRotationAngle, _ <br />&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160; Origin, _ <br />&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160; vector_(1, 0, 0, myFrame_1))</p>
<p>&#0160; <br />&#0160;&#0160; <span style="color: #0000ff;">&#39;Create a part that will rotate around <br />&#0160;&#0160;&#0160; &#39; two axes by using the Frame created by <br />&#0160;&#0160;&#0160; &#39; using RotateFrame <br /></span>&#0160;&#0160;&#0160; Child myPart1_test3 As :Part1_Test <br />&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160; ReferenceFrame = myFrame_2 <br />&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160; ignorePosition? = False <br />&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160; origin = Point(0,4,0) <br />&#0160;&#0160;&#0160; End Child</p>
<p>End Design</p>
<p>Here is the Edit Parameters dialog and the parts in the Inventor Model. Here all of the parameters are zero.</p>
<p><a href="http://modthemachine.typepad.com/.a/6a00e553fcbfc68834017d3d3a1353970c-pi"><img alt="image" border="0" height="662" src="/assets/image_706178.jpg" style="background-image: none; padding-left: 0px; padding-right: 0px; display: inline; padding-top: 0px; border-width: 0px;" title="image" width="401" /></a></p>
<p>After changing the angleToRotate to 90 notice the change in rotation for the parts in the lower area. The part on the left rotates around the Z axis. The part on the right rotates around the Y axis. The part on the top is not effected by a change to angleToRotate.</p>
<p><a href="http://modthemachine.typepad.com/.a/6a00e553fcbfc68834017d3d3a1376970c-pi"><img alt="image" border="0" height="590" src="/assets/image_796718.jpg" style="background-image: none; padding-left: 0px; padding-right: 0px; display: inline; padding-top: 0px; border-width: 0px;" title="image" width="400" /></a></p>
<p>The top part is changed by the parameters primaryRotationAngle and&#0160; secondaryRotationAngle. Notice that the Z rotation is similar to the part below it, but the secondaryRotationAngle has rotated the part in in the Y direction as well. (Y direction in the part)</p>
<p><a href="http://modthemachine.typepad.com/.a/6a00e553fcbfc68834017c330b9750970b-pi"><img alt="image" border="0" height="647" src="/assets/image_826064.jpg" style="background-image: none; padding-left: 0px; padding-right: 0px; display: inline; padding-top: 0px; border-width: 0px;" title="image" width="395" /></a></p>
<p>Using a design like this you can experiment with different values in the parameters and see the results the rotation angle has on the parts.</p>
<p>-Wayne</p>
