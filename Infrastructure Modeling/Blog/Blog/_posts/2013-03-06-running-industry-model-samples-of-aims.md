---
layout: "post"
title: "Running Industry Model Samples of AIMS"
date: "2013-03-06 01:53:36"
author: "Daniel Du"
categories:
  - "AIMS 2012"
  - "AIMS 2013"
  - "Daniel Du"
original_url: "https://adndevblog.typepad.com/infrastructure/2013/03/running-industry-model-samples-of-aims.html "
typepad_basename: "running-industry-model-samples-of-aims"
typepad_status: "Publish"
---

<p>By <a href="http://adndevblog.typepad.com/infrastructure/daniel-du.html">Daniel Du</a></p>  <p>Similar with Map 3D industry model, Autodesk Infrastructure Map Server includes industry model as well if you installed Infrastructure Application Extension. It provides APIs for customization as well, and more than 100 sample projects are released with the project, they can be found in C:\Program Files\Autodesk\Autodesk Infrastructure Web Server Extension 2013\www\AppExt\Development\Samples by default.</p>  <p>To run these samples, open CSSamples.sln in Visual Studio, this solution contains all sample projects in the folder, you can want to open specific one instead of opening them all. </p>  <p>Please not that some samples do not work for AIMS Application Extension(a.k.a Topobase Web or TBWeb), for example CSSample01. Let’s take a look at the tbp file. BTW, the tbp file is AutoCAD Map 3D/AIMS plugin definition file (identified by the .tbp extension), it should be copied to AppExt\Bin folder so that Map3D/AIMS knows about your plugin. </p>  <p><a href="http://adndevblog.typepad.com/.a/6a0167607c2431970b017c37597a48970b-pi"><img style="background-image: none; border-bottom: 0px; border-left: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px" title="image" border="0" alt="image" src="/assets/image_4e3b34.jpg" width="328" height="526" /></a></p>  <p>Let’s examine the tbp file:</p>  <pre style="line-height: normal; font-family: ; background: white; color: "><font face="新宋体"><span style="color: "><font color="#0000ff"><font style="font-size: 7.8pt">&lt;?</font></font></span><font style="font-size: 7.8pt"><span style="color: "><font color="#a31515">xml</font></span><span style="color: "><font color="#0000ff">&#160;</font></span><span style="color: "><font color="#ff0000">version</font></span><span style="color: "><font color="#0000ff">=</font></span><font color="#000000">&quot;</font><span style="color: "><font color="#0000ff">1.0</font></span><font color="#000000">&quot;</font><span style="color: "><font color="#0000ff">&#160;</font></span><span style="color: "><font color="#ff0000">encoding</font></span><span style="color: "><font color="#0000ff">=</font></span><font color="#000000">&quot;</font><span style="color: "><font color="#0000ff">utf-8</font></span><font color="#000000">&quot;</font></font></font><font face="新宋体"><font style="font-size: 7.8pt"><font color="#0000ff"><span style="color: ">?&gt;</span><br /><span style="color: ">&lt;</span></font><span style="color: "><font color="#a31515">PlugIn</font></span><span style="color: "><font color="#0000ff">&gt;</font></span><br /><font color="#000000"> </font><br /><span style="color: "><font color="#0000ff">	&lt;</font></span><span style="color: "><font color="#a31515">Default</font></span><br /><span style="color: "><font color="#0000ff">		</font></span><span style="color: "><font color="#ff0000">AssemblyName</font></span><span style="color: "><font color="#0000ff">=</font></span><font color="#000000">&quot;</font><span style="color: "><font color="#0000ff">CSSample01.dll</font></span><font color="#000000">&quot;</font><br /><span style="color: "><font color="#0000ff">		</font></span><span style="color: "><font color="#ff0000">Namespace</font></span><span style="color: "><font color="#0000ff">=</font></span><font color="#000000">&quot;</font><span style="color: "><font color="#0000ff">CSSample01</font></span><font color="#000000">&quot;</font><br /><span style="color: "><font color="#0000ff">		</font></span><span style="color: "><font color="#ff0000">DocumentKey</font></span><span style="color: "><font color="#0000ff">=</font></span><font color="#000000">&quot;&quot;</font><br /><span style="color: "><font color="#0000ff">		</font></span><span style="color: "><font color="#ff0000">MapName</font></span><span style="color: "><font color="#0000ff">=</font></span><font color="#000000">&quot;&quot;</font><br /><span style="color: "><font color="#0000ff">		</font></span><span style="color: "><font color="#ff0000">Priority</font></span><span style="color: "><font color="#0000ff">=</font></span><font color="#000000">&quot;</font><span style="color: "><font color="#0000ff">100</font></span><font color="#000000">&quot;</font><br /><span style="color: "><font color="#0000ff">		</font></span><strong><font style="background-color: #ffff00"><span style="color: "><font color="#ff0000">ExecutionTargetWeb</font></span><span style="color: "><font color="#0000ff">=</font></span><font color="#000000">&quot;</font><span style="color: "><font color="#0000ff">False</font></span><font color="#000000">&quot;</font></font></strong><br /><span style="color: "><font color="#0000ff">		</font></span><strong><font style="background-color: #ffff00"><span style="color: "><font color="#ff0000">ExecutionTargetDesktop</font></span><span style="color: "><font color="#0000ff">=</font></span><font color="#000000">&quot;</font><span style="color: "><font color="#0000ff">True</font></span><font color="#000000">&quot;</font></font></strong><br /><span style="color: "><font color="#0000ff">		</font></span><span style="color: "><font color="#ff0000">Company</font></span><span style="color: "><font color="#0000ff">=</font></span><font color="#000000">&quot;</font><span style="color: "><font color="#0000ff">Autodesk, Inc.</font></span><font color="#000000">&quot;</font><br /><span style="color: "><font color="#0000ff">		</font></span><span style="color: "><font color="#ff0000">Author</font></span><span style="color: "><font color="#0000ff">=</font></span><font color="#000000">&quot;</font><span style="color: "><font color="#0000ff">Map Engineering</font></span><font color="#000000">&quot;</font><br /><span style="color: "><font color="#0000ff">	/&gt;</font></span><br /><font color="#000000"> </font><br /><span style="color: "><font color="#0000ff">	&lt;</font></span><span style="color: "><font color="#a31515">ApplicationPlugIn</font></span><span style="color: "><font color="#0000ff">&#160;</font></span><span style="color: "><font color="#ff0000">ClassName</font></span><span style="color: "><font color="#0000ff">=</font></span><font color="#000000">&quot;</font><span style="color: "><font color="#0000ff">MyApplication</font></span><font color="#000000">&quot;</font><span style="color: "><font color="#0000ff">/&gt;</font></span><br /><font color="#000000"> </font><br /><span style="color: "><font color="#0000ff">&lt;/</font></span><span style="color: "><font color="#a31515">PlugIn</font></span></font><span style="color: "><font style="font-size: 7.8pt" color="#0000ff">&gt;</font></span></font></pre>

<p>ExecutionTargetWeb = False, that means it is not supposed to be running in AIMS, it only works in Map 3D desktop. If you open Form1.cs, you will notice that it is just a&#160; Windows Form, so that explains why it does not work for TBWeb.</p>

<pre style="line-height: normal; font-family: ; background: white; color: "><font face="新宋体"><span style="color: "><font color="#0000ff"><font style="font-size: 7.8pt">public</font></font></span><font style="font-size: 7.8pt"><font color="#000000">&#160;</font><span style="color: "><font color="#0000ff">class</font></span><font color="#000000">&#160;</font><span style="color: "><font color="#2b91af">Form1</font></span><font color="#000000"> : System.Windows.Forms.</font></font><span style="color: "><font style="font-size: 7.8pt" color="#2b91af">Form</font></span></font><br /></pre>

<p>&#160;</p>

<p>So here is the question, which samples are supposed to run in AIMS(TBWeb)? Well, actually development team did quite a lot of work to unify the form in both Map 3D desktop and AIMS web environment. If you want your form runs on both Map 3D desktop and AIMS, you will derive your form from <strong>Autodesk.Map.IM.Forms.ApplicationForm. </strong>Let’s take a look at CSSample100.</p>

<pre style="line-height: normal; font-family: ; background: white; color: "><span style="color: "><font color="#0000ff" face="新宋体"><font style="font-size: 7.8pt">namespace</font></font></span><font face="新宋体"><font style="font-size: 7.8pt"><font color="#000000"> CSSample100<br />{<br />&#160;&#160;&#160; </font><span style="color: "><font color="#0000ff">public</font></span><font color="#000000">&#160;</font><span style="color: "><font color="#0000ff">class</font></span><font color="#000000">&#160;</font><span style="color: "><font color="#2b91af">Form1</font></span><font color="#000000"> : <strong><font style="background-color: #ffff00">Autodesk.Map.IM.Forms.</font></strong></font><span style="color: "><font style="background-color: #ffff00" color="#2b91af"><strong>ApplicationForm</strong></font></span><br /><font color="#000000">&#160;&#160;&#160; {</font></font></font><br /></pre>

<p>…</p>

<p>And take a look at the tbp file of CSSample100:</p>

<pre style="line-height: normal; font-family: ; background: white; color: "><font face="新宋体"><span style="color: "><font color="#0000ff"><font style="font-size: 7.8pt">&lt;?</font></font></span><font style="font-size: 7.8pt"><span style="color: "><font color="#a31515">xml</font></span><span style="color: "><font color="#0000ff">&#160;</font></span><span style="color: "><font color="#ff0000">version</font></span><span style="color: "><font color="#0000ff">=</font></span><font color="#000000">&quot;</font><span style="color: "><font color="#0000ff">1.0</font></span><font color="#000000">&quot;</font><span style="color: "><font color="#0000ff">&#160;</font></span><span style="color: "><font color="#ff0000">encoding</font></span><span style="color: "><font color="#0000ff">=</font></span><font color="#000000">&quot;</font><span style="color: "><font color="#0000ff">utf-8</font></span><font color="#000000">&quot;</font></font></font><font face="新宋体"><font style="font-size: 7.8pt"><font color="#0000ff"><span style="color: ">?&gt;</span><br /><span style="color: ">&lt;</span></font><span style="color: "><font color="#a31515">PlugIn</font></span><span style="color: "><font color="#0000ff">&gt;</font></span><br /><font color="#000000"> </font><br /><span style="color: "><font color="#0000ff">	&lt;</font></span><span style="color: "><font color="#a31515">Default</font></span><br /><span style="color: "><font color="#0000ff">		</font></span><span style="color: "><font color="#ff0000">AssemblyName</font></span><span style="color: "><font color="#0000ff">=</font></span><font color="#000000">&quot;</font><span style="color: "><font color="#0000ff">CSSample100.dll</font></span><font color="#000000">&quot;</font><br /><span style="color: "><font color="#0000ff">		</font></span><span style="color: "><font color="#ff0000">Namespace</font></span><span style="color: "><font color="#0000ff">=</font></span><font color="#000000">&quot;</font><span style="color: "><font color="#0000ff">CSSample100</font></span><font color="#000000">&quot;</font><br /><span style="color: "><font color="#0000ff">		</font></span><span style="color: "><font color="#ff0000">DocumentKey</font></span><span style="color: "><font color="#0000ff">=</font></span><font color="#000000">&quot;&quot;</font><br /><span style="color: "><font color="#0000ff">		</font></span><span style="color: "><font color="#ff0000">MapName</font></span><span style="color: "><font color="#0000ff">=</font></span><font color="#000000">&quot;&quot;</font><br /><span style="color: "><font color="#0000ff">		</font></span><span style="color: "><font color="#ff0000">Priority</font></span><span style="color: "><font color="#0000ff">=</font></span><font color="#000000">&quot;</font><span style="color: "><font color="#0000ff">100</font></span><font color="#000000">&quot;</font><br /><span style="color: "><font color="#0000ff">		</font></span><strong><font style="background-color: #ffff00"><span style="color: "><font color="#ff0000">ExecutionTargetWeb</font></span><span style="color: "><font color="#0000ff">=</font></span><font color="#000000">&quot;</font><span style="color: "><font color="#0000ff">True</font></span><font color="#000000">&quot;</font></font></strong><br /><span style="color: "><font color="#0000ff">		</font></span><strong><font style="background-color: #ffff00"><span style="color: "><font color="#ff0000">ExecutionTargetDesktop</font></span><span style="color: "><font color="#0000ff">=</font></span><font color="#000000">&quot;</font><span style="color: "><font color="#0000ff">True</font></span><font color="#000000">&quot;</font></font></strong><br /><span style="color: "><font color="#0000ff">		</font></span><span style="color: "><font color="#ff0000">Company</font></span><span style="color: "><font color="#0000ff">=</font></span><font color="#000000">&quot;</font><span style="color: "><font color="#0000ff">Autodesk, Inc.</font></span><font color="#000000">&quot;</font><br /><span style="color: "><font color="#0000ff">		</font></span><span style="color: "><font color="#ff0000">Author</font></span><span style="color: "><font color="#0000ff">=</font></span><font color="#000000">&quot;</font><span style="color: "><font color="#0000ff">Map Engineering</font></span><font color="#000000">&quot;</font><br /><span style="color: "><font color="#0000ff">	/&gt;</font></span><br /><font color="#000000"> </font><br /><span style="color: "><font color="#0000ff">	&lt;</font></span><span style="color: "><font color="#a31515">ApplicationPlugIn</font></span><span style="color: "><font color="#0000ff">&#160;</font></span><span style="color: "><font color="#ff0000">ClassName</font></span><span style="color: "><font color="#0000ff">=</font></span><font color="#000000">&quot;</font><span style="color: "><font color="#0000ff">MyApplication</font></span><font color="#000000">&quot;</font><span style="color: "><font color="#0000ff">/&gt;</font></span><br /><font color="#000000"> </font><br /><span style="color: "><font color="#0000ff">&lt;/</font></span><span style="color: "><font color="#a31515">PlugIn</font></span></font><span style="color: "><font style="font-size: 7.8pt" color="#0000ff">&gt;</font></span></font><br /></pre>

<p>&#160;</p>

<p>This sample application works for Map 3D desktop and AIMS Web application as well.</p>

<p>&#160;</p>

<p>To run this sample on AIMS, please make sure that your output folder is set to C:\Program Files\Autodesk\Autodesk Infrastructure Web Server Extension 2013\www\AppExt\Bin: </p>

<p><a href="http://adndevblog.typepad.com/.a/6a0167607c2431970b017c37597a5e970b-pi"><img style="background-image: none; border-bottom: 0px; border-left: 0px; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px" title="image" border="0" alt="image" src="/assets/image_21e03f.jpg" width="457" height="91" /></a></p>

<p>And set “Copy to Output Directry” tp “Copy always” or “Copy if newer”. Once the project is built successfully and the necessary files (dll and tbp) are copied to AppExt\Bin folder, you can launch a browser to open&#160; your industry model (<a title="http://localhost/mapserver2013/appext/login.aspx" href="http://localhost/mapserver2013/appext/login.aspx">http://localhost/mapserver2013/appext/login.aspx</a> ), I am using SQL Server here, it should be similar for Oracle.</p>

<p><a href="http://adndevblog.typepad.com/.a/6a0167607c2431970b017ee8fc8b7f970d-pi"><img style="background-image: none; border-bottom: 0px; border-left: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px" title="image" border="0" alt="image" src="/assets/image_26e5d9.jpg" width="443" height="460" /></a></p>

<p>Open the project: </p>





<p><a href="http://adndevblog.typepad.com/.a/6a0167607c2431970b017d4188b2b4970c-pi"><img style="background-image: none; border-bottom: 0px; border-left: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px" title="image" border="0" alt="image" src="/assets/image_c6f181.jpg" width="469" height="118" /></a></p>

<p>A new button will appear in “Autodesk Industry Model Explorer”, and a web form will show up when clicking this button.</p>

<p><a href="http://adndevblog.typepad.com/.a/6a0167607c2431970b017ee8fc8bd0970d-pi"><img style="background-image: none; border-bottom: 0px; border-left: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px" title="image" border="0" alt="image" src="/assets/image_368e77.jpg" width="429" height="376" /></a></p>





<p>Please turn off pop-up blocker of your browser. </p>

<p>There are quit a lot other samples in C:\Program Files\Autodesk\Autodesk Infrastructure Web Server Extension 2013\www\AppExt\Development\Samples, and the Map 3D document&#160; on <a href="http://wikihelp.autodesk.com/AutoCAD_Map_3D/enu/2013/Help/0003-Industry0/0043-Quick_Gu43/0044-Introduc44">Wikihlep</a> should be helpful to understand and run these sample.</p>
