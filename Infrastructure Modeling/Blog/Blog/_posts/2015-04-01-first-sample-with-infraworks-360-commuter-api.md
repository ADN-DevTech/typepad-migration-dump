---
layout: "post"
title: "First sample with Infraworks 360 Commuter API"
date: "2015-04-01 05:35:10"
author: "Augusto Goncalves"
categories:
  - "Augusto Goncalves"
  - "Infraworks 360"
original_url: "https://adndevblog.typepad.com/infrastructure/2015/04/first-sample-with-infraworks-360-commuter-api.html "
typepad_basename: "first-sample-with-infraworks-360-commuter-api"
typepad_status: "Publish"
---

<p>By <a href="http://adndevblog.typepad.com/infrastructure/augusto-goncalves.html">Augusto Goncalves</a></p>  <p>Back in July 2014, Scott Sheppard announced the <a href="http://labs.blogs.com/its_alive_in_the_lab/2014/07/project-commuter-for-infraworks-available-via-autodesk-labs.html">Project Commuter</a> availability for Infraworks 360. From the main <a href="https://beta.autodesk.com/callout/?callid=D23E3D96B32A41EAA1AE9E8F1E319977">project website</a>, here is the description: <em>Project Commuter can be used for transport analysis — modeling all modes of transport, or it can be used for pedestrian-only analysis in urban spaces — both inside and outside buildings.</em></p>  <p><a href="http://adndevblog.typepad.com/.a/6a0167607c2431970b01b7c76ffb38970b-pi"><img title="Scott Sheppard demonstration with Project Commuter" style="border-top: 0px; border-right: 0px; border-bottom: 0px; border-left: 0px; display: inline" border="0" alt="Scott Sheppard demonstration with Project Commuter" src="/assets/image_feae42.jpg" width="471" height="269" /></a> </p>  <p>Although the main usage is around traffic commute, we also decided to focus this sample on inside building commute, as many employees are living and working at the same building, even at the same space (such as home-office or home-at-office). </p>  <p>Autodesk will allow local customization according to each country (or city) culture (as we understand each social group deals with commute in different ways). And a good way it to allow API customization via custom DLLs loaded into the product, just like other Autodesk products. </p>  <p>To have your local community behavior added to the product, first you’ll need to create a new project on Visual Studio, based on the interfaces available on the DLL inside the product, under TrafficAnalysis folder. As you may notice, it’s a .NET Managed API (the suffix <strong>mgd</strong> is widely used on Autodesk products).</p>  <p><a href="http://adndevblog.typepad.com/.a/6a0167607c2431970b01b8d0f99e22970c-pi"><img title="commuter_API" style="border-top: 0px; border-right: 0px; border-bottom: 0px; border-left: 0px; display: inline" border="0" alt="commuter_API" src="/assets/image_e3c2de.jpg" width="473" height="248" /></a> </p>  <p>Now it’s easy to use: just create a .NET 4.5 project on Visual Studio, add reference to the DLL (commuter64mgd.dll) and implement the interface. For this sample, we’ll use the <strong>IMorningBehavior</strong> interface, which implements human morning behavior. The VS project should look like the following image. </p>  <p><a href="http://adndevblog.typepad.com/.a/6a0167607c2431970b01b8d0f99e2d970c-pi"><img title="VS_projectsettings" style="border-top: 0px; border-right: 0px; border-bottom: 0px; border-left: 0px; display: inline" border="0" alt="VS_projectsettings" src="/assets/image_f55669.jpg" width="480" height="436" /></a> </p>  <p></p>  <p>To run this custom code, place the DLL under the same TrafficAnalyst folder, start Infraworks 360, it should automatically load it and recognize the class (via the interface implemented). When you launch Traffic Simulation on Infraworks 360, select “Human Morning Commute” and the DLL will trigger (make sure you select the “Traffic Study Area” as “In Home Behavior”).</p>  <p>As of today, this API is an early pilot, we’re gathering feedback around local cultures. Our social study group would love to hear feedback. For now, you can get first version of the <a href="http://en.wikipedia.org/wiki/April_Fools%27_Day">documentation at this link</a>.</p>
