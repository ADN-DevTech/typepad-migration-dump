comments:
- author: Salvador Elizarrarás
  email: masivacore@hotmail.com
  ip: 189.234.130.252
  url: http://profile.typepad.com/6p0115710bcd5d970c
  date: '2009-07-27 23:37:22'
  body: 'Hello again Jeremy.


    I need to get the local coordinate system of a wall/floor. I have tried to obtain
    a Transform Property like your method, but I think that your method is only for
    FamilyInstance Elements (GeoInstance is not in GeometryObjects of a Wall). Well,
    May you help me?


    Cheers, Salvador'
- author: Jeremy Tammik
  email: ''
  ip: 132.188.32.100
  url: http://profile.typepad.com/1218580759s22477
  date: '2009-07-30 03:42:58'
  body: 'Dear Salvador,


    Yes, a family instance has a local coordinate system, because it needs to transform
    the original symbol definition geometry into its actual location in space. A wall
    or floor does not have such a transformation; it is defined directly in 3D space
    at its actual location. You can use its Location property to determine its position
    and orientation. If you need to define some kind of transformation from the origin
    into some coordinate system related to the wall or floor, it is up to you yourself
    to specify exactly how that should be defined.


    Cheers, Jeremy.'
- author: Salvador Elizarrarás
  email: masivacore@hotmail.com
  ip: 189.234.140.111
  url: http://profile.typepad.com/6p0115710bcd5d970c
  date: '2009-07-30 17:27:59'
  body: 'Hello Jeremy


    Thanks for you explanation. I have a new idea to solve my problem. Thanks!



    Salvador'
- author: Salvador Elizarrarás
  email: masivacore@hotmail.com
  ip: 189.234.141.43
  url: http://profile.typepad.com/6p0115710bcd5d970c
  date: '2009-07-31 23:31:53'
  body: 'Hi Jeremy


    Well, I''m trying to get a "top location" like this picture <a href="http://smg.photobucket.com/albums/v696/xsalvadorx/?action=view&current=Frame.jpg.">http://smg.photobucket.com/albums/v696/xsalvadorx/?action=view&current=Frame.jpg.</a>
    I suppose that I need to get some Transform of Translation and Rotation, because
    Revit gives me another Location (see Picture). Well, I hope that you can help
    me.


    Cheers Salvador'
- author: Salvador Elizarrarás
  email: masivacore@hotmail.com
  ip: 189.234.141.43
  url: http://profile.typepad.com/6p0115710bcd5d970c
  date: '2009-07-31 23:33:40'
  body: '[My last link was incorrect]


    Hi Jeremy


    Well, I''m trying to get a "top location" like this picture <a href="http://smg.photobucket.com/albums/v696/xsalvadorx/?action=view&current=Frame.jpg">http://smg.photobucket.com/albums/v696/xsalvadorx/?action=view&current=Frame.jpg</a>
    . I suppose that I need to get some Transform of Translation and Rotation, because
    Revit gives me another Location (see Picture). Well, I hope that you can help
    me.


    Cheers Salvador'
- author: Jeremy Tammik
  email: ''
  ip: 89.59.122.159
  url: http://profile.typepad.com/1218580759s22477
  date: '2009-08-01 02:38:32'
  body: "Dear Salvador,\n\nThank you for the picture and description. You have not\
    \ explained what it is displaying, or how the objects displayed are related to\
    \ each other. In the previous comments, you were talking about the local coordinate\
    \ system of a wall. Does this picture show three walls, or is a rotated I-shaped\
    \ beam, looking along the length of the beam, so we see the profile only?\n\n\
    One thing to be aware of with beams is that they are represented by standard families,\
    \ so the exact definition of the coordinate systems depends on choices made by\
    \ the family creator. \n\nSometimes, the pure geometry is the most reliable source\
    \ of information, which is why we explored a lot on how to determine specific\
    \ geometrical faces and edges in several previous posts. An overview of them is\
    \ given here:\n\n<a href=\"http://thebuildingcoder.typepad.com/blog/2009/04/cylindrical-column.html\"\
    >http://thebuildingcoder.typepad.com/blog/2009/04/cylindrical-column.html</a>\n\
    \nCheers, Jeremy."
- author: Salvador Elizarrarás
  email: masivacore@hotmail.com
  ip: 189.163.31.185
  url: http://profile.typepad.com/6p0115710bcd5d970c
  date: '2009-08-01 15:33:40'
  body: Hey Jeremy, sorry for the poor description. The picture shows a rotated I-Shaped
    Beam and I try to get the line along the length of that beam (See the "I want
    this location" label in the picture) , but Revit gives me another location (See
    the "Location" label in the picture). Is it possible?
- author: Jeremy Tammik
  email: ''
  ip: 132.188.32.100
  url: http://profile.typepad.com/1218580759s22477
  date: '2009-08-03 12:45:38'
  body: 'Dear Salvador,


    I have sent you a separate mail with a suggestion for a solution. If it solves
    your issue, I can write it up as a separate post, and otherwise we can continue
    discussing it. Please let me know whether this solves your problem.


    Cheers, Jeremy.'
- author: Salvador Elizarrarás
  email: masivacore@hotmail.com
  ip: 189.234.145.28
  url: http://profile.typepad.com/6p0115710bcd5d970c
  date: '2009-08-05 18:44:06'
  body: "Hey Jeremy. I put online another pic again <a href=\"http://img.photobucket.com/albums/v696/xsalvadorx/T_Beam.jpg\"\
    >http://img.photobucket.com/albums/v696/xsalvadorx/T_Beam.jpg</a> .The problem\
    \ is about a beam that can be rotated or can be without a rotation but with the\
    \ paramaters \"z-Direction Justification\" and \"z-Direction Offset value\" changed\
    \ (like the picture), then I want to obtain always a line as \"top location\"\
    \ but Revit only gives me the \"Drag Structural Framing Component End\" location\
    \ (see the picture). \n\nSalvador :)"
- author: Jeremy Tammik
  email: ''
  ip: 132.188.32.100
  url: http://profile.typepad.com/1218580759s22477
  date: '2009-08-06 06:53:33'
  body: 'Dear Salvador,


    Thank you for the more detailed description and sample image. This is an interesting
    question. I have reproduced the situation on my side and am analysing and discussing
    this with my colleagues.


    Cheers, Jeremy.'
- author: Jeremy Tammik
  email: ''
  ip: 132.188.32.100
  url: http://profile.typepad.com/1218580759s22477
  date: '2009-08-06 10:08:44'
  body: 'Dear Salvador,


    I heard back from my colleagues. The result is interesting and includes a suggestion
    for a possible workaround.


    Apparently, if the beam is offset using the Start Level Offset and End Level Offset,
    the analytical line is correct. Can you use this as a workaround? If those parameters
    are then set to zero and the z-Direction Offset is set, the analytical line is
    still correct. On the other hand, if you skip the changes to the start and end
    level offsets and only use the z-Direction Offset, then the analytical line is
    wrong. This does suggest that we need to explore what is happening with the z-Direction
    property.


    Please test whether this helps. Maybe a utility that reads the z direction offset
    setting and converts it to an equivalent start and end level offset one might
    be useful.


    Cheers, Jeremy.

    -----'
