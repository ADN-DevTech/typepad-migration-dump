---
layout: "post"
title: "Bubble End and Free End in NewReferencePlane()"
date: "2013-01-16 17:22:42"
author: "Saikat Bhattacharya"
categories:
  - ".NET"
  - "Revit"
  - "Saikat Bhattacharya"
original_url: "https://adndevblog.typepad.com/aec/2013/01/bubble-end-and-free-end-in-newreferenceplane.html "
typepad_basename: "bubble-end-and-free-end-in-newreferenceplane"
typepad_status: "Publish"
---

<p>By <a href="http://adndevblog.typepad.com/aec/saikat-bhattacharya.html">Saikat Bhattacharya</a></p>  <p>The ItemFactoryBase.NewReferencePlane() which helps create an instance of a ReferencePlane has two parameters called the BubbleEnd and FreeEnd?&#160; What do these parameters mean? The API documentation (RevitAPI.chm) only states that Bubble End parameter is the bubble end applied to reference plane – which is not very descriptive.</p>  <p>Here is some additional information on both of these parameters and what they refer to for each of the two NewReferencePlane(). The two methods that help create NewReferencePlane essentially use three points (which do not lie on a straight line) to construct a reference plane.</p>  <p><em>public ReferencePlane NewReferencePlane(     <br />&#160;&#160;&#160; XYZ bubbleEnd,      <br />&#160;&#160;&#160; XYZ freeEnd,      <br />&#160;&#160;&#160; XYZ cutVec,      <br />&#160;&#160;&#160; View pView      <br />)      <br /></em>The freeEnd point is the origin of the new reference plane.    <br />The vector-“bubbleEnd-freeEnd” is the x axis of the new plane.    <br />The vector-“cutVec-freeEnd” will determine the y axis of the new plane.    <br />The z axis (normal vector) will follow the right hand rule with the x and y axis.    <br />&lt;code&gt;    <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; XYZ bubbleEnd = gcnew XYZ( 0, 0, 0);    <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; XYZ freeEnd = gcnew XYZ(-1, 0, 0);    <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; XYZ cutVec = gcnew XYZ(0, 0, -1);    <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; m_document.FamilyCreate.NewReferencePlane(bubbleEnd, freeEnd, cutVec, m_document.ActiveView);    <br />&lt;/code&gt;</p>  <p>AND </p>  <p><em>public ReferencePlane NewReferencePlane2(     <br />&#160;&#160;&#160; XYZ bubbleEnd,      <br />&#160;&#160;&#160; XYZ freeEnd,      <br />&#160;&#160;&#160; XYZ thirdPt,      <br />&#160;&#160;&#160; View pView      <br />)</em></p>  <p>The freeEnd point is the origin of the new reference plane.   <br />The vector-“bubbleEnd-freeEnd” is the x axis of the new plane.    <br />The vector-“thirdPt-freeEnd” will determine the y axis of the new plane.    <br />The z axis will follow the left hand rule with the x and y axis.    <br />&lt;code&gt;    <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; XYZ bubbleEnd = gcnew XYZ( 0, 0, 0);    <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; XYZ freeEnd = gcnew XYZ(-1, 0, 0);    <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; XYZ thirdPt = gcnew XYZ(0, 0, -1);    <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; m_document.FamilyCreate.NewReferencePlane2(bubbleEnd, freeEnd, thirdPt, m_document.ActiveView);    <br />&lt;/code&gt;</p>
