---
layout: "post"
title: "FootPrintRoof.SlopeAngle property value meanings and unit"
date: "2012-07-31 03:31:32"
author: "Joe Ye"
categories:
  - ".NET"
  - "Joe Ye"
  - "Revit"
original_url: "https://adndevblog.typepad.com/aec/2012/07/footprintroofslopeangle-property-value-meanings-and-unit.html "
typepad_basename: "footprintroofslopeangle-property-value-meanings-and-unit"
typepad_status: "Publish"
---

<p>By <a href="http://adndevblog.typepad.com/aec/joe-ye.html">Joe Ye</a></p>  <p><b>Issue</b></p>  <p>I retrieved the slope angle of a footprint roof via API. However the return angle is not as I anticipate. Within the footprint roof editor, for instance,&#160; I can see the slope angle for each side is 30 degree for one footprint roof. However the angle I get via API is 27.64.&#160; Would you please explain what's the reason?</p>  <p>Here is the code fragment I used to read the slope angle.</p>  <div style="font-family: courier new; background: white; color: black; font-size: 8pt">   <p style="margin: 0px"><span style="line-height: 140%">&#160;&#160;&#160; </span><span style="line-height: 140%; color: green">// roofRef variable represents a reference of a picked element</span></p>    <p style="margin: 0px"><span style="line-height: 140%">&#160;&#160;&#160; </span><span style="line-height: 140%; color: #2b91af">FootPrintRoof</span><span style="line-height: 140%"> footPrintRoof = roofRef.Element </span><span style="line-height: 140%; color: blue">as</span><span style="line-height: 140%"> </span><span style="line-height: 140%; color: #2b91af">FootPrintRoof</span><span style="line-height: 140%">;</span></p>    <p style="margin: 0px"><span style="line-height: 140%">&#160;&#160;&#160; </span><span style="line-height: 140%; color: #2b91af">ModelCurveArrArray</span><span style="line-height: 140%"> roofProfile = footPrintRoof.GetProfiles();</span></p>    <p style="margin: 0px">&#160;</p>    <p style="margin: 0px"><span style="line-height: 140%">&#160;&#160;&#160; </span><span style="line-height: 140%; color: blue">string</span><span style="line-height: 140%"> str = </span><span style="line-height: 140%; color: #a31515">&quot;&quot;</span><span style="line-height: 140%">;</span></p>    <p style="margin: 0px">&#160;</p>    <p style="margin: 0px"><span style="line-height: 140%">&#160;&#160;&#160; </span><span style="line-height: 140%; color: blue">foreach</span><span style="line-height: 140%"> (</span><span style="line-height: 140%; color: #2b91af">ModelCurveArray</span><span style="line-height: 140%"> curveArr </span><span style="line-height: 140%; color: blue">in</span><span style="line-height: 140%"> roofProfile)</span></p>    <p style="margin: 0px"><span style="line-height: 140%">&#160;&#160;&#160; {</span></p>    <p style="margin: 0px"><span style="line-height: 140%">&#160;&#160;&#160;&#160;&#160; </span><span style="line-height: 140%; color: blue">foreach</span><span style="line-height: 140%"> (</span><span style="line-height: 140%; color: #2b91af">ModelCurve</span><span style="line-height: 140%"> modelCurve </span><span style="line-height: 140%; color: blue">in</span><span style="line-height: 140%"> curveArr)</span></p>    <p style="margin: 0px"><span style="line-height: 140%">&#160;&#160;&#160;&#160;&#160; {</span></p>    <p style="margin: 0px"><span style="line-height: 140%">&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span style="line-height: 140%; color: blue">double</span><span style="line-height: 140%"> angle = footPrintRoof.get_SlopeAngle(modelCurve);</span></p>    <p style="margin: 0px"><span style="line-height: 140%">&#160;&#160;&#160;&#160;&#160;&#160;&#160; str += </span><span style="line-height: 140%; color: blue">string</span><span style="line-height: 140%">.Format(</span><span style="line-height: 140%; color: #a31515">&quot;Angle of Model Line id: {0} is {1}\n&quot;</span><span style="line-height: 140%">,</span></p>    <p style="margin: 0px"><span style="line-height: 140%">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; modelCurve.Id, angle * 180 / </span><span style="line-height: 140%; color: #2b91af">Math</span><span style="line-height: 140%">.PI);</span></p>    <p style="margin: 0px"><span style="line-height: 140%">&#160;&#160;&#160;&#160;&#160; }</span></p>    <p style="margin: 0px"><span style="line-height: 140%">&#160;&#160;&#160; }</span></p> </div>  <p>&#160;</p>  <p><b>Solution</b></p>  <p>The slope angle obtained by SlopeAngle() property is not in radian, but it is a &quot;slope&quot;. That's the ratio of two sides. eg the slope angle value 0.5 is the result of 0.5''/1''. This is the ratio of the vertical distance and the horizontal distance.</p>  <p>The slope angle in radian can be calculated by Math.Atan() method from the slope value. Accordingly the slope angle in degree can be calculated by multipling the angle in radian and 180/Math.PI.</p>  <p>Here is the revised code to obtain slope angle in degree.</p>  <div style="font-family: courier new; background: white; color: black; font-size: 8pt">   <p style="margin: 0px"><span style="line-height: 140%">&#160;&#160;&#160; </span><span style="line-height: 140%; color: green">// roofRef variable represents a reference of a picked element</span></p>    <p style="margin: 0px"><span style="line-height: 140%">&#160;&#160;&#160; </span><span style="line-height: 140%; color: #2b91af">FootPrintRoof</span><span style="line-height: 140%"> footPrintRoof = roofRef.Element </span><span style="line-height: 140%; color: blue">as</span><span style="line-height: 140%"> </span><span style="line-height: 140%; color: #2b91af">FootPrintRoof</span><span style="line-height: 140%">;</span></p>    <p style="margin: 0px"><span style="line-height: 140%">&#160;&#160;&#160; </span><span style="line-height: 140%; color: #2b91af">ModelCurveArrArray</span><span style="line-height: 140%"> roofProfile = footPrintRoof.GetProfiles();</span></p>    <p style="margin: 0px">&#160;</p>    <p style="margin: 0px"><span style="line-height: 140%">&#160;&#160;&#160; </span><span style="line-height: 140%; color: blue">string</span><span style="line-height: 140%"> str = </span><span style="line-height: 140%; color: #a31515">&quot;&quot;</span><span style="line-height: 140%">;</span></p>    <p style="margin: 0px">&#160;</p>    <p style="margin: 0px"><span style="line-height: 140%">&#160;&#160;&#160; </span><span style="line-height: 140%; color: blue">foreach</span><span style="line-height: 140%"> (</span><span style="line-height: 140%; color: #2b91af">ModelCurveArray</span><span style="line-height: 140%"> curveArr </span><span style="line-height: 140%; color: blue">in</span><span style="line-height: 140%"> roofProfile)</span></p>    <p style="margin: 0px"><span style="line-height: 140%">&#160;&#160;&#160; {</span></p>    <p style="margin: 0px"><span style="line-height: 140%">&#160;&#160;&#160;&#160;&#160; </span><span style="line-height: 140%; color: blue">foreach</span><span style="line-height: 140%"> (</span><span style="line-height: 140%; color: #2b91af">ModelCurve</span><span style="line-height: 140%"> modelCurve </span><span style="line-height: 140%; color: blue">in</span><span style="line-height: 140%"> curveArr)</span></p>    <p style="margin: 0px"><span style="line-height: 140%">&#160;&#160;&#160;&#160;&#160; {</span></p>    <p style="margin: 0px"><span style="line-height: 140%">&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span style="line-height: 140%; color: blue">double</span><span style="line-height: 140%"> angle = footPrintRoof.get_SlopeAngle(modelCurve);</span></p>    <p style="margin: 0px"><span style="line-height: 140%">&#160;&#160;&#160;&#160;&#160;&#160;&#160; str += </span><span style="line-height: 140%; color: blue">string</span><span style="line-height: 140%">.Format(</span><span style="line-height: 140%; color: #a31515">&quot;Angle of Model Line id: {0} is {1}\n&quot;</span><span style="line-height: 140%">,</span></p>    <p style="margin: 0px"><span style="line-height: 140%">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; modelCurve.Id, </span><span style="line-height: 140%; color: #2b91af">Math</span><span style="line-height: 140%">.Atan(angle) * 180 / </span><span style="line-height: 140%; color: #2b91af">Math</span><span style="line-height: 140%">.PI);</span></p>    <p style="margin: 0px">&#160;</p>    <p style="margin: 0px"><span style="line-height: 140%">&#160;&#160;&#160;&#160;&#160; }</span></p>    <p style="margin: 0px"><span style="line-height: 140%">&#160;&#160;&#160; }</span></p>    <p style="margin: 0px"></p> </div>
