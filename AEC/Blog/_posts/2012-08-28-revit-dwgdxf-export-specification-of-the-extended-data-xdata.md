---
layout: "post"
title: "Revit DWG/DXF export: specification of the extended data (xdata)"
date: "2012-08-28 22:34:57"
author: "Mikako Harada"
categories:
  - ".NET"
  - "Mikako Harada"
  - "Revit"
original_url: "https://adndevblog.typepad.com/aec/2012/08/revit-dwgdxf-export-specification-of-the-extended-data-xdata.html "
typepad_basename: "revit-dwgdxf-export-specification-of-the-extended-data-xdata"
typepad_status: "Publish"
---

<p>By <a href="http://adndevblog.typepad.com/aec/mikako-harada/" target="_self" title="Mikako Harada">Mikako Harada</a></p>
<p>A DWG/DXF file exported from&#0160;Revit&#0160;may not be always in a desired form. For example, a customer may wish to have more control over layer and layer colours.&#0160;Developers I talked with seems to be able to use AutoCAD API to post process dwgs to meet such a need.&#0160; One important information that you may want to be aware to do such a process is that dwg files exported from Revit has a extended data (xdata) attached to the AutoCAD entity.&#0160;Here is&#0160;the old DevNotes&#0160;that I wrote&#0160;long, long time ago.&#0160;(In fact, it was probably my first DevNote about&#0160;Revit I wrote pre-Revit&#0160;API... time flies)</p>
<p><strong>Issue</strong></p>
<p>A DWG/DXF file exported from Revit contains Extended Data (or Xdata) attached to each entity.&#0160; Could you explain what these data represent?</p>
<p><strong>Solution</strong></p>
<p>Every DWG (DXF) file created by Revit during the export contains Extended Data (or Xdata). Xdata created by Revit has an associated application name &quot;REVIT.&quot; Each pair of values in the list defines the type identifier code and the value of an object parameter. Here is the definition of the codes and value types of the object parameters:</p>
<p>NAME OF PARAMETER&#0160;&#0160;&#0160; CODE*&#0160; DATA TYPE (GROUP CODE) <br />------------------------------------&#0160;&#0160;&#0160; -----------&#0160; -------------------------------------------<br />Element ID&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;1&#0160;&#0160;&#0160;&#0160;&#0160; Long (1071)<br />Category ID&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;2&#0160;&#0160;&#0160;&#0160;&#0160; Long (1071)<br />Sub-category ID&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;3&#0160;&#0160;&#0160;&#0160;&#0160; Long (1071)<br />Material ID&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;4&#0160;&#0160;&#0160;&#0160;&#0160; Long (1071)<br />Type ID&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;5&#0160;&#0160;&#0160;&#0160;&#0160; Long (1071)<br />Is Material Overridden By Face**&#0160; 6&#0160; N/A***</p>
<p>*) The data type of the code is a 16-bit integer (its group code is 1070).<br />**) This parameter has meaning only for polymesh objects <br />***) There is no explicit value for this parameter. If the record for this parameter exists in the object, its value is true, otherwise false <br />Each object created by Revit export can contain one record for each parameter. The values of parameters are inherited by the hierarchy of the objects (e.g., from instance to block to polymesh). The value defined in the object overrides the inherited value. <br />The following is an example of an entity containing Revit&#39;s extended data in DXF format:</p>
<p>&gt;&gt;&gt;&gt;</p>
<p>AcDbEntity<br />&#0160; 8<br />3D-DOOR-SYMB<br />...</p>
<p>AcDbPolyFaceMesh<br />...<br />Extended entity definition data:<br />1001<br />REVIT<br />1002<br />{<br />1070<br />&#0160;&#0160;&#0160;&#0160; 1<br />1071<br />&#0160;&#0160;&#0160; 52525<br />1070<br />&#0160;&#0160;&#0160;&#0160; 2<br />1071<br />&#0160;&#0160;&#0160; 31431<br />1070<br />&#0160;&#0160;&#0160;&#0160; 3<br />1071<br />&#0160;&#0160;&#0160; 27901<br />1070<br />&#0160;&#0160;&#0160;&#0160; 4<br />1071<br />&#0160;&#0160;&#0160; 66553<br />1070<br />&#0160;&#0160;&#0160;&#0160; 5<br />1071<br />&#0160;&#0160;&#0160; 12345<br />1070<br />&#0160;&#0160;&#0160;&#0160; 6<br />1002<br />}<br />1001</p>
<p>&lt;&lt;&lt;&lt;</p>
<p><br />The meaning of definition is that this polymesh entity came from host object element with element ID equals 52525, category ID 31431, sub-category ID 27901, material ID 66553, type ID 12345, and its material was defined in the Revit&#39;s face itself (not inherited from the object definitions).&#0160; </p>
<p>Named Object Dictionary:<br />-------------------------------------<br />To make the mapping between the category, sub-category and type IDs and their names, corresponding tables is created under the Named Object Dictionary (i.e., AcDbDictioinary of the name &quot;REVIT_DICTIONARY&quot;). REVIT_DICTIONARY contains the following idenifier and the information: </p>
<p>IDENTIFIER NAME&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;IDENTIFIER MEANING<br />---------------------------&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160; ----------------------------------<br />REVIT_CATEGORY_MAPPING&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160; The definition of the mapping between <br />&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160; category IDs and category names<br />REVIT_SUB_CATEGORY_MAPPING&#0160;&#0160;&#0160;&#0160;The definition of the mapping between <br />&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160; sub-category IDs&#0160;and sub-category names<br />REVIT_TYPE_MAPPING&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160; &#0160;The definition of the mapping between&#0160;<br />&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160; &#0160;type IDs and type names</p>
<p>Each table will be represented by Xrecord that is defined as the contents of a resbuf chain. Each entry in the table represents by the pair of data: id of type long and the name of type text.</p>
<p>&#0160;&#0160;</p>
