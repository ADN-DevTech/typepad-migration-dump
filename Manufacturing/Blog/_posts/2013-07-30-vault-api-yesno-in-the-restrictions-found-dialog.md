---
layout: "post"
title: "Vault API - Yes/No in the &quot;Restrictions Found&quot; dialog"
date: "2013-07-30 05:54:20"
author: "Marat Mirgaleev"
categories:
  - "Marat Mirgaleev"
  - "Vault"
original_url: "https://adndevblog.typepad.com/manufacturing/2013/07/vault-api-yesno-in-the-restrictions-found-dialog.html "
typepad_basename: "vault-api-yesno-in-the-restrictions-found-dialog"
typepad_status: "Publish"
---

<p>By <a href="http://adndevblog.typepad.com/manufacturing/marat-mirgaleev.html" target="_self">Marat Mirgaleev</a></p>  <p><strong>Issue</strong></p>  <p><em>I’ve created a very simple code that shall block all attempts to add files to Vault:</em></p>  <div style="font-family: courier new; background: white; color: black; font-size: 8pt">   <p style="margin: 0px"><span style="line-height: 140%">&#160;&#160;&#160; </span><span style="line-height: 140%; color: blue">public</span><span style="line-height: 140%"> </span><span style="line-height: 140%; color: blue">void</span><span style="line-height: 140%"> OnLoad()</span></p>    <p style="margin: 0px"><span style="line-height: 140%">&#160;&#160;&#160; {</span></p>    <p style="margin: 0px"><span style="line-height: 140%">&#160;&#160;&#160;&#160;&#160; </span><span style="line-height: 140%; color: #2b91af">DocumentService</span><span style="line-height: 140%">.AddFileEvents.GetRestrictions += </span></p>    <p style="margin: 0px"><span style="line-height: 140%">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span style="line-height: 140%; color: blue">new</span><span style="line-height: 140%"> </span><span style="line-height: 140%; color: #2b91af">EventHandler</span><span style="line-height: 140%">&lt;</span><span style="line-height: 140%; color: #2b91af">AddFileCommandEventArgs</span><span style="line-height: 140%">&gt;(</span></p>    <p style="margin: 0px"><span style="line-height: 140%">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; AddFileEvents_GetRestrictions);</span></p>    <p style="margin: 0px"><span style="line-height: 140%">&#160;&#160;&#160; }</span></p>    <p style="margin: 0px">&#160;</p>    <p style="margin: 0px"><span style="line-height: 140%">&#160;&#160;&#160; </span><span style="line-height: 140%; color: blue">void</span><span style="line-height: 140%"> AddFileEvents_GetRestrictions(</span><span style="line-height: 140%; color: blue">object</span><span style="line-height: 140%"> sender, </span></p>    <p style="margin: 0px"><span style="line-height: 140%">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span style="line-height: 140%; color: #2b91af">AddFileCommandEventArgs</span><span style="line-height: 140%"> e)</span></p>    <p style="margin: 0px"><span style="line-height: 140%">&#160;&#160;&#160; {</span></p>    <p style="margin: 0px"><span style="line-height: 140%">&#160;&#160;&#160;&#160;&#160; e.AddRestriction(</span></p>    <p style="margin: 0px"><span style="line-height: 140%">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span style="line-height: 140%; color: blue">new</span><span style="line-height: 140%"> </span><span style="line-height: 140%; color: #2b91af">ExtensionRestriction</span><span style="line-height: 140%">(e.FileName, </span><span style="line-height: 140%; color: #a31515">&quot;Error...&quot;</span><span style="line-height: 140%">));</span></p>    <p style="margin: 0px"><span style="line-height: 140%">&#160;&#160;&#160; }</span></p>    <p style="margin: 0px"><span style="line-height: 140%">&#160; }</span></p> </div>  <p><em>It works as expected - it shows this dialog:</em></p>  <p><a href="http://adndevblog.typepad.com/.a/6a0167607c2431970b01901e855678970b-pi"><em></em></a><a href="http://adndevblog.typepad.com/.a/6a0167607c2431970b01901e855687970b-pi"><img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: block; float: none; border-top-width: 0px; border-bottom-width: 0px; margin-left: auto; border-left-width: 0px; margin-right: auto; padding-top: 0px" title="_AddFileBlocked" border="0" alt="_AddFileBlocked" src="/assets/image_58bbe0.jpg" width="479" height="259" /></a></a></a></p>  <p><em>and doesn't add the file.</em></p>  <p><em>But could you describe the difference between the Yes and No buttons here, please?</em></p>  <p><em></em></p>  <p><strong>Solution</strong></p>  <p>In Vault <em>a number </em>of files can be added at once and, when some restriction is raised, this dialog is shown with a “Do you want to continue?” question. So, this prompt is whether or not you want to cancel any <em>remaining work</em> or to <em>continue execution</em>. I.e. if you’ve selected multiple files to add, choosing “Yes” will continue to attempt to add any remaining files.</p>
