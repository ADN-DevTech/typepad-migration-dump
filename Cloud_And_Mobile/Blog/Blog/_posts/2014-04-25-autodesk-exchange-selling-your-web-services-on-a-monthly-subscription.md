---
layout: "post"
title: "Autodesk Exchange: Selling your web services on a monthly subscription"
date: "2014-04-25 03:32:50"
author: "Daniel Du"
categories:
  - "Daniel Du"
original_url: "https://adndevblog.typepad.com/cloud_and_mobile/2014/04/autodesk-exchange-selling-your-web-services-on-a-monthly-subscription.html "
typepad_basename: "autodesk-exchange-selling-your-web-services-on-a-monthly-subscription"
typepad_status: "Publish"
---

<p>By <a href="http://adndevblog.typepad.com/cloud_and_mobile/daniel-du.html">Daniel Du</a></p>  <p>Are you selling web services on Autodesk Exchange? As described in <a href="http://adndevblog.typepad.com/cloud_and_mobile/2014/02/how-autodesk-exchange-ipn-listener-works-and-how-to-create-an-ipn-listener.html">previous blog post</a>, to sell web services on Autodesk Exchange, publishers need to setup an IPN notification listener to handle the IPN notification when users buy and pay for the service. In <a href="http://adndevblog.typepad.com/cloud_and_mobile/2014/02/how-autodesk-exchange-ipn-listener-works-and-how-to-create-an-ipn-listener.html">previous blog post</a>, we introduced how Autodesk exchange IPN listener works and how to create an IPN listener for one-time payment, now Autodesk Exchange supports monthly recurring subscription, it is time to move on. To support subscription term based payment, publisher must have <a href="https://www.paypal.com/webapps/mpp/merchant">PayPal account with Merchant</a>, if you do not have one, please refer to <a href="https://www.paypal.com/webapps/mpp/merchant">PayPal</a> to get one. When you publish a web service and specify the price, a new option is added, now you can sell your web services as subscription. To enable monthly subscription, you can select “monthly recurring subscription” as price type, and update your IPN listener to support term based subscription.</p>  <p><a href="http://adndevblog.typepad.com/.a/6a0167607c2431970b01a3fcf4a522970b-pi"><img title="image" border="0" alt="image" src="/assets/image_9c05ba.jpg" width="486" height="226" /></a></p>  <p>As we described, publisher will get IPN notification when user pays for the web service. For web services with subscription term based payment, when users firstly subscribe and pay for the web service, publisher will get two IPN notifications, one is for sign up of subscription, which contains the recurring period information. Here is an example:</p>  <p><strong>txn_type=subscr_signup</strong>     <br />&amp;subscr_id=I-WM1L0JMPFNS0     <br />&amp;last_name=jennifer     <br />&amp;residence_country=US     <br />&amp;mc_currency=USD     <br />&amp;item_name=Autodesk+360     <br />&amp;business=exchange_seller%40autodesk.com     <br />&amp;amount3=2.00     <br />&amp;recurring=1     <br />&amp;verify_sign=AoPMvZRVuI9Omyn-GftY33o10lJgA.KjMD7AK.PhyRQzlYtIeh4NX.DM     <br />&amp;payer_status=verified&amp;test_ipn=1     <br />&amp;payer_email=exchange_buyer%40autodesk.com     <br />&amp;first_name=liu     <br />&amp;receiver_email=exchange_seller%40autodesk.com     <br />&amp;payer_id=2QDKT9Z2Q9TLN     <br />&amp;reattempt=1     <br /><strong>&amp;item_number=appstore.exchange.autodesk.com%3Aautodesk360%3Aen</strong>     <br /><strong>&amp;subscr_date=23%3A59%3A15+Mar+11%2C+2014+PDT      <br /></strong>&amp;custom=2N9FMZW4CCED     <br />&amp;charset=windows-1252     <br />&amp;notify_version=3.7     <br /><strong>&amp;period3=1+D      <br /></strong>&amp;mc_amount3=2.00     <br />&amp;ipn_track_id=57622697305cc     <br /><strong>&amp;buyer_adsk_account=buyer.name@buyercompany.com</strong></p>  <p>Please pay attention to the parameters in bold, you will notice that it is a subscription signup notification, the subscription data and the period is one day. </p>  <p>Another one is payment notification, an example as below:</p>  <p>transaction_subject=Autodesk+360    <br />&amp;payment_date=23%3A59%3A16+Mar+11%2C+2014+PDT     <br />&amp;<strong>txn_type=subscr_payment</strong>     <br />&amp;subscr_id=I-WM1L0JMPFNS0     <br />&amp;last_name=jennifer&amp;residence_country=US     <br />&amp;item_name=Autodesk+360     <br />&amp;payment_gross=2.00     <br />&amp;mc_currency=USD     <br />&amp;business=exchange_seller%40autodesk.com     <br />&amp;payment_type=instant     <br />&amp;protection_eligibility=Ineligible     <br />&amp;verify_sign=AiUKVjJuKpSwJW93U0WRzNikmlnSAZH-vjJiDg6uQnTAnq-55tq.vHaS     <br />&amp;payer_status=verified     <br />&amp;test_ipn=1     <br />&amp;payer_email=exchange_buyer%40autodesk.com     <br />&amp;txn_id=8N026616DN0752412     <br />&amp;receiver_email=exchange_seller%40autodesk.com     <br />&amp;first_name=liu     <br />&amp;payer_id=2QDKT9Z2Q9TLN     <br />&amp;receiver_id=J4E3KRMDRQB52     <br /><strong>&amp;item_number=appstore.exchange.autodesk.com%3Aautodesk360%3Aen</strong>     <br /><strong>&amp;payment_status=Completed</strong>     <br /><strong>&amp;payment_fee=0.36</strong>     <br />&amp;mc_fee=0.36     <br />&amp;mc_gross=2.00     <br />&amp;custom=2N9FMZW4CCED     <br />&amp;charset=windows-1252     <br />&amp;notify_version=3.7     <br />&amp;ipn_track_id=57622697305cc     <br /><strong>&amp;buyer_adsk_account=buyer.name@buyercompany.com</strong></p>  <p>From this notification, you can see it is a subscr_payment, and the payment is completed. </p>  <p>You can refer to <a href="https://developer.paypal.com/docs/classic/ipn/integration-guide/IPNandPDTVariables/">https://developer.paypal.com/docs/classic/ipn/integration-guide/IPNandPDTVariables/</a> to find the complete document about meaning of different parameters.</p>  <p>A reminder, please do not assume the order you receive the notification is subscription sign up followed by payment. Actually the order of these two IPN notification may be different due to internet latency.</p>
