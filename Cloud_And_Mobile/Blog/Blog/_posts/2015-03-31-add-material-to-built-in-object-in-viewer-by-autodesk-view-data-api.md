---
layout: "post"
title: "Add Material to built-in object in Viewer by Autodesk View &amp; Data API"
date: "2015-03-31 03:42:15"
author: "Xiaodong Liang"
categories:
  - "Javascript"
  - "View and Data API"
  - "Xiaodong Liang"
original_url: "https://adndevblog.typepad.com/cloud_and_mobile/2015/03/add-material-to-built-in-object-in-viewer-by-autodesk-view-data-api.html "
typepad_basename: "add-material-to-built-in-object-in-viewer-by-autodesk-view-data-api"
typepad_status: "Publish"
---

<p>By <a href="http://adndevblog.typepad.com/aec/xiaodong-liang.html" target="_self">Xiaodong Liang</a></p>  <p>As mentioned in this <a href="http://adndevblog.typepad.com/cloud_and_mobile/xiaodong-liang/Behind%20the%20Scene%20of%20View%20of%20Autodesk%20View%20and%20Data%20%E2%80%93%20Fragment">blog</a>, Fragment contains some basic attributes of the object, one of which is material. Similar to <a href="http://adndevblog.typepad.com/cloud_and_mobile/2015/03/transform-built-in-object-in-viewer-by-autodesk-view-data-api.html">transformation</a>, <em><strong>viewer.impl.getRenderProxy(model, fragId)</strong></em> returns the fragment object of Three.js. Through <em><strong>fragment.material</strong></em>, we can change the material of the object.</p>  <p>Generally, we could set the material in a color, or a texture. The code is very straightforward. The follow snippet is a reference. It assumes your code delegate the selection change event and there is an image named brick.jpg in the relative path of your main page.</p>  <p style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none" class="MsoNormal" align="left"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font face="Times New Roman"><font style="font-size: 9pt" color="#008000">//delegate selection change event</font></font></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"></span></p>  <p style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none" class="MsoNormal" align="left"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font face="Times New Roman"><font style="font-size: 9pt" color="#000000">_viewer.addEventListener(Autodesk.Viewing.SELECTION_CHANGED_EVENT,</font></font></span></p>  <p style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none" class="MsoNormal" align="left"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font face="Times New Roman"><font color="#000000"><span style="mso-spacerun: yes"><font style="font-size: 9pt">&#160; </font></span><font style="font-size: 9pt">onSelectedCallback);</font></font></font></span></p>  <p style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none" class="MsoNormal" align="left"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font face="Times New Roman"><font style="font-size: 9pt" color="#000000">&#160;</font></font></span></p>  <p style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none" class="MsoNormal" align="left"><font face="Times New Roman"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font color="#0000ff"><font style="font-size: 9pt">function</font></font></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font style="font-size: 9pt" color="#000000"> onSelectedCallback(event) {</font></span></font></p>  <p style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none" class="MsoNormal" align="left"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font face="Times New Roman"><font style="font-size: 9pt" color="#000000">&#160;</font></font></span></p>  <p style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none" class="MsoNormal" align="left"><font face="Times New Roman"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><span style="mso-spacerun: yes"><font color="#000000"><font style="font-size: 9pt">&#160;&#160;&#160; </font></font></span></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font style="font-size: 9pt" color="#008000">//prepare color material</font></span></font><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"></span></p>  <p style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none" class="MsoNormal" align="left"><font face="Times New Roman"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><span style="mso-spacerun: yes"><font color="#000000"><font style="font-size: 9pt">&#160;&#160;&#160; </font></font></span></span><font style="font-size: 9pt"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font color="#0000ff">var</font></span></font><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font style="font-size: 9pt" color="#000000"> color_diffuse = 0xAB00EE;</font></span></font></p>  <p style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none" class="MsoNormal" align="left"><font face="Times New Roman"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><span style="mso-spacerun: yes"><font color="#000000"><font style="font-size: 9pt">&#160;&#160;&#160; </font></font></span></span><font style="font-size: 9pt"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font color="#0000ff">var</font></span></font><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font style="font-size: 9pt" color="#000000"> color_specular = 0xEEABEE;</font></span></font></p>  <p style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none" class="MsoNormal" align="left"><font face="Times New Roman"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><span style="mso-spacerun: yes"><font color="#000000"><font style="font-size: 9pt">&#160;&#160;&#160; </font></font></span></span><font style="font-size: 9pt"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font color="#0000ff">var</font></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font color="#000000"> colorM = </font></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font color="#0000ff">new</font></span></font><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font style="font-size: 9pt" color="#000000"> THREE.MeshPhongMaterial({</font></span></font></p>  <p style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none" class="MsoNormal" align="left"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font face="Times New Roman"><font color="#000000"><span style="mso-spacerun: yes"><font style="font-size: 9pt">&#160;&#160;&#160; </font></span><font style="font-size: 9pt"><span style="mso-spacerun: yes">&#160;&#160;&#160; </span>color: color_diffuse,</font></font></font></span></p>  <p style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none" class="MsoNormal" align="left"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font face="Times New Roman"><font color="#000000"><span style="mso-spacerun: yes"><font style="font-size: 9pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></span><font style="font-size: 9pt">specular: color_specular</font></font></font></span></p>  <p style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none" class="MsoNormal" align="left"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font face="Times New Roman"><font color="#000000"><span style="mso-spacerun: yes"><font style="font-size: 9pt">&#160;&#160;&#160; </font></span><font style="font-size: 9pt">});</font></font></font></span></p>  <p style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none" class="MsoNormal" align="left"><font face="Times New Roman"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><span style="mso-spacerun: yes"><font color="#000000"><font style="font-size: 9pt">&#160;&#160;&#160; </font></font></span></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font style="font-size: 9pt" color="#008000">//add material to materials collection of viewer</font></span></font><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"></span></p>  <p style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none" class="MsoNormal" align="left"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font face="Times New Roman"><font color="#000000"><span style="mso-spacerun: yes"><font style="font-size: 9pt">&#160;&#160;&#160; </font></span><font style="font-size: 9pt">_viewer.impl.matman().addMaterial(</font></font></font></span></p>  <p style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none" class="MsoNormal" align="left"><font face="Times New Roman"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><span style="mso-spacerun: yes"><font color="#000000"><font style="font-size: 9pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></font></span></span><font style="font-size: 9pt"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font color="#a31515">'ADN-Material-'</font></span></font><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font style="font-size: 9pt" color="#000000"> +</font></span></font></p>  <p style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none" class="MsoNormal" align="left"><font face="Times New Roman"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><span style="mso-spacerun: yes"><font color="#000000"><font style="font-size: 9pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></font></span></span><font style="font-size: 9pt"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font color="#a31515">&quot;common color material&quot;</font></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font color="#000000">,<span style="mso-spacerun: yes">&#160; </span></font></span></font><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font style="font-size: 9pt" color="#008000">// or a GUID</font></span></font><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"></span></p>  <p style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none" class="MsoNormal" align="left"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font face="Times New Roman"><font color="#000000"><span style="mso-spacerun: yes"><font style="font-size: 9pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></span><font style="font-size: 9pt">colorM,</font></font></font></span></p>  <p style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none" class="MsoNormal" align="left"><font face="Times New Roman"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><span style="mso-spacerun: yes"><font color="#000000"><font style="font-size: 9pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></font></span></span><font style="font-size: 9pt"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font color="#0000ff">true</font></span></font><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font style="font-size: 9pt" color="#000000">);</font></span></font></p>  <p style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none" class="MsoNormal" align="left"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font face="Times New Roman"><font style="font-size: 9pt" color="#000000">&#160;</font></font></span></p>  <p style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none" class="MsoNormal" align="left"><font face="Times New Roman"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><span style="mso-spacerun: yes"><font color="#000000"><font style="font-size: 9pt">&#160;&#160;&#160; </font></font></span></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font style="font-size: 9pt" color="#008000">// prepare texture material</font></span></font><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"></span></p>  <p style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none" class="MsoNormal" align="left"><font face="Times New Roman"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><span style="mso-spacerun: yes"><font color="#000000"><font style="font-size: 9pt">&#160;&#160;&#160; </font></font></span></span><font style="font-size: 9pt"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font color="#0000ff">var</font></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font color="#000000"> tex = THREE.ImageUtils.loadTexture(</font></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font color="#a31515">'images/brick.jpg'</font></span></font><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font style="font-size: 9pt" color="#000000">);</font></span></font></p>  <p style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none" class="MsoNormal" align="left"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font face="Times New Roman"><font color="#000000"><span style="mso-spacerun: yes"><font style="font-size: 9pt">&#160;&#160;&#160; </font></span><font style="font-size: 9pt">tex.wrapS = tex.wrapT = THREE.RepeatWrapping;</font></font></font></span></p>  <p style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none" class="MsoNormal" align="left"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font face="Times New Roman"><font color="#000000"><span style="mso-spacerun: yes"><font style="font-size: 9pt">&#160;&#160;&#160; </font></span><font style="font-size: 9pt">tex.repeat.set(2, 2);</font></font></font></span></p>  <p style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none" class="MsoNormal" align="left"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font face="Times New Roman"><font style="font-size: 9pt" color="#000000">&#160;</font></font></span></p>  <p style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none" class="MsoNormal" align="left"><font face="Times New Roman"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><span style="mso-spacerun: yes"><font color="#000000"><font style="font-size: 9pt">&#160;&#160;&#160; </font></font></span></span><font style="font-size: 9pt"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font color="#0000ff">var</font></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font color="#000000"> textureM = </font></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font color="#0000ff">new</font></span></font><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font style="font-size: 9pt" color="#000000"> THREE.MeshPhongMaterial({</font></span></font></p>  <p style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none" class="MsoNormal" align="left"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font face="Times New Roman"><font color="#000000"><span style="mso-spacerun: yes"><font style="font-size: 9pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></span><font style="font-size: 9pt">map: tex</font></font></font></span></p>  <p style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none" class="MsoNormal" align="left"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font face="Times New Roman"><font color="#000000"><span style="mso-spacerun: yes"><font style="font-size: 9pt">&#160;&#160;&#160; </font></span><font style="font-size: 9pt">});</font></font></font></span></p>  <p style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none" class="MsoNormal" align="left"><font face="Times New Roman"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font color="#000000"><span style="mso-spacerun: yes"><font style="font-size: 9pt">&#160;&#160;&#160; </font></span><font style="font-size: 9pt">tex.needsUpdate = </font></font></span><font style="font-size: 9pt"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font color="#0000ff">true</font></span></font><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font style="font-size: 9pt" color="#000000">;</font></span></font></p>  <p style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none" class="MsoNormal" align="left"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font face="Times New Roman"><font style="font-size: 9pt" color="#000000">&#160;</font></font></span></p>  <p style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none" class="MsoNormal" align="left"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font face="Times New Roman"><font style="font-size: 9pt" color="#000000">&#160;</font></font></span></p>  <p style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none" class="MsoNormal" align="left"><font face="Times New Roman"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><span style="mso-spacerun: yes"><font color="#000000"><font style="font-size: 9pt">&#160;&#160;&#160; </font></font></span></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font style="font-size: 9pt" color="#008000">//add material to materials collection of viewer</font></span></font><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"></span></p>  <p style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none" class="MsoNormal" align="left"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font face="Times New Roman"><font color="#000000"><span style="mso-spacerun: yes"><font style="font-size: 9pt">&#160;&#160;&#160; </font></span><font style="font-size: 9pt">_viewer.impl.matman().addMaterial(</font></font></font></span></p>  <p style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none" class="MsoNormal" align="left"><font face="Times New Roman"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><span style="mso-spacerun: yes"><font color="#000000"><font style="font-size: 9pt">&#160;&#160;&#160; </font></font></span></span><font style="font-size: 9pt"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font color="#a31515">'ADN-Material-'</font></span></font><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font style="font-size: 9pt" color="#000000"> +</font></span></font></p>  <p style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none" class="MsoNormal" align="left"><font face="Times New Roman"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><span style="mso-spacerun: yes"><font color="#000000"><font style="font-size: 9pt">&#160;&#160;&#160; </font></font></span></span><font style="font-size: 9pt"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font color="#a31515">&quot;texture material&quot;</font></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font color="#000000">,<span style="mso-spacerun: yes">&#160; </span></font></span></font><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font style="font-size: 9pt" color="#008000">// or a GUID</font></span></font><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"></span></p>  <p style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none" class="MsoNormal" align="left"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font face="Times New Roman"><font color="#000000"><span style="mso-spacerun: yes"><font style="font-size: 9pt">&#160;&#160;&#160;&#160;&#160; </font></span><font style="font-size: 9pt">textureM,</font></font></font></span></p>  <p style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none" class="MsoNormal" align="left"><font face="Times New Roman"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><span style="mso-spacerun: yes"><font color="#000000"><font style="font-size: 9pt">&#160;&#160;&#160;&#160;&#160; </font></font></span></span><font style="font-size: 9pt"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font color="#0000ff">true</font></span></font><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font style="font-size: 9pt" color="#000000">);</font></span></font></p>  <p style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none" class="MsoNormal" align="left"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font face="Times New Roman"><font style="font-size: 9pt" color="#000000">&#160;</font></font></span></p>  <p style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none" class="MsoNormal" align="left"><font face="Times New Roman"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><span style="mso-spacerun: yes"><font color="#000000"><font style="font-size: 9pt">&#160;&#160;&#160; </font></font></span></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font color="#008000"><font style="font-size: 9pt">//get the first fragment of the selection</font><span style="mso-tab-count: 2"><font style="font-size: 9pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></span></font></span></font><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"></span></p>  <p style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none" class="MsoNormal" align="left"><font face="Times New Roman"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><span style="mso-spacerun: yes"><font color="#000000"><font style="font-size: 9pt">&#160;&#160;&#160; </font></font></span></span><font style="font-size: 9pt"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font color="#0000ff">var</font></span></font><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font style="font-size: 9pt" color="#000000"> fragId = event.fragIdsArray[0];</font></span></font></p>  <p style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none" class="MsoNormal" align="left"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font face="Times New Roman"><font style="font-size: 9pt" color="#000000">&#160;</font></font></span></p>  <p style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none" class="MsoNormal" align="left"><font face="Times New Roman"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><span style="mso-spacerun: yes"><font color="#000000"><font style="font-size: 9pt">&#160;&#160;&#160; </font></font></span></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font style="font-size: 9pt" color="#008000">//if nothing is selected </font></span></font><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"></span></p>  <p style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none" class="MsoNormal" align="left"><font face="Times New Roman"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><span style="mso-spacerun: yes"><font color="#000000"><font style="font-size: 9pt">&#160;&#160;&#160; </font></font></span></span><font style="font-size: 9pt"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font color="#0000ff">if</font></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font color="#000000"> (</font></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font color="#0000ff">typeof</font></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font color="#000000"> fragId == </font></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font color="#a31515">'undefined'</font></span></font><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font style="font-size: 9pt" color="#000000">) {</font></span></font></p>  <p style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none" class="MsoNormal" align="left"><font face="Times New Roman"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><span style="mso-spacerun: yes"><font color="#000000"><font style="font-size: 9pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></font></span></span><font style="font-size: 9pt"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font color="#0000ff">return</font></span></font><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font style="font-size: 9pt" color="#000000">;</font></span></font></p>  <p style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none" class="MsoNormal" align="left"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font face="Times New Roman"><font color="#000000"><span style="mso-spacerun: yes"><font style="font-size: 9pt">&#160;&#160;&#160; </font></span><font style="font-size: 9pt">}</font></font></font></span></p>  <p style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none" class="MsoNormal" align="left"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font face="Times New Roman"><font style="font-size: 9pt" color="#000000">&#160;</font></font></span></p>  <p style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none" class="MsoNormal" align="left"><font face="Times New Roman"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><span style="mso-spacerun: yes"><font color="#000000"><font style="font-size: 9pt">&#160;&#160;&#160; </font></font></span></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font color="#008000"><font style="font-size: 9pt">//Note: a fragment might contain sub fragments.</font><span style="mso-spacerun: yes"><font style="font-size: 9pt">&#160; </font></span></font></span></font><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"></span></p>  <p style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none" class="MsoNormal" align="left"><font face="Times New Roman"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><span style="mso-spacerun: yes"><font color="#000000"><font style="font-size: 9pt">&#160;&#160;&#160; </font></font></span></span><font style="font-size: 9pt"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font color="#0000ff">var</font></span></font><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font style="font-size: 9pt" color="#000000"> fragIdsArray = (Array.isArray(fragId) ?</font></span></font></p>  <p style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none" class="MsoNormal" align="left"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font face="Times New Roman"><font color="#000000"><span style="mso-spacerun: yes"><font style="font-size: 9pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></span><font style="font-size: 9pt">fragId :</font></font></font></span></p>  <p style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none" class="MsoNormal" align="left"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font face="Times New Roman"><font color="#000000"><span style="mso-spacerun: yes"><font style="font-size: 9pt">&#160;&#160;&#160;&#160;&#160;&#160; </font></span><font style="font-size: 9pt">[fragId]);</font></font></font></span></p>  <p style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none" class="MsoNormal" align="left"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font face="Times New Roman"><font style="font-size: 9pt" color="#000000">&#160;</font></font></span></p>  <p style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none" class="MsoNormal" align="left"><font face="Times New Roman"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><span style="mso-spacerun: yes"><font color="#000000"><font style="font-size: 9pt">&#160;&#160;&#160; </font></font></span></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font style="font-size: 9pt" color="#008000">//change material of every fragment of the mesh</font></span></font><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"></span></p>  <p style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none" class="MsoNormal" align="left"><font face="Times New Roman"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font color="#000000"><span style="mso-spacerun: yes"><font style="font-size: 9pt">&#160;&#160;&#160; </font></span><font style="font-size: 9pt">fragIdsArray.forEach(</font></font></span><font style="font-size: 9pt"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font color="#0000ff">function</font></span></font><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font style="font-size: 9pt" color="#000000"> (subFragId) {</font></span></font></p>  <p style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none" class="MsoNormal" align="left"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font face="Times New Roman"><font style="font-size: 9pt" color="#000000">&#160;</font></font></span></p>  <p style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none" class="MsoNormal" align="left"><font face="Times New Roman"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><span style="mso-spacerun: yes"><font color="#000000"><font style="font-size: 9pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></font></span></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font style="font-size: 9pt" color="#008000">//get Mesh of this fragment</font></span></font><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"></span></p>  <p style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none" class="MsoNormal" align="left"><font face="Times New Roman"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><span style="mso-spacerun: yes"><font color="#000000"><font style="font-size: 9pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></font></span></span><font style="font-size: 9pt"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font color="#0000ff">var</font></span></font><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font style="font-size: 9pt" color="#000000"> frag = _viewer.impl.getRenderProxy(</font></span></font></p>  <p style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none" class="MsoNormal" align="left"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font face="Times New Roman"><font color="#000000"><span style="mso-spacerun: yes"><font style="font-size: 9pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></span><font style="font-size: 9pt"><span style="mso-spacerun: yes">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span>_viewer,</font></font></font></span></p>  <p style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none" class="MsoNormal" align="left"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font face="Times New Roman"><font color="#000000"><span style="mso-spacerun: yes"><font style="font-size: 9pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></span><font style="font-size: 9pt">subFragId);</font></font></font></span></p>  <p style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none" class="MsoNormal" align="left"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font face="Times New Roman"><font style="font-size: 9pt" color="#000000">&#160;</font></font></span></p>  <p style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none" class="MsoNormal" align="left"><font face="Times New Roman"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><span style="mso-spacerun: yes"><font color="#000000"><font style="font-size: 9pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></font></span></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font style="font-size: 9pt" color="#008000">// or 2 // method we want to test </font></span></font><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"></span></p>  <p style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none" class="MsoNormal" align="left"><font face="Times New Roman"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><span style="mso-spacerun: yes"><font color="#000000"><font style="font-size: 9pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></font></span></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font style="font-size: 9pt" color="#008000">// 1. Color 2. Texture</font></span></font><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"></span></p>  <p style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none" class="MsoNormal" align="left"><font face="Times New Roman"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><span style="mso-spacerun: yes"><font color="#000000"><font style="font-size: 9pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></font></span></span><font style="font-size: 9pt"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font color="#0000ff">var</font></span></font><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font style="font-size: 9pt" color="#000000"> typeofMaterial = 2; </font></span></font></p>  <p style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none" class="MsoNormal" align="left"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font face="Times New Roman"><font style="font-size: 9pt" color="#000000">&#160;</font></font></span></p>  <p style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none" class="MsoNormal" align="left"><font face="Times New Roman"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><span style="mso-spacerun: yes"><font color="#000000"><font style="font-size: 9pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></font></span></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font style="font-size: 9pt" color="#008000">//Method 1: color material </font></span></font><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"></span></p>  <p style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none" class="MsoNormal" align="left"><font face="Times New Roman"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><span style="mso-spacerun: yes"><font color="#000000"><font style="font-size: 9pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></font></span></span><font style="font-size: 9pt"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font color="#0000ff">if</font></span></font><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font style="font-size: 9pt" color="#000000"> (typeofMaterial == 1) {</font></span></font></p>  <p style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none" class="MsoNormal" align="left"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font face="Times New Roman"><font color="#000000"><span style="mso-spacerun: yes"><font style="font-size: 9pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></span><font style="font-size: 9pt">frag.material = colorM;</font></font></font></span></p>  <p style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none" class="MsoNormal" align="left"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font face="Times New Roman"><font color="#000000"><span style="mso-spacerun: yes"><font style="font-size: 9pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></span><font style="font-size: 9pt">}</font></font></font></span></p>  <p style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none" class="MsoNormal" align="left"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font face="Times New Roman"><font style="font-size: 9pt" color="#000000">&#160;</font></font></span></p>  <p style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none" class="MsoNormal" align="left"><font face="Times New Roman"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><span style="mso-spacerun: yes"><font color="#000000"><font style="font-size: 9pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></font></span></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font style="font-size: 9pt" color="#008000">//Method 2: texture material</font></span></font><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"></span></p>  <p style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none" class="MsoNormal" align="left"><font face="Times New Roman"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><span style="mso-spacerun: yes"><font color="#000000"><font style="font-size: 9pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></font></span></span><font style="font-size: 9pt"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font color="#0000ff">else</font></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font color="#000000"> </font></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font color="#0000ff">if</font></span></font><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font style="font-size: 9pt" color="#000000"> (typeofMaterial == 2) {</font></span></font></p>  <p style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none" class="MsoNormal" align="left"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font face="Times New Roman"><font color="#000000"><span style="mso-spacerun: yes"><font style="font-size: 9pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></span><font style="font-size: 9pt">frag.material = textureM;</font></font></font></span></p>  <p style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none" class="MsoNormal" align="left"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font face="Times New Roman"><font color="#000000"><span style="mso-spacerun: yes"><font style="font-size: 9pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></span><font style="font-size: 9pt">}</font></font></font></span></p>  <p style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none" class="MsoNormal" align="left"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font face="Times New Roman"><font style="font-size: 9pt" color="#000000">&#160;</font></font></span></p>  <p style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none" class="MsoNormal" align="left"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font face="Times New Roman"><font color="#000000"><span style="mso-spacerun: yes"><font style="font-size: 9pt">&#160;&#160;&#160; </font></span><font style="font-size: 9pt">});</font></font></font></span></p>  <p style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none" class="MsoNormal" align="left"><font face="Times New Roman"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font color="#000000"><span style="mso-spacerun: yes"><font style="font-size: 9pt">&#160;&#160;&#160; </font></span><font style="font-size: 9pt">_viewer.impl.invalidate(</font></font></span><font style="font-size: 9pt"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font color="#0000ff">true</font></span></font><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font style="font-size: 9pt" color="#000000">);</font></span></font></p>  <p style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none" class="MsoNormal" align="left"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font face="Times New Roman"><font style="font-size: 9pt" color="#000000">&#160;</font></font></span></p>  <p style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none" class="MsoNormal" align="left"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font face="Times New Roman"><font style="font-size: 9pt" color="#000000">}</font></font></span></p>  <p style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none" class="MsoNormal" align="left"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt" lang="EN-US"><font color="#000000" face="Times New Roman"></font></span></p>  <p style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none" class="MsoNormal" align="left"><a href="http://adndevblog.typepad.com/.a/6a0167607c2431970b01b7c76f243b970b-pi"><img style="background-image: none; border-bottom: 0px; border-left: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px" title="image" border="0" alt="image" src="/assets/image_b89f94.jpg" width="323" height="314" /></a></p>
