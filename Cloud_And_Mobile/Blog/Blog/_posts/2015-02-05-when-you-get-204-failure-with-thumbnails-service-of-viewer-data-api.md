---
layout: "post"
title: "When you get 204 failure with Thumbnails Service of Viewer &amp; Data API"
date: "2015-02-05 00:56:48"
author: "Xiaodong Liang"
categories:
  - "View and Data API"
  - "Xiaodong Liang"
original_url: "https://adndevblog.typepad.com/cloud_and_mobile/2015/02/when-you-get-204-failure-with-thumbnails-service-of-viewer-data-api.html "
typepad_basename: "when-you-get-204-failure-with-thumbnails-service-of-viewer-data-api"
typepad_status: "Publish"
---

<p>By <a href="http://adndevblog.typepad.com/aec/xiaodong-liang.html" target="_self">Xiaodong Liang</a></p>  <p>To work with <a href="http://adndevblog.typepad.com/cloud_and_mobile/2015/01/what-is-this-view-data-api-thing-anyway.html">Autodesk Viewer &amp; Data API</a>, the first is the model will need to be uploaded to Autodesk cloud and be translated there. The <a href="http://developer.api.autodesk.com/documentation/v1/vs/vs_quick_start.html">quick start</a> tells more. We also call this process as ‘workflow’' of Viewer &amp; Data API) and provided the demo code in a couple languages on <a href="https://github.com/Developer-Autodesk">Github</a> such as .NET, Python, Android (Java), iOS etc. </p>  <p>API (Rest services) of workflow are much fewer than <a href="http://developer.api.autodesk.com/documentation/v1/vs/viewers/index.html">Client API</a>, but it is very important as client can do nothing if the model is not translated correctly in the cloud.&#160; </p>  <p>Generally, we can use the service <a href="http://developer.api.autodesk.com/documentation/v1/vs/viewing_service.html#get-viewable-status">Status</a> to know how the translation is working. The response Json ‘Status’ and ‘Progress’ indicate it. While sometimes, we like to use service <a href="http://developer.api.autodesk.com/documentation/v1/vs/viewing_service.html#get-thumbnails">Thumbnail</a> to get the snapshot of the model to verify the status, also display it in the gallery, panel etc. </p>  <p>Recently I was ‘lucky’ to hit the a problem when I migrated my sample of workflow:   <br /><a href="https://github.com/Developer-Autodesk/workflow-android-view.and.data.api">workflow-android-view.and.data.api</a>&#160;</p>  <p>The sample can work well earlier last year. However, when I tried to get thumbnail, it failed with the error: 204. The help says:</p>  <ul>   <li><strong>204</strong> – No Content, No thumbnails were generated - even though the transaction is complete</li> </ul>  <p>That normally means the translating (or say registration) does not work well. </p>  <p>I checked the process uploading and translating. Both return 200.&#160; no a clue tells which process is problematic, while the .NET sample works well:   <br /><a href="https://github.com/Developer-Autodesk/workflow-dotnet-winform-view.and.data.api">workflow-dotnet-winform-view.and.data.api</a></p>  <p>Finally, I started to suspect whether the model on the cloud is problematic or not. So I used <a href="http://developer.api.autodesk.com/documentation/v1/vs/oss.html#oss-buckets-api">bucket service</a> to get it back. The syntax is very simple:</p>  <pre><strong>GET /oss/v1/buckets/&lt;bucket name&gt;/objects/&lt;obj name&gt; <br /></strong></pre>

<p>Note: &lt;obj name&gt; is not the urn. There are various ways to call such service. Here is a code snippet of .NET:</p>

<p class="MsoNormal" style="layout-grid-mode: char; margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Calibri"><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-ascii-font-family: calibri; mso-hansi-font-family: calibri; mso-bidi-font-family: consolas; mso-highlight: white; mso-font-kerning: 0pt"><font color="#0000ff"><font style="font-size: 8pt">private</font></font></span><font style="font-size: 8pt"><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-ascii-font-family: calibri; mso-hansi-font-family: calibri; mso-bidi-font-family: consolas; mso-highlight: white; mso-font-kerning: 0pt"><font color="#000000"> </font></span><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-ascii-font-family: calibri; mso-hansi-font-family: calibri; mso-bidi-font-family: consolas; mso-highlight: white; mso-font-kerning: 0pt"><font color="#0000ff">void</font></span><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-ascii-font-family: calibri; mso-hansi-font-family: calibri; mso-bidi-font-family: consolas; mso-highlight: white; mso-font-kerning: 0pt"><font color="#000000"> getObject(</font></span></font><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-ascii-font-family: calibri; mso-hansi-font-family: calibri; mso-bidi-font-family: consolas; mso-highlight: white; mso-font-kerning: 0pt"><font style="font-size: 8pt" color="#000000">)</font></span></font></p>

<p class="MsoNormal" style="layout-grid-mode: char; margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-ascii-font-family: calibri; mso-hansi-font-family: calibri; mso-bidi-font-family: consolas; mso-highlight: white; mso-font-kerning: 0pt"><font face="Calibri"><font style="font-size: 8pt" color="#000000">{ </font></font></span></p>

<p class="MsoNormal" style="layout-grid-mode: char; margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Calibri"><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-ascii-font-family: calibri; mso-hansi-font-family: calibri; mso-bidi-font-family: consolas; mso-highlight: white; mso-font-kerning: 0pt"><span style="mso-spacerun: yes"><font color="#000000"><font style="font-size: 8pt">&#160;&#160;&#160; </font></font></span></span><font style="font-size: 8pt"><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-ascii-font-family: calibri; mso-hansi-font-family: calibri; mso-bidi-font-family: consolas; mso-highlight: white; mso-font-kerning: 0pt"><font color="#0000ff">const</font></span><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-ascii-font-family: calibri; mso-hansi-font-family: calibri; mso-bidi-font-family: consolas; mso-highlight: white; mso-font-kerning: 0pt"><font color="#000000"> </font></span><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-ascii-font-family: calibri; mso-hansi-font-family: calibri; mso-bidi-font-family: consolas; mso-highlight: white; mso-font-kerning: 0pt"><font color="#2b91af">String</font></span><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-ascii-font-family: calibri; mso-hansi-font-family: calibri; mso-bidi-font-family: consolas; mso-highlight: white; mso-font-kerning: 0pt"><font color="#000000"> strClient = </font></span><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-ascii-font-family: calibri; mso-hansi-font-family: calibri; mso-bidi-font-family: consolas; mso-highlight: white; mso-font-kerning: 0pt"><font color="#a31515">&quot;https://developer.api.autodesk.com&quot;</font></span></font><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-ascii-font-family: calibri; mso-hansi-font-family: calibri; mso-bidi-font-family: consolas; mso-highlight: white; mso-font-kerning: 0pt"><font style="font-size: 8pt" color="#000000">;</font></span></font></p>

<p class="MsoNormal" style="layout-grid-mode: char; margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Calibri"><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-ascii-font-family: calibri; mso-hansi-font-family: calibri; mso-bidi-font-family: consolas; mso-highlight: white; mso-font-kerning: 0pt"><span style="mso-spacerun: yes"><font color="#000000"><font style="font-size: 8pt">&#160;&#160;&#160; </font></font></span></span><font style="font-size: 8pt"><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-ascii-font-family: calibri; mso-hansi-font-family: calibri; mso-bidi-font-family: consolas; mso-highlight: white; mso-font-kerning: 0pt"><font color="#2b91af">RestClient</font></span><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-ascii-font-family: calibri; mso-hansi-font-family: calibri; mso-bidi-font-family: consolas; mso-highlight: white; mso-font-kerning: 0pt"><font color="#000000"> _client = </font></span><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-ascii-font-family: calibri; mso-hansi-font-family: calibri; mso-bidi-font-family: consolas; mso-highlight: white; mso-font-kerning: 0pt"><font color="#0000ff">new</font></span><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-ascii-font-family: calibri; mso-hansi-font-family: calibri; mso-bidi-font-family: consolas; mso-highlight: white; mso-font-kerning: 0pt"><font color="#000000"> </font></span><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-ascii-font-family: calibri; mso-hansi-font-family: calibri; mso-bidi-font-family: consolas; mso-highlight: white; mso-font-kerning: 0pt"><font color="#2b91af">RestClient</font></span></font><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-ascii-font-family: calibri; mso-hansi-font-family: calibri; mso-bidi-font-family: consolas; mso-highlight: white; mso-font-kerning: 0pt"><font style="font-size: 8pt" color="#000000">(strClient);</font></span></font></p>

<p class="MsoNormal" style="layout-grid-mode: char; margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-ascii-font-family: calibri; mso-hansi-font-family: calibri; mso-bidi-font-family: consolas; mso-highlight: white; mso-font-kerning: 0pt"><font face="Calibri"><font style="font-size: 8pt" color="#000000">&#160;</font></font></span></p>

<p class="MsoNormal" style="layout-grid-mode: char; margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Calibri"><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-ascii-font-family: calibri; mso-hansi-font-family: calibri; mso-bidi-font-family: consolas; mso-highlight: white; mso-font-kerning: 0pt"><span style="mso-spacerun: yes"><font color="#000000"><font style="font-size: 8pt">&#160;&#160;&#160; </font></font></span></span><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-ascii-font-family: calibri; mso-hansi-font-family: calibri; mso-bidi-font-family: consolas; mso-highlight: white; mso-font-kerning: 0pt"><font style="font-size: 8pt" color="#008000">/////</font></span></font><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-ascii-font-family: calibri; mso-hansi-font-family: calibri; mso-bidi-font-family: consolas; mso-highlight: white; mso-font-kerning: 0pt"></span></p>

<p class="MsoNormal" style="layout-grid-mode: char; margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Calibri"><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-ascii-font-family: calibri; mso-hansi-font-family: calibri; mso-bidi-font-family: consolas; mso-highlight: white; mso-font-kerning: 0pt"><span style="mso-spacerun: yes"><font color="#000000"><font style="font-size: 8pt">&#160;&#160;&#160; </font></font></span></span><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-ascii-font-family: calibri; mso-hansi-font-family: calibri; mso-bidi-font-family: consolas; mso-highlight: white; mso-font-kerning: 0pt"><font style="font-size: 8pt" color="#008000">// the processes of get token and set token are ignored.</font></span></font><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-ascii-font-family: calibri; mso-hansi-font-family: calibri; mso-bidi-font-family: consolas; mso-highlight: white; mso-font-kerning: 0pt"></span></p>

<p class="MsoNormal" style="layout-grid-mode: char; margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Calibri"><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-ascii-font-family: calibri; mso-hansi-font-family: calibri; mso-bidi-font-family: consolas; mso-highlight: white; mso-font-kerning: 0pt"><span style="mso-spacerun: yes"><font color="#000000"><font style="font-size: 8pt">&#160;&#160;&#160; </font></font></span></span><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-ascii-font-family: calibri; mso-hansi-font-family: calibri; mso-bidi-font-family: consolas; mso-highlight: white; mso-font-kerning: 0pt"><font style="font-size: 8pt" color="#008000">// refer to https://github.com/Developer-Autodesk/workflow-dotnet-winform-view.and.data.api</font></span></font><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-ascii-font-family: calibri; mso-hansi-font-family: calibri; mso-bidi-font-family: consolas; mso-highlight: white; mso-font-kerning: 0pt"></span></p>

<p class="MsoNormal" style="layout-grid-mode: char; margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Calibri"><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-ascii-font-family: calibri; mso-hansi-font-family: calibri; mso-bidi-font-family: consolas; mso-highlight: white; mso-font-kerning: 0pt"><span style="mso-spacerun: yes"><font color="#000000"><font style="font-size: 8pt">&#160;&#160;&#160; </font></font></span></span><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-ascii-font-family: calibri; mso-hansi-font-family: calibri; mso-bidi-font-family: consolas; mso-highlight: white; mso-font-kerning: 0pt"><font style="font-size: 8pt" color="#008000">/////</font></span></font><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-ascii-font-family: calibri; mso-hansi-font-family: calibri; mso-bidi-font-family: consolas; mso-highlight: white; mso-font-kerning: 0pt"></span></p>

<p class="MsoNormal" style="layout-grid-mode: char; margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-ascii-font-family: calibri; mso-hansi-font-family: calibri; mso-bidi-font-family: consolas; mso-highlight: white; mso-font-kerning: 0pt"><font face="Calibri"><font style="font-size: 8pt" color="#000000">&#160;</font></font></span></p>

<p class="MsoNormal" style="layout-grid-mode: char; margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Calibri"><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-ascii-font-family: calibri; mso-hansi-font-family: calibri; mso-bidi-font-family: consolas; mso-highlight: white; mso-font-kerning: 0pt"><span style="mso-spacerun: yes"><font color="#000000"><font style="font-size: 8pt">&#160;&#160;&#160; </font></font></span></span><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-ascii-font-family: calibri; mso-hansi-font-family: calibri; mso-bidi-font-family: consolas; mso-highlight: white; mso-font-kerning: 0pt"><font style="font-size: 8pt" color="#008000">// the model name</font></span></font><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-ascii-font-family: calibri; mso-hansi-font-family: calibri; mso-bidi-font-family: consolas; mso-highlight: white; mso-font-kerning: 0pt"></span></p>

<p class="MsoNormal" style="layout-grid-mode: char; margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Calibri"><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-ascii-font-family: calibri; mso-hansi-font-family: calibri; mso-bidi-font-family: consolas; mso-highlight: white; mso-font-kerning: 0pt"><span style="mso-spacerun: yes"><font color="#000000"><font style="font-size: 8pt">&#160;&#160;&#160; </font></font></span></span><font style="font-size: 8pt"><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-ascii-font-family: calibri; mso-hansi-font-family: calibri; mso-bidi-font-family: consolas; mso-highlight: white; mso-font-kerning: 0pt"><font color="#0000ff">string</font></span><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-ascii-font-family: calibri; mso-hansi-font-family: calibri; mso-bidi-font-family: consolas; mso-highlight: white; mso-font-kerning: 0pt"><font color="#000000"> myModelName;</font></span></font><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-ascii-font-family: calibri; mso-hansi-font-family: calibri; mso-bidi-font-family: consolas; mso-highlight: white; mso-font-kerning: 0pt"><font style="font-size: 8pt" color="#008000">// = &quot;clashtest.nwd&quot;;</font></span></font><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-ascii-font-family: calibri; mso-hansi-font-family: calibri; mso-bidi-font-family: consolas; mso-highlight: white; mso-font-kerning: 0pt"></span></p>

<p class="MsoNormal" style="layout-grid-mode: char; margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-ascii-font-family: calibri; mso-hansi-font-family: calibri; mso-bidi-font-family: consolas; mso-highlight: white; mso-font-kerning: 0pt"><font face="Calibri"><font style="font-size: 8pt" color="#000000">&#160;</font></font></span></p>

<p class="MsoNormal" style="layout-grid-mode: char; margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Calibri"><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-ascii-font-family: calibri; mso-hansi-font-family: calibri; mso-bidi-font-family: consolas; mso-highlight: white; mso-font-kerning: 0pt"><span style="mso-spacerun: yes"><font color="#000000"><font style="font-size: 8pt">&#160;&#160;&#160; </font></font></span></span><font style="font-size: 8pt"><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-ascii-font-family: calibri; mso-hansi-font-family: calibri; mso-bidi-font-family: consolas; mso-highlight: white; mso-font-kerning: 0pt"><font color="#2b91af">RestRequest</font></span><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-ascii-font-family: calibri; mso-hansi-font-family: calibri; mso-bidi-font-family: consolas; mso-highlight: white; mso-font-kerning: 0pt"><font color="#000000"> viewerReq = </font></span><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-ascii-font-family: calibri; mso-hansi-font-family: calibri; mso-bidi-font-family: consolas; mso-highlight: white; mso-font-kerning: 0pt"><font color="#0000ff">new</font></span><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-ascii-font-family: calibri; mso-hansi-font-family: calibri; mso-bidi-font-family: consolas; mso-highlight: white; mso-font-kerning: 0pt"><font color="#000000"> </font></span><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-ascii-font-family: calibri; mso-hansi-font-family: calibri; mso-bidi-font-family: consolas; mso-highlight: white; mso-font-kerning: 0pt"><font color="#2b91af">RestRequest</font></span></font><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-ascii-font-family: calibri; mso-hansi-font-family: calibri; mso-bidi-font-family: consolas; mso-highlight: white; mso-font-kerning: 0pt"><font style="font-size: 8pt" color="#000000">();</font></span></font></p>

<p class="MsoNormal" style="layout-grid-mode: char; margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Calibri"><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-ascii-font-family: calibri; mso-hansi-font-family: calibri; mso-bidi-font-family: consolas; mso-highlight: white; mso-font-kerning: 0pt"><span style="mso-spacerun: yes"><font color="#000000"><font style="font-size: 8pt">&#160;&#160;&#160; </font></font></span></span><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-ascii-font-family: calibri; mso-hansi-font-family: calibri; mso-bidi-font-family: consolas; mso-highlight: white; mso-font-kerning: 0pt"><font style="font-size: 8pt" color="#008000">//service of download file</font></span></font><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-ascii-font-family: calibri; mso-hansi-font-family: calibri; mso-bidi-font-family: consolas; mso-highlight: white; mso-font-kerning: 0pt"></span></p>

<p class="MsoNormal" style="layout-grid-mode: char; margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Calibri"><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-ascii-font-family: calibri; mso-hansi-font-family: calibri; mso-bidi-font-family: consolas; mso-highlight: white; mso-font-kerning: 0pt"><font color="#000000"><span style="mso-spacerun: yes"><font style="font-size: 8pt">&#160;&#160;&#160; </font></span><font style="font-size: 8pt">viewerReq.Resource = </font></font></span><font style="font-size: 8pt"><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-ascii-font-family: calibri; mso-hansi-font-family: calibri; mso-bidi-font-family: consolas; mso-highlight: white; mso-font-kerning: 0pt"><font color="#a31515">&quot;oss/v1/buckets/xiaodongtestbucket/objects/&quot;</font></span></font><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-ascii-font-family: calibri; mso-hansi-font-family: calibri; mso-bidi-font-family: consolas; mso-highlight: white; mso-font-kerning: 0pt"><font style="font-size: 8pt" color="#000000"> + myModelName;</font></span></font></p>

<p class="MsoNormal" style="layout-grid-mode: char; margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-ascii-font-family: calibri; mso-hansi-font-family: calibri; mso-bidi-font-family: consolas; mso-highlight: white; mso-font-kerning: 0pt"><font face="Calibri"><font style="font-size: 8pt" color="#000000">&#160;</font></font></span></p>

<p class="MsoNormal" style="layout-grid-mode: char; margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Calibri"><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-ascii-font-family: calibri; mso-hansi-font-family: calibri; mso-bidi-font-family: consolas; mso-highlight: white; mso-font-kerning: 0pt"><font color="#000000"><span style="mso-spacerun: yes"><font style="font-size: 8pt">&#160;&#160;&#160; </font></span><font style="font-size: 8pt">viewerReq.Method = </font></font></span><font style="font-size: 8pt"><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-ascii-font-family: calibri; mso-hansi-font-family: calibri; mso-bidi-font-family: consolas; mso-highlight: white; mso-font-kerning: 0pt"><font color="#2b91af">Method</font></span></font><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-ascii-font-family: calibri; mso-hansi-font-family: calibri; mso-bidi-font-family: consolas; mso-highlight: white; mso-font-kerning: 0pt"><font style="font-size: 8pt" color="#000000">.GET;</font></span></font></p>

<p class="MsoNormal" style="layout-grid-mode: char; margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Calibri"><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-ascii-font-family: calibri; mso-hansi-font-family: calibri; mso-bidi-font-family: consolas; mso-highlight: white; mso-font-kerning: 0pt"><font color="#000000"><span style="mso-spacerun: yes"><font style="font-size: 8pt">&#160;&#160;&#160; </font></span><font style="font-size: 8pt">viewerReq.AddParameter(</font></font></span><font style="font-size: 8pt"><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-ascii-font-family: calibri; mso-hansi-font-family: calibri; mso-bidi-font-family: consolas; mso-highlight: white; mso-font-kerning: 0pt"><font color="#a31515">&quot;Authorization&quot;</font></span></font><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-ascii-font-family: calibri; mso-hansi-font-family: calibri; mso-bidi-font-family: consolas; mso-highlight: white; mso-font-kerning: 0pt"><font style="font-size: 8pt" color="#000000">, </font></span></font></p>

<p class="MsoNormal" style="layout-grid-mode: char; margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Calibri"><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-ascii-font-family: calibri; mso-hansi-font-family: calibri; mso-bidi-font-family: consolas; mso-highlight: white; mso-font-kerning: 0pt"><span style="mso-spacerun: yes"><font color="#000000"><font style="font-size: 8pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></font></span></span><font style="font-size: 8pt"><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-ascii-font-family: calibri; mso-hansi-font-family: calibri; mso-bidi-font-family: consolas; mso-highlight: white; mso-font-kerning: 0pt"><font color="#a31515">&quot;Bearer &quot;</font></span></font><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-ascii-font-family: calibri; mso-hansi-font-family: calibri; mso-bidi-font-family: consolas; mso-highlight: white; mso-font-kerning: 0pt"><font style="font-size: 8pt" color="#000000"> + </font></span></font></p>

<p class="MsoNormal" style="layout-grid-mode: char; margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-ascii-font-family: calibri; mso-hansi-font-family: calibri; mso-bidi-font-family: consolas; mso-highlight: white; mso-font-kerning: 0pt"><font face="Calibri"><font color="#000000"><span style="mso-spacerun: yes"><font style="font-size: 8pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></span><font style="font-size: 8pt">_token, </font></font></font></span></p>

<p class="MsoNormal" style="layout-grid-mode: char; margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Calibri"><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-ascii-font-family: calibri; mso-hansi-font-family: calibri; mso-bidi-font-family: consolas; mso-highlight: white; mso-font-kerning: 0pt"><font color="#000000"><span style="mso-spacerun: yes"><font style="font-size: 8pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></span><font style="font-size: 8pt"><span style="mso-spacerun: yes">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span></font></font></span><font style="font-size: 8pt"><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-ascii-font-family: calibri; mso-hansi-font-family: calibri; mso-bidi-font-family: consolas; mso-highlight: white; mso-font-kerning: 0pt"><font color="#2b91af">ParameterType</font></span></font><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-ascii-font-family: calibri; mso-hansi-font-family: calibri; mso-bidi-font-family: consolas; mso-highlight: white; mso-font-kerning: 0pt"><font style="font-size: 8pt" color="#000000">.HttpHeader);</font></span></font></p>

<p class="MsoNormal" style="layout-grid-mode: char; margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-ascii-font-family: calibri; mso-hansi-font-family: calibri; mso-bidi-font-family: consolas; mso-highlight: white; mso-font-kerning: 0pt"><font face="Calibri"><font style="font-size: 8pt" color="#000000">&#160;</font></font></span></p>

<p class="MsoNormal" style="layout-grid-mode: char; margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-ascii-font-family: calibri; mso-hansi-font-family: calibri; mso-bidi-font-family: consolas; mso-highlight: white; mso-font-kerning: 0pt"><font face="Calibri"><font style="font-size: 8pt" color="#000000">&#160;</font></font></span></p>

<p class="MsoNormal" style="layout-grid-mode: char; margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Calibri"><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-ascii-font-family: calibri; mso-hansi-font-family: calibri; mso-bidi-font-family: consolas; mso-highlight: white; mso-font-kerning: 0pt"><span style="mso-spacerun: yes"><font color="#000000"><font style="font-size: 8pt">&#160;&#160;&#160; </font></font></span></span><font style="font-size: 8pt"><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-ascii-font-family: calibri; mso-hansi-font-family: calibri; mso-bidi-font-family: consolas; mso-highlight: white; mso-font-kerning: 0pt"><font color="#2b91af">IRestResponse</font></span></font><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-ascii-font-family: calibri; mso-hansi-font-family: calibri; mso-bidi-font-family: consolas; mso-highlight: white; mso-font-kerning: 0pt"><font style="font-size: 8pt" color="#000000"> viewerResp = _client.Execute(viewerReq);</font></span></font></p>

<p class="MsoNormal" style="layout-grid-mode: char; margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-ascii-font-family: calibri; mso-hansi-font-family: calibri; mso-bidi-font-family: consolas; mso-highlight: white; mso-font-kerning: 0pt"><span style="mso-spacerun: yes"><font face="Calibri"><font style="font-size: 8pt" color="#000000">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></font></span></span></p>

<p class="MsoNormal" style="layout-grid-mode: char; margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Calibri"><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-ascii-font-family: calibri; mso-hansi-font-family: calibri; mso-bidi-font-family: consolas; mso-highlight: white; mso-font-kerning: 0pt"><span style="mso-spacerun: yes"><font color="#000000"><font style="font-size: 8pt">&#160;&#160;&#160; </font></font></span></span><font style="font-size: 8pt"><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-ascii-font-family: calibri; mso-hansi-font-family: calibri; mso-bidi-font-family: consolas; mso-highlight: white; mso-font-kerning: 0pt"><font color="#0000ff">if</font></span><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-ascii-font-family: calibri; mso-hansi-font-family: calibri; mso-bidi-font-family: consolas; mso-highlight: white; mso-font-kerning: 0pt"><font color="#000000"> (viewerResp.StatusCode == System.Net.</font></span><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-ascii-font-family: calibri; mso-hansi-font-family: calibri; mso-bidi-font-family: consolas; mso-highlight: white; mso-font-kerning: 0pt"><font color="#2b91af">HttpStatusCode</font></span></font><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-ascii-font-family: calibri; mso-hansi-font-family: calibri; mso-bidi-font-family: consolas; mso-highlight: white; mso-font-kerning: 0pt"><font style="font-size: 8pt" color="#000000">.OK)</font></span></font></p>

<p class="MsoNormal" style="layout-grid-mode: char; margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-ascii-font-family: calibri; mso-hansi-font-family: calibri; mso-bidi-font-family: consolas; mso-highlight: white; mso-font-kerning: 0pt"><font face="Calibri"><font color="#000000"><span style="mso-spacerun: yes"><font style="font-size: 8pt">&#160;&#160;&#160; </font></span><font style="font-size: 8pt">{</font></font></font></span></p>

<p class="MsoNormal" style="layout-grid-mode: char; margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Calibri"><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-ascii-font-family: calibri; mso-hansi-font-family: calibri; mso-bidi-font-family: consolas; mso-highlight: white; mso-font-kerning: 0pt"><span style="mso-spacerun: yes"><font color="#000000"><font style="font-size: 8pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></font></span></span><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-ascii-font-family: calibri; mso-hansi-font-family: calibri; mso-bidi-font-family: consolas; mso-highlight: white; mso-font-kerning: 0pt"><font style="font-size: 8pt" color="#008000">//download the file</font></span></font><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-ascii-font-family: calibri; mso-hansi-font-family: calibri; mso-bidi-font-family: consolas; mso-highlight: white; mso-font-kerning: 0pt"></span></p>

<p class="MsoNormal" style="layout-grid-mode: char; margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Calibri"><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-ascii-font-family: calibri; mso-hansi-font-family: calibri; mso-bidi-font-family: consolas; mso-highlight: white; mso-font-kerning: 0pt"><span style="mso-spacerun: yes"><font color="#000000"><font style="font-size: 8pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></font></span></span><font style="font-size: 8pt"><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-ascii-font-family: calibri; mso-hansi-font-family: calibri; mso-bidi-font-family: consolas; mso-highlight: white; mso-font-kerning: 0pt"><font color="#2b91af">MemoryStream</font></span><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-ascii-font-family: calibri; mso-hansi-font-family: calibri; mso-bidi-font-family: consolas; mso-highlight: white; mso-font-kerning: 0pt"><font color="#000000"> ms = </font></span><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-ascii-font-family: calibri; mso-hansi-font-family: calibri; mso-bidi-font-family: consolas; mso-highlight: white; mso-font-kerning: 0pt"><font color="#0000ff">new</font></span><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-ascii-font-family: calibri; mso-hansi-font-family: calibri; mso-bidi-font-family: consolas; mso-highlight: white; mso-font-kerning: 0pt"><font color="#000000"> </font></span><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-ascii-font-family: calibri; mso-hansi-font-family: calibri; mso-bidi-font-family: consolas; mso-highlight: white; mso-font-kerning: 0pt"><font color="#2b91af">MemoryStream</font></span></font><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-ascii-font-family: calibri; mso-hansi-font-family: calibri; mso-bidi-font-family: consolas; mso-highlight: white; mso-font-kerning: 0pt"><font style="font-size: 8pt" color="#000000">(viewerResp.RawBytes);</font></span></font></p>

<p class="MsoNormal" style="layout-grid-mode: char; margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Calibri"><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-ascii-font-family: calibri; mso-hansi-font-family: calibri; mso-bidi-font-family: consolas; mso-highlight: white; mso-font-kerning: 0pt"><span style="mso-spacerun: yes"><font color="#000000"><font style="font-size: 8pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></font></span></span><font style="font-size: 8pt"><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-ascii-font-family: calibri; mso-hansi-font-family: calibri; mso-bidi-font-family: consolas; mso-highlight: white; mso-font-kerning: 0pt"><font color="#2b91af">FileStream</font></span><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-ascii-font-family: calibri; mso-hansi-font-family: calibri; mso-bidi-font-family: consolas; mso-highlight: white; mso-font-kerning: 0pt"><font color="#000000"> dumpFile = </font></span><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-ascii-font-family: calibri; mso-hansi-font-family: calibri; mso-bidi-font-family: consolas; mso-highlight: white; mso-font-kerning: 0pt"><font color="#0000ff">new</font></span><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-ascii-font-family: calibri; mso-hansi-font-family: calibri; mso-bidi-font-family: consolas; mso-highlight: white; mso-font-kerning: 0pt"><font color="#000000"> </font></span><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-ascii-font-family: calibri; mso-hansi-font-family: calibri; mso-bidi-font-family: consolas; mso-highlight: white; mso-font-kerning: 0pt"><font color="#2b91af">FileStream</font></span><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-ascii-font-family: calibri; mso-hansi-font-family: calibri; mso-bidi-font-family: consolas; mso-highlight: white; mso-font-kerning: 0pt"><font color="#000000">(</font></span><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-ascii-font-family: calibri; mso-hansi-font-family: calibri; mso-bidi-font-family: consolas; mso-highlight: white; mso-font-kerning: 0pt"><font color="#a31515">&quot;c:\\temp\\&quot;</font></span></font><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-ascii-font-family: calibri; mso-hansi-font-family: calibri; mso-bidi-font-family: consolas; mso-highlight: white; mso-font-kerning: 0pt"><font style="font-size: 8pt" color="#000000"> + myModelName, </font></span></font></p>

<p class="MsoNormal" style="layout-grid-mode: char; margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Calibri"><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-ascii-font-family: calibri; mso-hansi-font-family: calibri; mso-bidi-font-family: consolas; mso-highlight: white; mso-font-kerning: 0pt"><span style="mso-spacerun: yes"><font color="#000000"><font style="font-size: 8pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></font></span></span><font style="font-size: 8pt"><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-ascii-font-family: calibri; mso-hansi-font-family: calibri; mso-bidi-font-family: consolas; mso-highlight: white; mso-font-kerning: 0pt"><font color="#2b91af">FileMode</font></span></font><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-ascii-font-family: calibri; mso-hansi-font-family: calibri; mso-bidi-font-family: consolas; mso-highlight: white; mso-font-kerning: 0pt"><font style="font-size: 8pt" color="#000000">.Create, </font></span></font></p>

<p class="MsoNormal" style="layout-grid-mode: char; margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Calibri"><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-ascii-font-family: calibri; mso-hansi-font-family: calibri; mso-bidi-font-family: consolas; mso-highlight: white; mso-font-kerning: 0pt"><span style="mso-spacerun: yes"><font color="#000000"><font style="font-size: 8pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></font></span></span><font style="font-size: 8pt"><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-ascii-font-family: calibri; mso-hansi-font-family: calibri; mso-bidi-font-family: consolas; mso-highlight: white; mso-font-kerning: 0pt"><font color="#2b91af">FileAccess</font></span></font><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-ascii-font-family: calibri; mso-hansi-font-family: calibri; mso-bidi-font-family: consolas; mso-highlight: white; mso-font-kerning: 0pt"><font style="font-size: 8pt" color="#000000">.ReadWrite);</font></span></font></p>

<p class="MsoNormal" style="layout-grid-mode: char; margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-ascii-font-family: calibri; mso-hansi-font-family: calibri; mso-bidi-font-family: consolas; mso-highlight: white; mso-font-kerning: 0pt"><font face="Calibri"><font color="#000000"><span style="mso-spacerun: yes"><font style="font-size: 8pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></span><font style="font-size: 8pt">ms.WriteTo(dumpFile);</font></font></font></span></p>

<p class="MsoNormal" style="layout-grid-mode: char; margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-ascii-font-family: calibri; mso-hansi-font-family: calibri; mso-bidi-font-family: consolas; mso-highlight: white; mso-font-kerning: 0pt"><font face="Calibri"><font color="#000000"><span style="mso-spacerun: yes"><font style="font-size: 8pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></span><font style="font-size: 8pt">ms.Close();</font></font></font></span></p>

<p class="MsoNormal" style="layout-grid-mode: char; margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-ascii-font-family: calibri; mso-hansi-font-family: calibri; mso-bidi-font-family: consolas; mso-highlight: white; mso-font-kerning: 0pt"><font face="Calibri"><font color="#000000"><span style="mso-spacerun: yes"><font style="font-size: 8pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></span><font style="font-size: 8pt">dumpFile.Close(); </font></font></font></span></p>

<p class="MsoNormal" style="layout-grid-mode: char; margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-ascii-font-family: calibri; mso-hansi-font-family: calibri; mso-bidi-font-family: consolas; mso-highlight: white; mso-font-kerning: 0pt"><font face="Calibri"><font color="#000000"><span style="mso-spacerun: yes"><font style="font-size: 8pt">&#160;&#160;&#160; </font></span><font style="font-size: 8pt">}</font></font></font></span></p>

<p class="MsoNormal" style="layout-grid-mode: char; margin: 0cm 0cm 0pt; text-justify: inter-ideograph; line-height: normal" align="justify"><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; text-align: justify; text-justify: inter-ideograph; mso-ascii-font-family: calibri; mso-hansi-font-family: calibri; mso-bidi-font-family: consolas; mso-highlight: white; mso-font-kerning: 0pt"><font face="Calibri"><font style="font-size: 8pt" color="#000000">}</font></font></span><span lang="EN-US" style="text-align: justify; text-justify: inter-ideograph; mso-ascii-font-family: calibri; mso-hansi-font-family: calibri"></span></p>

<p>It really proved my guess. The model in the cloud is actually corrupted. That is why translating does not work well. </p>

<p>After a couple of investigation, the issue is: the&#160; sample uploaded the model in a format of multi-parts, however <u>uploading service does not accept the content of multi-part,</u> though the codes have explicitly set it as “application/stream”. I guess this restriction was not so strict, so the code worked in the past.</p>

<p>It would not mean all 204 error is because of multi-parts, but at least you could check uploading code firstly when you get 204. And the downloading would help you sometimes if you want to analyze the uploading. </p>
