---
layout: "post"
title: "Windows Azure CloudBlobContainer.CreateIfNotExist : One of the request inputs is out of range."
date: "2012-08-27 01:30:14"
author: "Daniel Du"
categories:
  - "Azure"
  - "Cloud"
  - "Daniel Du"
  - "Storage"
original_url: "https://adndevblog.typepad.com/cloud_and_mobile/2012/08/windows-azure-cloudblobcontainercreateifnotexist-one-of-the-request-inputs-is-out-of-range.html "
typepad_basename: "windows-azure-cloudblobcontainercreateifnotexist-one-of-the-request-inputs-is-out-of-range"
typepad_status: "Publish"
---

<p>By <a href="http://adndevblog.typepad.com/cloud_and_mobile/daniel-du.html">Daniel Du</a></p>  <p>I am working on my Blob storage sample of windows Azure and I get an exception as below when I create a blob container. </p>  <p><em>“One of the request inputs is out of range”</em></p>  <p><a href="http://adndevblog.typepad.com/.a/6a0167607c2431970b017617758cbc970c-pi"><img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="image" border="0" alt="image" src="/assets/image_81b803.jpg" width="467" height="268" /></a></p>  <p><em>The code is pretty simple, </em></p>  <div style="font-family: ; background: white; color: ">   <p style="margin: 0px"><font face="Courier New"><span style="line-height: 11pt"><font color="#000000"><font style="font-size: 8pt">&#160;&#160;&#160; </font></font></span><font style="font-size: 8pt"><span style="line-height: 11pt; color: "><font color="#0000ff">private</font></span><span style="line-height: 11pt"><font color="#000000"> </font></span><span style="line-height: 11pt; color: "><font color="#0000ff">void</font></span></font><span style="line-height: 11pt"><font style="font-size: 8pt" color="#000000"> EnsureContainnerExits()</font></span></font></p>    <p style="margin: 0px"><span style="line-height: 11pt"><font face="Courier New"><font style="font-size: 8pt" color="#000000">&#160;&#160;&#160; {</font></font></span></p>    <p style="margin: 0px"><font face="Courier New"><span style="line-height: 11pt"><font color="#000000"><font style="font-size: 8pt">&#160;&#160;&#160;&#160;&#160; </font></font></span><font style="font-size: 8pt"><span style="line-height: 11pt; color: "><font color="#0000ff">var</font></span></font><span style="line-height: 11pt"><font style="font-size: 8pt" color="#000000"> container = GetContainner();</font></span></font></p>    <p style="margin: 0px"><font face="Courier New"><font style="font-size: 8pt" color="#000000">&#160;</font></font></p>    <p style="margin: 0px"><span style="line-height: 11pt"><font face="Courier New"><font style="font-size: 8pt" color="#000000">&#160;&#160;&#160;&#160;&#160; container.CreateIfNotExist();//exception</font></font></span></p>    <p style="margin: 0px"><font face="Courier New"><font style="font-size: 8pt" color="#000000">&#160;</font></font></p>    <p style="margin: 0px"><font face="Courier New"><span style="line-height: 11pt"><font color="#000000"><font style="font-size: 8pt">&#160;&#160;&#160;&#160;&#160; </font></font></span><font style="font-size: 8pt"><span style="line-height: 11pt; color: "><font color="#0000ff">var</font></span></font><span style="line-height: 11pt"><font style="font-size: 8pt" color="#000000"> permission = container.GetPermissions();</font></span></font></p>    <p style="margin: 0px"><font face="Courier New"><span style="line-height: 11pt"><font color="#000000"><font style="font-size: 8pt">&#160;&#160;&#160;&#160;&#160; permission.PublicAccess = </font></font></span><font style="font-size: 8pt"><span style="line-height: 11pt; color: "><font color="#2b91af">BlobContainerPublicAccessType</font></span></font><span style="line-height: 11pt"><font style="font-size: 8pt" color="#000000">.Container;</font></span></font></p>    <p style="margin: 0px"><font face="Courier New"><font style="font-size: 8pt" color="#000000">&#160;</font></font></p>    <p style="margin: 0px"><span style="line-height: 11pt"><font face="Courier New"><font style="font-size: 8pt" color="#000000">&#160;&#160;&#160;&#160;&#160; container.SetPermissions(permission);</font></font></span></p>    <p style="margin: 0px"><span style="line-height: 11pt"><font face="Courier New"><font style="font-size: 8pt" color="#000000">&#160;&#160;&#160; }</font></font></span></p>    <p style="margin: 0px"><font face="Courier New"><font style="font-size: 8pt" color="#000000">&#160;</font></font></p>    <p style="margin: 0px"><font face="Courier New"><span style="line-height: 11pt"><font color="#000000"><font style="font-size: 8pt">&#160;&#160;&#160; </font></font></span><font style="font-size: 8pt"><span style="line-height: 11pt; color: "><font color="#0000ff">private</font></span><span style="line-height: 11pt"><font color="#000000"> </font></span><span style="line-height: 11pt; color: "><font color="#2b91af">CloudBlobContainer</font></span></font><span style="line-height: 11pt"><font style="font-size: 8pt" color="#000000"> GetContainner()</font></span></font></p>    <p style="margin: 0px"><span style="line-height: 11pt"><font face="Courier New"><font style="font-size: 8pt" color="#000000">&#160;&#160;&#160; {</font></font></span></p>    <p style="margin: 0px"><font face="Courier New"><span style="line-height: 11pt"><font color="#000000"><font style="font-size: 8pt">&#160;&#160;&#160;&#160;&#160; </font></font></span><font style="font-size: 8pt"><span style="line-height: 11pt; color: "><font color="#0000ff">var</font></span><span style="line-height: 11pt"><font color="#000000"> account = </font></span><span style="line-height: 11pt; color: "><font color="#2b91af">CloudStorageAccount</font></span><span style="line-height: 11pt"><font color="#000000">.FromConfigurationSetting(</font></span><span style="line-height: 11pt; color: "><font color="#a31515">&quot;DataConnectionString&quot;</font></span></font><span style="line-height: 11pt"><font style="font-size: 8pt" color="#000000">);</font></span></font></p>    <p style="margin: 0px"><font face="Courier New"><span style="line-height: 11pt"><font color="#000000"><font style="font-size: 8pt">&#160;&#160;&#160;&#160;&#160; </font></font></span><font style="font-size: 8pt"><span style="line-height: 11pt; color: "><font color="#0000ff">var</font></span></font><span style="line-height: 11pt"><font style="font-size: 8pt" color="#000000"> client = account.CreateCloudBlobClient();</font></span></font></p>    <p style="margin: 0px"><font face="Courier New"><font style="font-size: 8pt" color="#000000">&#160;</font></font></p>    <p style="margin: 0px"><font face="Courier New"><span style="line-height: 11pt"><font color="#000000"><font style="font-size: 8pt">&#160;&#160;&#160;&#160;&#160; </font></font></span><font style="font-size: 8pt"><span style="line-height: 11pt; color: "><font color="#0000ff">return</font></span></font><span style="line-height: 11pt"><font style="font-size: 8pt" color="#000000"> client.GetContainerReference(</font></span></font></p>    <p style="margin: 0px"><font face="Courier New"><span style="line-height: 11pt"><font color="#000000"><font style="font-size: 8pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></font></span><font style="font-size: 8pt"><span style="line-height: 11pt; color: "><font color="#2b91af">RoleEnvironment</font></span><span style="line-height: 11pt"><font color="#000000">.GetConfigurationSettingValue(</font></span><span style="line-height: 11pt; color: "><font color="#a31515">&quot;ContainerName&quot;</font></span></font><span style="line-height: 11pt"><font style="font-size: 8pt" color="#000000">));</font></span></font></p>    <p style="margin: 0px"><span style="line-height: 11pt"><font face="Courier New"><font style="font-size: 8pt" color="#000000">&#160;&#160;&#160; }</font></font></span></p> </div>  <p>To make the container name configurable, I put it into CSCFG file. it can be accessed from webrole’s “property” –“Settings”, or edit the CSCFG file directly. I named the container name as “Gallery”.</p>  <p><a href="http://adndevblog.typepad.com/.a/6a0167607c2431970b0177445c0c34970d-pi"><img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="image" border="0" alt="image" src="/assets/image_53bd69.jpg" width="465" height="200" /></a></p>  <p>The reason I got the error is that I used incorrect container name, according to the <a href="http://msdn.microsoft.com/en-us/library/dd135715.aspx">container naming specification on MSDN</a>, it is supposed be to all lower case, while I am using a capital character. It is not a big deal, just a tip need to pay attention to, hope it is helpful if you come across the same issue.</p>
