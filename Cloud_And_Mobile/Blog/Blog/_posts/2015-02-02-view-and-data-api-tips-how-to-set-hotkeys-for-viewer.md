---
layout: "post"
title: "View and Data API Tips: How to set hotkeys for viewer"
date: "2015-02-02 22:57:40"
author: "Daniel Du"
categories:
  - "Cloud"
  - "Daniel Du"
  - "HTML5"
  - "Javascript"
  - "View and Data API"
  - "WebGL"
original_url: "https://adndevblog.typepad.com/cloud_and_mobile/2015/02/view-and-data-api-tips-how-to-set-hotkeys-for-viewer.html "
typepad_basename: "view-and-data-api-tips-how-to-set-hotkeys-for-viewer"
typepad_status: "Publish"
---

<p>By <a href="http://adndevblog.typepad.com/cloud_and_mobile/daniel-du.html">Daniel Du</a></p>  <p>In my previous post, I introduced how to make viewer full browser or full screen with view and data API. When playing with it, I am thinking it would be better if we have some hotkeys for these functions, so letâ€™s do it.</p>  <p>In View and Data API, it is simple to register a hotkey, you can do this by hotkey manager. To get the hotkey manager, we can use following code snippet to get the singleton theHotkeyManager, and then we can access the members and methods of it.</p>  <pre style="font-size: 13px; font-family: consolas; background: white; color: black"><span style="color: green">//Access the members and methods via the singleton theHotkeyManager.</span>
<span style="color: blue">var</span> theHotkeyManager = Autodesk.Viewing.theHotkeyManager;<br /></pre>

<p>Next, I define some hotkeys, for example, I define Ctrl + S to trigger my functionality of full screen by calling the setFullScreen(oViewer) in hotkey onReleased event callback. setFullScreen(oViewer) is a function I refactored from last post. It is possible to register multiple hotkeys and organize them into a hotkey set, and then register the hotkey set by calling theHotkeyManager.pushHotkeys(). </p>

<p>Here is the code snippet for your reference: </p>

<pre style="font-size: 13px; font-family: consolas; background: white; color: black"><br /><span style="color: blue">var</span> setFullBrowser = <span style="color: blue">function</span> (viewer) {<br /> <br />&#160;&#160;&#160; <span style="color: blue">var</span> vsmd = <span style="color: blue">new</span> Autodesk.Viewing.ViewerScreenModeDelegate(viewer);<br />&#160;&#160;&#160; <span style="color: blue">var</span> oldMode = vsmd.getMode();<br />&#160;&#160;&#160; console.log(oldMode);<span style="color: green">//kFullScreen, kFullBrowser, kNormal</span><br /> <br />&#160;&#160;&#160; <span style="color: blue">if</span> (vsmd.isModeSupported(Autodesk.Viewing.Viewer.ScreenMode.kFullBrowser)) {<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style="color: blue">var</span> newMode = Autodesk.Viewing.Viewer.ScreenMode.kFullBrowser;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160; vsmd.doScreenModeChange(oldMode, newMode)<br /><br /><br />&#160;&#160;&#160; }<br />&#160;&#160;&#160; <span style="color: blue">else</span> {<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160; console.log(<span style="color: #a31515">'Autodesk.Viewing.Viewer.ScreenMode.kFullBrowser not supported'</span>);<br />&#160;&#160;&#160; }<br />};<br /> <br /><span style="color: blue">var</span> setFullScreen = <span style="color: blue">function</span> (viewer) {<br /> <br />&#160;&#160;&#160; <span style="color: blue">var</span> vsmd = <span style="color: blue">new</span> Autodesk.Viewing.ViewerScreenModeDelegate(viewer);<br />&#160;&#160;&#160; <span style="color: blue">var</span> oldMode = vsmd.getMode();<br />&#160;&#160;&#160; console.log(oldMode);<span style="color: green">//kFullScreen, kFullBrowser, kNormal</span><br /> <br /><br />&#160;&#160;&#160; <span style="color: blue">if</span> (vsmd.isModeSupported(Autodesk.Viewing.Viewer.ScreenMode.kFullScreen)) {<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style="color: blue">var</span> newMode = Autodesk.Viewing.Viewer.ScreenMode.kFullScreen;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160; vsmd.doScreenModeChange(oldMode, newMode)<br /> <br />&#160;&#160;&#160; }<br />&#160;&#160;&#160; <span style="color: blue">else</span> {<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160; console.log(<span style="color: #a31515">'Autodesk.Viewing.Viewer.ScreenMode.kFullScreen not supported'</span>);<br />&#160;&#160;&#160; }<br />};<br /> <br /><span style="color: blue">var</span> explode = <span style="color: blue">function</span> (oViewer) {<br />&#160;&#160;&#160; oViewer.explode(0.7);<br />}<br /> <br /> //Call this in Autodesk.Viewing.GEOMETRY_LOADED_EVENT callback<br /><span style="color: blue">var</span> configuratorHotKey = <span style="color: blue">function</span> () {<br /> <br />&#160;&#160;&#160; <span style="color: green">//Access the members and methods via the singleton theHotkeyManager.</span><br />&#160;&#160;&#160; <span style="color: blue">var</span> theHotkeyManager = Autodesk.Viewing.theHotkeyManager;<br /><br /> <br />&#160;&#160;&#160; <span style="color: blue">var</span> hotKeyFullScreen = {<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160; keycodes: [theHotkeyManager.KEYCODES.CONTROL,<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; theHotkeyManager.KEYCODES.s],<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160; onPress: <span style="color: blue">function</span> (hotkeys) {<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; console.log(hotkeys.toString() + <span style="color: #a31515">' pressed'</span>);<br /> <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style="color: green">//has handled</span><br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style="color: blue">return</span>&#160;<span style="color: blue">true</span>;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160; },<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160; onRelease: <span style="color: blue">function</span> (hotkeys) {<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; console.log(hotkeys.toString() + <span style="color: #a31515">' released'</span>);<br /><br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; setFullScreen(oViewer);<br /> <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style="color: green">//has handled</span><br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style="color: blue">return</span>&#160;<span style="color: blue">true</span>;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160; }<br />&#160;&#160;&#160; }<br /> <br />&#160;&#160;&#160; <span style="color: blue">var</span> hotKeyFullBrowser = {<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160; keycodes: [theHotkeyManager.KEYCODES.CONTROL,<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; theHotkeyManager.KEYCODES.b],<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160; onPress: <span style="color: blue">function</span> (hotkeys) {<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; console.log(hotkeys.toString() + <span style="color: #a31515">' pressed'</span>);<br /> <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style="color: green">//has handled</span><br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style="color: blue">return</span>&#160;<span style="color: blue">true</span>;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160; },<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160; onRelease: <span style="color: blue">function</span> (hotkeys) {<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; console.log(hotkeys.toString() + <span style="color: #a31515">' released'</span>);<br /> <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; setFullBrowser(oViewer);<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style="color: green">//has handled</span><br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style="color: blue">return</span>&#160;<span style="color: blue">true</span>;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160; }<br />&#160;&#160;&#160; }<br /> <br />&#160;&#160;&#160; <span style="color: green">//register the hotkey set</span><br />&#160;&#160;&#160; <span style="color: blue">var</span> pushOk = theHotkeyManager.pushHotkeys(<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style="color: #a31515">'hotkeyFullScreen'</span>, <span style="color: green">//id</span><br />&#160;&#160;&#160;&#160;&#160;&#160;&#160; [hotKeyFullScreen,<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; hotKeyFullBrowser],<span style="color: green">//hotkeys, array</span><br />&#160;&#160;&#160;&#160;&#160;&#160;&#160; { tryUntilSuccess: <span style="color: blue">true</span> }<span style="color: green">//optionsopt</span><br />&#160;&#160;&#160;&#160;&#160;&#160;&#160; );<br /> <br />&#160;&#160;&#160; <span style="color: blue">if</span> (pushOk) {<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160; console.log(<span style="color: #a31515">'hotkeys - FullScreen - registered.'</span>);<br />&#160;&#160;&#160; }<br /> <br />&#160;&#160;&#160; <span style="color: blue">var</span> hotKeyExplode = {<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160; keycodes: [theHotkeyManager.KEYCODES.CONTROL,<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; theHotkeyManager.KEYCODES.e],<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160; onPress: <span style="color: blue">function</span> (hotkeys) {<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; console.log(hotkeys.toString() + <span style="color: #a31515">' pressed'</span>);<br /> <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style="color: green">//has handled</span><br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style="color: blue">return</span>&#160;<span style="color: blue">true</span>;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160; },<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160; onRelease: <span style="color: blue">function</span> (hotkeys) {<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; console.log(hotkeys.toString() + <span style="color: #a31515">' released'</span>);<br /> <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; explode(oViewer);<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style="color: green">//has handled</span><br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style="color: blue">return</span>&#160;<span style="color: blue">true</span>;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160; }<br />&#160;&#160;&#160; }<br /> <br />&#160;&#160;&#160; <span style="color: blue">var</span> pushOk = theHotkeyManager.pushHotkeys(<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style="color: #a31515">'explode'</span>, <span style="color: green">//id</span><br />&#160;&#160;&#160;&#160;&#160;&#160;&#160; [hotKeyExplode],<span style="color: green">//hotkeys, array</span><br />&#160;&#160;&#160;&#160;&#160;&#160;&#160; { tryUntilSuccess: <span style="color: blue">true</span> }<span style="color: green">//options</span><br />&#160;&#160;&#160;&#160;&#160;&#160;&#160; );<br /> <br />&#160;&#160;&#160; <span style="color: blue">if</span> (pushOk) {<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160; console.log(<span style="color: #a31515">'hotkeys - explode - registered.'</span>);<br />&#160;&#160;&#160; }<br /> <br /><br />};<br /></pre>

<pre style="font-size: 13px; font-family: consolas; background: white; color: black"><br /></pre>

<p>Hope this helps! For more code samples, please go to our sample home page: <a href="https://developer-autodesk.github.io/">https://developer-autodesk.github.io/</a></p>
