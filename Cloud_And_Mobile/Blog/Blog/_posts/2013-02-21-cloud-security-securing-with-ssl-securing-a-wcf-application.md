---
layout: "post"
title: "Cloud Security: Securing with SSL &ndash; Securing a WCF Application"
date: "2013-02-21 11:29:01"
author: "Gopinath Taget"
categories:
  - "ASP .NET"
  - "Cloud"
  - "Security"
  - "Web Server"
original_url: "https://adndevblog.typepad.com/cloud_and_mobile/2013/02/cloud-security-securing-with-ssl-securing-a-wcf-application.html "
typepad_basename: "cloud-security-securing-with-ssl-securing-a-wcf-application"
typepad_status: "Publish"
---

<p><a href="http://adndevblog.typepad.com/cloud_and_mobile/gopinath-taget.html">Gopinath Taget</a></p>  <p>In my <a href="http://adndevblog.typepad.com/cloud_and_mobile/2013/02/cloud-security-securing-with-ssl-certificates.html">previous post</a>, I started talking about SSL and how important certificates are for SSL infrastructure. In this blog I will talk about implementing SSL in a <a href="http://en.wikipedia.org/wiki/Windows_Communication_Foundation">WCF</a> web service.</p>  <p>Before we start anything, please make sure you have a root certificate and a developer certificate as explained in <a href="http://www.codeproject.com/Articles/24027/SSL-with-Self-hosted-WCF-Service">this article</a>. That article also talks about implementing SSL in WCF but I could not get it to work with just the steps in this article. I had to do a couple of other things as well.</p>  <p>Implementing SSL in WCF web service is all about configuration. You will find several tutorials on the web on how to create a simple WCF service, like the one <a href="http://blogs.msdn.com/b/ericwhite/archive/2010/05/11/getting-started-building-a-wcf-web-service.aspx">here</a>, <a href="http://weblogs.asp.net/sreejukg/archive/2010/12/15/create-and-consume-wcf-service-using-visual-studio-2010.aspx">here</a> and <a href="http://msdn.microsoft.com/en-us/library/bb386386.aspx">here</a> so I am not going to go into that. I am using Visual Studio 2010 to create a WCF service and implement SSL in it.</p>  <p>Once you have a WCF service project in Visual Studio 2010, open the web.config file. Almost everything you need to do to get your web services to use SSL goes here. Here is my complete web.config file:</p>  <p>&#160;</p>  <div style="font-family: ; background: white">   <p style="margin: 0px"><font face="Consolas"><span style="line-height: 11pt"><font color="#0000ff"><font style="font-size: 8pt">&lt;?</font></font></span><font style="font-size: 8pt"><span style="line-height: 11pt"><font color="#a31515">xml</font></span><span style="line-height: 11pt"><font color="#0000ff"> </font></span><span style="line-height: 11pt"><font color="#ff0000">version</font></span><span style="line-height: 11pt"><font color="#0000ff">=</font></span><span style="line-height: 11pt"><font color="#000000">&quot;</font></span><span style="line-height: 11pt"><font color="#0000ff">1.0</font></span><span style="line-height: 11pt"><font color="#000000">&quot;</font></span></font><span style="line-height: 11pt"><font style="font-size: 8pt" color="#0000ff">?&gt;</font></span></font></p>    <p style="margin: 0px"><font face="Consolas"><span style="line-height: 11pt"><font color="#0000ff"><font style="font-size: 8pt">&lt;</font></font></span><font style="font-size: 8pt"><span style="line-height: 11pt"><font color="#a31515">configuration</font></span></font><span style="line-height: 11pt"><font style="font-size: 8pt" color="#0000ff">&gt;</font></span></font></p>    <p style="margin: 0px"><font face="Consolas"><font style="font-size: 8pt" color="#000000">&#160;</font></font></p>    <p style="margin: 0px"><font face="Consolas"><span style="line-height: 11pt"><font color="#0000ff"><font style="font-size: 8pt">&#160; &lt;</font></font></span><font style="font-size: 8pt"><span style="line-height: 11pt"><font color="#a31515">system.web</font></span></font><span style="line-height: 11pt"><font style="font-size: 8pt" color="#0000ff">&gt;</font></span></font></p>    <p style="margin: 0px"><font face="Consolas"><span style="line-height: 11pt"><font color="#0000ff"><font style="font-size: 8pt">&#160;&#160;&#160; &lt;</font></font></span><font style="font-size: 8pt"><span style="line-height: 11pt"><font color="#a31515">compilation</font></span><span style="line-height: 11pt"><font color="#0000ff"> </font></span><span style="line-height: 11pt"><font color="#ff0000">debug</font></span><span style="line-height: 11pt"><font color="#0000ff">=</font></span><span style="line-height: 11pt"><font color="#000000">&quot;</font></span><span style="line-height: 11pt"><font color="#0000ff">true</font></span><span style="line-height: 11pt"><font color="#000000">&quot;</font></span><span style="line-height: 11pt"><font color="#0000ff"> </font></span><span style="line-height: 11pt"><font color="#ff0000">targetFramework</font></span><span style="line-height: 11pt"><font color="#0000ff">=</font></span><span style="line-height: 11pt"><font color="#000000">&quot;</font></span><span style="line-height: 11pt"><font color="#0000ff">4.0</font></span><span style="line-height: 11pt"><font color="#000000">&quot;</font></span></font><span style="line-height: 11pt"><font style="font-size: 8pt" color="#0000ff"> /&gt;</font></span></font></p>    <p style="margin: 0px"><font face="Consolas"><span style="line-height: 11pt"><font color="#0000ff"><font style="font-size: 8pt">&#160; &lt;/</font></font></span><font style="font-size: 8pt"><span style="line-height: 11pt"><font color="#a31515">system.web</font></span></font><span style="line-height: 11pt"><font style="font-size: 8pt" color="#0000ff">&gt;</font></span></font></p>    <p style="margin: 0px"><font face="Consolas"><span style="line-height: 11pt"><font color="#0000ff"><font style="font-size: 8pt">&#160; &lt;</font></font></span><font style="font-size: 8pt"><span style="line-height: 11pt"><font color="#a31515">system.serviceModel</font></span></font><span style="line-height: 11pt"><font style="font-size: 8pt" color="#0000ff">&gt;</font></span></font></p>    <p style="margin: 0px"><font face="Consolas"><span style="line-height: 11pt"><font color="#0000ff"><font style="font-size: 8pt">&#160;&#160;&#160; &lt;</font></font></span><font style="font-size: 8pt"><span style="line-height: 11pt"><font color="#a31515">bindings</font></span></font><span style="line-height: 11pt"><font style="font-size: 8pt" color="#0000ff">&gt;</font></span></font></p>    <p style="margin: 0px"><font face="Consolas"><span style="line-height: 11pt"><font color="#0000ff"><font style="font-size: 8pt">&#160;&#160;&#160;&#160;&#160; &lt;</font></font></span><font style="font-size: 8pt"><span style="line-height: 11pt"><font color="#a31515">basicHttpBinding</font></span></font><span style="line-height: 11pt"><font style="font-size: 8pt" color="#0000ff">&gt;</font></span></font></p>    <p style="margin: 0px"><font face="Consolas"><span style="line-height: 11pt"><font color="#0000ff"><font style="font-size: 8pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160; <strong>&lt;</strong></font></font></span><strong><font size="3"><span style="line-height: 11pt"><font color="#a31515">binding</font></span><span style="line-height: 11pt"><font color="#0000ff"> </font></span><span style="line-height: 11pt"><font color="#ff0000">name</font></span><span style="line-height: 11pt"><font color="#0000ff">=</font></span><span style="line-height: 11pt"><font color="#000000">&quot;</font></span><span style="line-height: 11pt"><font color="#0000ff">TransportSecurity</font></span><span style="line-height: 11pt"><font color="#000000">&quot;</font></span><span style="line-height: 11pt"><font color="#0000ff">&gt;</font></span></font></strong></font></p>    <p style="margin: 0px"><font face="Consolas"><strong><font size="3"><span style="line-height: 11pt"><font color="#0000ff">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;</font></span><span style="line-height: 11pt"><font color="#a31515">security</font></span><span style="line-height: 11pt"><font color="#0000ff"> </font></span><span style="line-height: 11pt"><font color="#ff0000">mode</font></span><span style="line-height: 11pt"><font color="#0000ff">=</font></span><span style="line-height: 11pt"><font color="#000000">&quot;</font></span><span style="line-height: 11pt"><font color="#0000ff">Transport</font></span><span style="line-height: 11pt"><font color="#000000">&quot;</font></span><span style="line-height: 11pt"><font color="#0000ff">&gt;</font></span></font></strong></font></p>    <p style="margin: 0px"><font face="Consolas"><strong><font size="3"><span style="line-height: 11pt"><font color="#0000ff">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;</font></span><span style="line-height: 11pt"><font color="#a31515">transport</font></span><span style="line-height: 11pt"><font color="#0000ff"> </font></span><span style="line-height: 11pt"><font color="#ff0000">clientCredentialType</font></span><span style="line-height: 11pt"><font color="#0000ff">=</font></span><span style="line-height: 11pt"><font color="#000000">&quot;</font></span><span style="line-height: 11pt"><font color="#0000ff">None</font></span><span style="line-height: 11pt"><font color="#000000">&quot;</font></span><span style="line-height: 11pt"><font color="#0000ff"> /&gt;</font></span></font></strong></font></p>    <p style="margin: 0px"><font face="Consolas"><strong><font size="3"><span style="line-height: 11pt"><font color="#0000ff">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;/</font></span><span style="line-height: 11pt"><font color="#a31515">security</font></span><span style="line-height: 11pt"><font color="#0000ff">&gt;</font></span></font></strong></font></p>    <p style="margin: 0px"><font face="Consolas"><strong><font size="3"><span style="line-height: 11pt"><font color="#0000ff">&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;/</font></span><span style="line-height: 11pt"><font color="#a31515">binding</font></span><span style="line-height: 11pt"><font color="#0000ff">&gt;</font></span></font></strong></font></p>    <p style="margin: 0px"><font face="Consolas"><span style="line-height: 11pt"><font color="#0000ff"><font style="font-size: 8pt">&#160;&#160;&#160;&#160;&#160; &lt;/</font></font></span><font style="font-size: 8pt"><span style="line-height: 11pt"><font color="#a31515">basicHttpBinding</font></span></font><span style="line-height: 11pt"><font style="font-size: 8pt" color="#0000ff">&gt;</font></span></font></p>    <p style="margin: 0px"><font face="Consolas"><span style="line-height: 11pt"><font color="#0000ff"><font style="font-size: 8pt">&#160;&#160;&#160; &lt;/</font></font></span><font style="font-size: 8pt"><span style="line-height: 11pt"><font color="#a31515">bindings</font></span></font><span style="line-height: 11pt"><font style="font-size: 8pt" color="#0000ff">&gt;</font></span></font></p>    <p style="margin: 0px"><font face="Consolas"><span style="line-height: 11pt"><font color="#0000ff"><font style="font-size: 8pt">&#160;&#160;&#160; &lt;</font></font></span><font style="font-size: 8pt"><span style="line-height: 11pt"><font color="#a31515">services</font></span></font><span style="line-height: 11pt"><font style="font-size: 8pt" color="#0000ff">&gt;</font></span></font></p>    <p style="margin: 0px"><font face="Consolas"><span style="line-height: 11pt"><font color="#0000ff"><font style="font-size: 8pt">&#160;&#160;&#160;&#160;&#160; &lt;</font></font></span><font style="font-size: 8pt"><span style="line-height: 11pt"><font color="#a31515">service</font></span><span style="line-height: 11pt"><font color="#0000ff"> </font></span><span style="line-height: 11pt"><font color="#ff0000">name</font></span><span style="line-height: 11pt"><font color="#0000ff">=</font></span><span style="line-height: 11pt"><font color="#000000">&quot;</font></span><span style="line-height: 11pt"><font color="#0000ff">WCFWithSSL_2.WCFSampleService</font></span></font><span style="line-height: 11pt"><font style="font-size: 8pt" color="#000000">&quot;</font></span></font></p>    <p style="margin: 0px"><font face="Consolas"><span style="line-height: 11pt"><font color="#0000ff"><font style="font-size: 8pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></font></span><font style="font-size: 8pt"><span style="line-height: 11pt"><font color="#ff0000">behaviorConfiguration</font></span><span style="line-height: 11pt"><font color="#0000ff">=</font></span><span style="line-height: 11pt"><font color="#000000">&quot;</font></span><span style="line-height: 11pt"><font color="#0000ff">MyServiceBehavior</font></span><span style="line-height: 11pt"><font color="#000000">&quot;</font></span></font><span style="line-height: 11pt"><font style="font-size: 8pt" color="#0000ff">&gt;</font></span></font></p>    <p style="margin: 0px"><font face="Consolas"><span style="line-height: 11pt"><font color="#0000ff"><font style="font-size: 8pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;</font></font></span><font style="font-size: 8pt"><span style="line-height: 11pt"><font color="#a31515">host</font></span></font><span style="line-height: 11pt"><font style="font-size: 8pt" color="#0000ff">&gt;</font></span></font></p>    <p style="margin: 0px"><font face="Consolas"><span style="line-height: 11pt"><font color="#0000ff"><font style="font-size: 8pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <strong><font size="3">&lt;</font></strong></font></font></span><strong><font size="3"><span style="line-height: 11pt"><font color="#a31515">baseAddresses</font></span><span style="line-height: 11pt"><font color="#0000ff">&gt;</font></span></font></strong></font></p>    <p style="margin: 0px"><font face="Consolas"><strong><font size="3"><span style="line-height: 11pt"><font color="#0000ff">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;</font></span><span style="line-height: 11pt"><font color="#a31515">add</font></span><span style="line-height: 11pt"><font color="#0000ff"> </font></span><span style="line-height: 11pt"><font color="#ff0000">baseAddress</font></span><span style="line-height: 11pt"><font color="#0000ff">=</font></span><span style="line-height: 11pt"><font color="#000000">&quot;</font></span><span style="line-height: 11pt"><font color="#0000ff">https://localhost/WCFWithSSL_2/</font></span><span style="line-height: 11pt"><font color="#000000">&quot;</font></span><span style="line-height: 11pt"><font color="#0000ff">/&gt;</font></span></font></strong></font></p>    <p style="margin: 0px"><font face="Consolas"><strong><font size="3"><span style="line-height: 11pt"><font color="#0000ff">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;/</font></span><span style="line-height: 11pt"><font color="#a31515">baseAddresses</font></span><span style="line-height: 11pt"><font color="#0000ff">&gt;</font></span></font></strong></font></p>    <p style="margin: 0px"><font face="Consolas"><span style="line-height: 11pt"><font color="#0000ff"><font style="font-size: 8pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;/</font></font></span><font style="font-size: 8pt"><span style="line-height: 11pt"><font color="#a31515">host</font></span></font><span style="line-height: 11pt"><font style="font-size: 8pt" color="#0000ff">&gt;</font></span></font></p>    <p style="margin: 0px"><font face="Consolas"><span style="line-height: 11pt"><font color="#0000ff"><font style="font-size: 8pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160; <strong>&lt;</strong></font></font></span><strong><font style="font-size: 8pt"><span style="line-height: 11pt"><font color="#a31515">endpoint</font></span><span style="line-height: 11pt"><font color="#0000ff"> </font></span><span style="line-height: 11pt"><font color="#ff0000">address</font></span><span style="line-height: 11pt"><font color="#0000ff">=</font></span><span style="line-height: 11pt"><font color="#000000">&quot;</font></span><span style="line-height: 11pt"><font color="#0000ff">Service1.svc</font></span></font><span style="line-height: 11pt"><font style="font-size: 8pt" color="#000000">&quot;</font></span></strong></font></p>    <p style="margin: 0px"><font face="Consolas"><strong><span style="line-height: 11pt"><font color="#0000ff"><font style="font-size: 8pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></font></span><font style="font-size: 8pt"><span style="line-height: 11pt"><font color="#ff0000">binding</font></span><span style="line-height: 11pt"><font color="#0000ff">=</font></span><span style="line-height: 11pt"><font color="#000000">&quot;</font></span><span style="line-height: 11pt"><font color="#0000ff">basicHttpBinding</font></span></font><span style="line-height: 11pt"><font style="font-size: 8pt" color="#000000">&quot;</font></span></strong></font></p>    <p style="margin: 0px"><font face="Consolas"><strong><span style="line-height: 11pt"><font color="#0000ff"><font style="font-size: 8pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></font></span><font style="font-size: 8pt"><span style="line-height: 11pt"><font color="#ff0000">bindingConfiguration</font></span><span style="line-height: 11pt"><font color="#0000ff">=</font></span><span style="line-height: 11pt"><font color="#000000">&quot;</font></span><span style="line-height: 11pt"><font color="#0000ff">TransportSecurity</font></span></font><span style="line-height: 11pt"><font style="font-size: 8pt" color="#000000">&quot;</font></span></strong></font></p>    <p style="margin: 0px"><font face="Consolas"><strong><span style="line-height: 11pt"><font color="#0000ff"><font style="font-size: 8pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></font></span><font style="font-size: 8pt"><span style="line-height: 11pt"><font color="#ff0000">contract</font></span><span style="line-height: 11pt"><font color="#0000ff">=</font></span><span style="line-height: 11pt"><font color="#000000">&quot;</font></span><span style="line-height: 11pt"><font color="#0000ff">WCFWithSSL_2.IWCFSampleService</font></span><span style="line-height: 11pt"><font color="#000000">&quot;</font></span></font><span style="line-height: 11pt"><font style="font-size: 8pt" color="#0000ff"> /&gt;</font></span></strong></font></p>    <p style="margin: 0px"><font face="Consolas"><span style="line-height: 11pt"><font color="#0000ff"><font style="font-size: 8pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;</font></font></span><font style="font-size: 8pt"><span style="line-height: 11pt"><font color="#a31515">endpoint</font></span><span style="line-height: 11pt"><font color="#0000ff"> </font></span><span style="line-height: 11pt"><font color="#ff0000">address</font></span><span style="line-height: 11pt"><font color="#0000ff">=</font></span><span style="line-height: 11pt"><font color="#000000">&quot;</font></span><span style="line-height: 11pt"><font color="#0000ff">mex</font></span></font><span style="line-height: 11pt"><font style="font-size: 8pt" color="#000000">&quot;</font></span></font></p>    <p style="margin: 0px"><font face="Consolas"><span style="line-height: 11pt"><font color="#0000ff"><font style="font-size: 8pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></font></span><strong><font size="3"><span style="line-height: 11pt"><font color="#ff0000">binding</font></span><span style="line-height: 11pt"><font color="#0000ff">=</font></span><span style="line-height: 11pt"><font color="#000000">&quot;</font></span><span style="line-height: 11pt"><font color="#0000ff">mexHttpsBinding</font></span><span style="line-height: 11pt"><font color="#000000">&quot;</font></span></font></strong></font></p>    <p style="margin: 0px"><font face="Consolas"><span style="line-height: 11pt"><font color="#0000ff"><font style="font-size: 8pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></font></span><font style="font-size: 8pt"><span style="line-height: 11pt"><font color="#ff0000">contract</font></span><span style="line-height: 11pt"><font color="#0000ff">=</font></span><span style="line-height: 11pt"><font color="#000000">&quot;</font></span><span style="line-height: 11pt"><font color="#0000ff">IMetadataExchange</font></span><span style="line-height: 11pt"><font color="#000000">&quot;</font></span></font><span style="line-height: 11pt"><font style="font-size: 8pt" color="#0000ff"> /&gt;</font></span></font></p>    <p style="margin: 0px"><font face="Consolas"><span style="line-height: 11pt"><font color="#0000ff"><font style="font-size: 8pt">&#160;&#160;&#160;&#160;&#160; &lt;/</font></font></span><font style="font-size: 8pt"><span style="line-height: 11pt"><font color="#a31515">service</font></span></font><span style="line-height: 11pt"><font style="font-size: 8pt" color="#0000ff">&gt;</font></span></font></p>    <p style="margin: 0px"><font face="Consolas"><span style="line-height: 11pt"><font color="#0000ff"><font style="font-size: 8pt">&#160;&#160;&#160; &lt;/</font></font></span><font style="font-size: 8pt"><span style="line-height: 11pt"><font color="#a31515">services</font></span></font><span style="line-height: 11pt"><font style="font-size: 8pt" color="#0000ff">&gt;</font></span></font></p>    <p style="margin: 0px"><font face="Consolas"><span style="line-height: 11pt"><font color="#0000ff"><font style="font-size: 8pt">&#160;&#160;&#160; &lt;</font></font></span><font style="font-size: 8pt"><span style="line-height: 11pt"><font color="#a31515">behaviors</font></span></font><span style="line-height: 11pt"><font style="font-size: 8pt" color="#0000ff">&gt;</font></span></font></p>    <p style="margin: 0px"><font face="Consolas"><span style="line-height: 11pt"><font color="#0000ff"><font style="font-size: 8pt">&#160;&#160;&#160;&#160;&#160; &lt;</font></font></span><font style="font-size: 8pt"><span style="line-height: 11pt"><font color="#a31515">serviceBehaviors</font></span></font><span style="line-height: 11pt"><font style="font-size: 8pt" color="#0000ff">&gt;</font></span></font></p>    <p style="margin: 0px"><font face="Consolas"><span style="line-height: 11pt"><font color="#0000ff"><font style="font-size: 8pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;!--</font></font></span><span style="line-height: 11pt"><font style="font-size: 8pt" color="#008000">&lt;behavior&gt;</font></span></font></p>    <p style="margin: 0px"><font face="Consolas"><span style="line-height: 11pt"><font color="#008000"><font style="font-size: 8pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></font></span><font style="font-size: 8pt"><span style="line-height: 11pt"><font color="#0000ff">--&gt;&lt;!--</font></span></font><span style="line-height: 11pt"><font style="font-size: 8pt" color="#008000"> To avoid disclosing metadata information, </font></span></font></p>    <p style="margin: 0px"><span style="line-height: 11pt"><font face="Consolas"><font style="font-size: 8pt" color="#008000">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set the value below to false and remove the metadata </font></font></span></p>    <p style="margin: 0px"><font face="Consolas"><span style="line-height: 11pt"><font color="#008000"><font style="font-size: 8pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; endpoint above before deployment </font></font></span><span style="line-height: 11pt"><font style="font-size: 8pt" color="#0000ff">--&gt;&lt;!--</font></span></font></p>    <p style="margin: 0px"><span style="line-height: 11pt"><font face="Consolas"><font style="font-size: 8pt" color="#008000">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;serviceMetadata httpsGetEnabled=&quot;true&quot;/&gt;</font></font></span></p>    <p style="margin: 0px"><font face="Consolas"><span style="line-height: 11pt"><font color="#008000"><font style="font-size: 8pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></font></span><font style="font-size: 8pt"><span style="line-height: 11pt"><font color="#0000ff">--&gt;&lt;!--</font></span></font><span style="line-height: 11pt"><font style="font-size: 8pt" color="#008000"> To receive exception details in faults for </font></span></font></p>    <p style="margin: 0px"><span style="line-height: 11pt"><font face="Consolas"><font style="font-size: 8pt" color="#008000">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; debugging purposes, set the value below to true.&#160; </font></font></span></p>    <p style="margin: 0px"><span style="line-height: 11pt"><font face="Consolas"><font style="font-size: 8pt" color="#008000">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Set to false before deployment to avoid disclosing </font></font></span></p>    <p style="margin: 0px"><font face="Consolas"><span style="line-height: 11pt"><font color="#008000"><font style="font-size: 8pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; exception information </font></font></span><span style="line-height: 11pt"><font style="font-size: 8pt" color="#0000ff">--&gt;&lt;!--</font></span></font></p>    <p style="margin: 0px"><span style="line-height: 11pt"><font face="Consolas"><font style="font-size: 8pt" color="#008000">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;serviceDebug includeExceptionDetailInFaults=&quot;false&quot;/&gt;</font></font></span></p>    <p style="margin: 0px"><font face="Consolas"><span style="line-height: 11pt"><font color="#008000"><font style="font-size: 8pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;/behavior&gt;</font></font></span><span style="line-height: 11pt"><font style="font-size: 8pt" color="#0000ff">--&gt;</font></span></font></p>    <p style="margin: 0px"><font face="Consolas"><span style="line-height: 11pt"><font color="#0000ff"><font style="font-size: 8pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160; <strong><font size="3">&lt;</font></strong></font></font></span><strong><font size="3"><span style="line-height: 11pt"><font color="#a31515">behavior</font></span><span style="line-height: 11pt"><font color="#0000ff"> </font></span><span style="line-height: 11pt"><font color="#ff0000">name</font></span><span style="line-height: 11pt"><font color="#0000ff">=</font></span><span style="line-height: 11pt"><font color="#000000">&quot;</font></span><span style="line-height: 11pt"><font color="#0000ff">MyServiceBehavior</font></span><span style="line-height: 11pt"><font color="#000000">&quot;</font></span><span style="line-height: 11pt"><font color="#0000ff">&gt;</font></span></font></strong></font></p>    <p style="margin: 0px"><font face="Consolas"><strong><font size="3"><span style="line-height: 11pt"><font color="#0000ff">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;</font></span><span style="line-height: 11pt"><font color="#a31515">serviceMetadata</font></span><span style="line-height: 11pt"><font color="#0000ff"> </font></span><span style="line-height: 11pt"><font color="#ff0000">httpsGetEnabled</font></span><span style="line-height: 11pt"><font color="#0000ff">=</font></span><span style="line-height: 11pt"><font color="#000000">&quot;</font></span><span style="line-height: 11pt"><font color="#0000ff">true</font></span><span style="line-height: 11pt"><font color="#000000">&quot;</font></span><span style="line-height: 11pt"><font color="#0000ff"> </font></span><span style="line-height: 11pt"><font color="#ff0000">httpsGetUrl</font></span><span style="line-height: 11pt"><font color="#0000ff">=</font></span><span style="line-height: 11pt"><font color="#000000">&quot;&quot;</font></span><span style="line-height: 11pt"><font color="#0000ff"> /&gt;</font></span></font></strong></font></p>    <p style="margin: 0px"><font face="Consolas"><strong><font size="3"><span style="line-height: 11pt"><font color="#0000ff">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;</font></span><span style="line-height: 11pt"><font color="#a31515">serviceDebug</font></span><span style="line-height: 11pt"><font color="#0000ff"> </font></span><span style="line-height: 11pt"><font color="#ff0000">includeExceptionDetailInFaults</font></span><span style="line-height: 11pt"><font color="#0000ff">=</font></span><span style="line-height: 11pt"><font color="#000000">&quot;</font></span><span style="line-height: 11pt"><font color="#0000ff">false</font></span><span style="line-height: 11pt"><font color="#000000">&quot;</font></span><span style="line-height: 11pt"><font color="#0000ff">/&gt;</font></span></font></strong></font></p>    <p style="margin: 0px"><font face="Consolas"><strong><font size="3"><span style="line-height: 11pt"><font color="#0000ff">&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;/</font></span><span style="line-height: 11pt"><font color="#a31515">behavior</font></span><span style="line-height: 11pt"><font color="#0000ff">&gt;</font></span></font></strong></font></p>    <p style="margin: 0px"><font face="Consolas"><span style="line-height: 11pt"><font color="#0000ff"><font style="font-size: 8pt">&#160;&#160;&#160;&#160;&#160; &lt;/</font></font></span><font style="font-size: 8pt"><span style="line-height: 11pt"><font color="#a31515">serviceBehaviors</font></span></font><span style="line-height: 11pt"><font style="font-size: 8pt" color="#0000ff">&gt;</font></span></font></p>    <p style="margin: 0px"><font face="Consolas"><span style="line-height: 11pt"><font color="#0000ff"><font style="font-size: 8pt">&#160;&#160;&#160; &lt;/</font></font></span><font style="font-size: 8pt"><span style="line-height: 11pt"><font color="#a31515">behaviors</font></span></font><span style="line-height: 11pt"><font style="font-size: 8pt" color="#0000ff">&gt;</font></span></font></p>    <p style="margin: 0px"><font face="Consolas"><span style="line-height: 11pt"><font color="#0000ff"><font style="font-size: 8pt">&#160;&#160;&#160; &lt;</font></font></span><font style="font-size: 8pt"><span style="line-height: 11pt"><font color="#a31515">serviceHostingEnvironment</font></span><span style="line-height: 11pt"><font color="#0000ff"> </font></span><span style="line-height: 11pt"><font color="#ff0000">multipleSiteBindingsEnabled</font></span><span style="line-height: 11pt"><font color="#0000ff">=</font></span><span style="line-height: 11pt"><font color="#000000">&quot;</font></span><span style="line-height: 11pt"><font color="#0000ff">true</font></span><span style="line-height: 11pt"><font color="#000000">&quot;</font></span></font><span style="line-height: 11pt"><font style="font-size: 8pt" color="#0000ff"> /&gt;</font></span></font></p>    <p style="margin: 0px"><font face="Consolas"><span style="line-height: 11pt"><font color="#0000ff"><font style="font-size: 8pt">&#160; &lt;/</font></font></span><font style="font-size: 8pt"><span style="line-height: 11pt"><font color="#a31515">system.serviceModel</font></span></font><span style="line-height: 11pt"><font style="font-size: 8pt" color="#0000ff">&gt;</font></span></font></p>    <p style="margin: 0px"><font face="Consolas"><span style="line-height: 11pt"><font color="#0000ff"><font style="font-size: 8pt"> &lt;</font></font></span><font style="font-size: 8pt"><span style="line-height: 11pt"><font color="#a31515">system.webServer</font></span></font><span style="line-height: 11pt"><font style="font-size: 8pt" color="#0000ff">&gt;</font></span></font></p>    <p style="margin: 0px"><font face="Consolas"><span style="line-height: 11pt"><font color="#0000ff"><font style="font-size: 8pt">&#160;&#160;&#160; &lt;</font></font></span><font style="font-size: 8pt"><span style="line-height: 11pt"><font color="#a31515">modules</font></span><span style="line-height: 11pt"><font color="#0000ff"> </font></span><span style="line-height: 11pt"><font color="#ff0000">runAllManagedModulesForAllRequests</font></span><span style="line-height: 11pt"><font color="#0000ff">=</font></span><span style="line-height: 11pt"><font color="#000000">&quot;</font></span><span style="line-height: 11pt"><font color="#0000ff">true</font></span><span style="line-height: 11pt"><font color="#000000">&quot;</font></span></font><span style="line-height: 11pt"><font style="font-size: 8pt" color="#0000ff">/&gt;</font></span></font></p>    <p style="margin: 0px"><font face="Consolas"><span style="line-height: 11pt"><font color="#0000ff"><font style="font-size: 8pt">&#160; &lt;/</font></font></span><font style="font-size: 8pt"><span style="line-height: 11pt"><font color="#a31515">system.webServer</font></span></font><span style="line-height: 11pt"><font style="font-size: 8pt" color="#0000ff">&gt;</font></span></font></p>    <p style="margin: 0px"><font face="Consolas"><font style="font-size: 8pt" color="#000000">&#160;</font></font></p>    <p style="margin: 0px"><font face="Consolas"><span style="line-height: 11pt"><font color="#0000ff"><font style="font-size: 8pt">&lt;/</font></font></span><font style="font-size: 8pt"><span style="line-height: 11pt"><font color="#a31515">configuration</font></span></font><span style="line-height: 11pt"><font style="font-size: 8pt" color="#0000ff">&gt;</font></span></font></p>    <p style="margin: 0px"><font face="Consolas"><font style="font-size: 8pt" color="#000000">&#160;</font></font></p> </div>    <p>I have highlighted the relevant pieces. Arguably, the most important configuration piece is the “binding” tag. We specific the “security mode” property as “Transport”. This specifies that we want to use SSL. The other vital piece of&#160; configuration is the “behavior” where we set the “http<strong><font color="#ff0000">s</font></strong>GetEnabled” property to “true”.</p>  <p>This binding and behavior are then imposed on our service under the “services” tag with the bindingConfiguration and behaviorConfiguration properties.</p>  <p>Finally the endpoint tags specify the actual service on which you would like to impose SSL transport encryption.</p>  <p>You will find that there are two endpoint tags. In the endpoint with the “mex” address, it is important to specify that its binding is HTTPS as well using the “mexHttp<strong><font color="#ff0000">s</font></strong>Binding” property value.</p>  <p>In the other endpoint tag, I was not able to get the service working by specifying the service URL completely in the “address” property. I had to create a “baseAddresses” tag and specify a base address and then specify the service address relative to the base address in the endpoint.</p>  <p>These settings <em><strong>*almost*</strong></em> do everything I need but they were not enough. I had to go the the project properties and under the “Web” tab, I had to explicitly specify that Local IIS Web Server as the server to be used for testing:</p>  <p><a href="http://adndevblog.typepad.com/.a/6a0167607c2431970b017c37041646970b-pi"><img style="background-image: none; border-bottom: 0px; border-left: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px" title="image" border="0" alt="image" src="/assets/image_c22895.jpg" width="496" height="272" /></a></p>  <p>That is it. I am now able to browse to the service URL:</p>  <p><a href="http://adndevblog.typepad.com/.a/6a0167607c2431970b017d413365fb970c-pi"><img style="background-image: none; border-bottom: 0px; border-left: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px" title="image" border="0" alt="image" src="/assets/image_547a7e.jpg" width="486" height="56" /></a></p>  <p>Just like you would with an unencrypted service:</p>  <p><a href="http://adndevblog.typepad.com/.a/6a0167607c2431970b017d4133660d970c-pi"><img style="background-image: none; border-bottom: 0px; border-left: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px" title="image" border="0" alt="image" src="/assets/image_c2cb28.jpg" width="466" height="287" /></a></p>  <p>Also, <a href="http://adndevblog.typepad.com/cloud_and_mobile/WCFWithSSL_2.zip">here</a> is the source of the sample service I created.</p>
