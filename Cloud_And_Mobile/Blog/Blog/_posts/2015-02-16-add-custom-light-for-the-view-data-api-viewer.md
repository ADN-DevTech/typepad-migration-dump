---
layout: "post"
title: "Add Custom Light for the View &amp; Data API Viewer"
date: "2015-02-16 03:55:39"
author: "Xiaodong Liang"
categories:
  - "HTML5"
  - "Javascript"
  - "View and Data API"
  - "Xiaodong Liang"
original_url: "https://adndevblog.typepad.com/cloud_and_mobile/2015/02/add-custom-light-for-the-view-data-api-viewer.html "
typepad_basename: "add-custom-light-for-the-view-data-api-viewer"
typepad_status: "Publish"
---

<p>By <a href="http://adndevblog.typepad.com/aec/xiaodong-liang.html" target="_self">Xiaodong Liang</a></p>
<p>Typically, the first class of <a href="http://threejs.org/">Three.js</a> is on how to initialize the scene and set the lights. View &amp; Data packages the workflow. I do not find the direct way exposed to add the custom light.</p>
<p>The current API allows you to switch the predefined light sets by <strong>Viewer3D.setLightPreset.</strong>&#0160;<em><span style="font-size: xx-small;"> (refer to </span></em><a href="http://developer.api.autodesk.com/documentation/v1/vs/viewers/Autodesk.Viewing.Viewer3D.html"><em><span style="font-size: xx-small;">Viewer3D</span></em></a><em><span style="font-size: xx-small;"> )</span></em></p>
<p><a href="http://adndevblog.typepad.com/.a/6a0167607c2431970b01b7c74ded8a970b-pi"><img alt="image" border="0" height="174" src="/assets/image_47798b.jpg" style="background-image: none; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-width: 0px;" title="image" width="134" /></a></p>
<p>This is what we can also switch manually through UI.</p>
<p><a href="http://adndevblog.typepad.com/.a/6a0167607c2431970b01bb07f19cde970d-pi"><img alt="image" border="0" height="235" src="/assets/image_f72558.jpg" style="background-image: none; padding-top: 0px; padding-left: 0px; margin: 0px; display: inline; padding-right: 0px; border-width: 0px;" title="image" width="244" /></a></p>
<p>I walked through Viewer3D.min.js and found the definitions of pre lights are stored in <strong>Autodesk.Viewing.Private.LightPresets</strong>. The item is defined as below. The parameter name tells something about what the parameter is for. I made some comments from my investigation.</p>
<p align="left" class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; mso-layout-grid-align: none;"><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt;"><span style="font-family: Consolas;"><span style="font-size: 8pt; color: #000000;">{</span></span></span></p>
<p align="left" class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; mso-layout-grid-align: none;"><span style="font-family: Consolas;"><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt;"><span style="mso-tab-count: 1;"><span style="color: #000000;"><span style="font-size: 8pt;">&#0160;&#0160;&#0160;&#0160; </span></span></span></span><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt;"><span style="font-size: 8pt; color: #008000;">//<span style="mso-spacerun: yes;">&#0160; </span>light preset name</span></span></span></p>
<p align="left" class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; mso-layout-grid-align: none;"><span style="font-family: Consolas;"><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt;"><span style="color: #000000;"><span style="mso-tab-count: 1;"><span style="font-size: 8pt;">&#0160;&#0160;&#0160;&#0160; </span></span><span style="font-size: 8pt;">name: </span></span></span><span style="font-size: 8pt;"><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt;"><span style="color: #a31515;">&quot;Dark Sky&quot;</span></span></span><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt;"><span style="font-size: 8pt; color: #000000;">, </span></span></span></p>
<p align="left" class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; mso-layout-grid-align: none;"><span style="font-family: Consolas;"><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt;"><span style="mso-tab-count: 1;"><span style="color: #000000;"><span style="font-size: 8pt;">&#0160;&#0160;&#0160;&#0160; </span></span></span></span><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt;"><span style="font-size: 8pt; color: #008000;">//<span style="mso-spacerun: yes;">&#0160; </span>the path that the preset (render materials) will load. </span></span></span></p>
<p align="left" class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; mso-layout-grid-align: none;"><span style="font-family: Consolas;"><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt;"><span style="mso-tab-count: 1;"><span style="color: #000000;"><span style="font-size: 8pt;">&#0160;&#0160;&#0160;&#0160; </span></span></span></span><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt;"><span style="color: #008000;"><span style="font-size: 8pt;">//<span style="mso-spacerun: yes;">&#0160; </span>If null, the preset is the common light.</span></span></span></span></p>
<p align="left" class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; mso-layout-grid-align: none;"><span style="font-family: Consolas;"><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt;"><span style="color: #000000;"><span style="mso-tab-count: 1;"><span style="font-size: 8pt;">&#0160;&#0160;&#0160;&#0160; </span></span><span style="font-size: 8pt;">path: </span></span></span><span style="font-size: 8pt;"><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt;"><span style="color: #a31515;">&quot;DarkSky&quot;</span></span></span><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt;"><span style="color: #000000;"><span style="font-size: 8pt;">,</span><span style="mso-spacerun: yes;"><span style="font-size: 8pt;">&#0160; </span></span></span></span></span></p>
<p align="left" class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; mso-layout-grid-align: none;"><span style="font-family: Consolas;"><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt;"><span style="mso-tab-count: 1;"><span style="color: #000000;"><span style="font-size: 8pt;">&#0160;&#0160;&#0160;&#0160; </span></span></span></span><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt;"><span style="font-size: 8pt; color: #008000;">//unsure.</span></span></span></p>
<p align="left" class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; mso-layout-grid-align: none;"><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt;"><span style="font-family: Consolas;"><span style="color: #000000;"><span style="mso-tab-count: 1;"><span style="font-size: 8pt;">&#0160;&#0160;&#0160;&#0160; </span></span><span style="font-size: 8pt;">tonemap: 1,</span><span style="mso-tab-count: 1;"><span style="font-size: 8pt;">&#0160;&#0160;&#0160; </span></span></span></span></span></p>
<p align="left" class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; mso-layout-grid-align: none;"><span style="font-family: Consolas;"><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt;"><span style="mso-tab-count: 1;"><span style="color: #000000;"><span style="font-size: 8pt;">&#0160;&#0160;&#0160;&#0160; </span></span></span></span><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt;"><span style="color: #008000;"><span style="font-size: 8pt;">//unsure.</span></span></span></span></p>
<p align="left" class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; mso-layout-grid-align: none;"><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt;"><span style="font-family: Consolas;"><span style="color: #000000;"><span style="mso-tab-count: 1;"><span style="font-size: 8pt;">&#0160;&#0160;&#0160;&#0160; </span></span><span style="font-size: 8pt;">E_bias: -2,</span></span></span></span></p>
<p align="left" class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; mso-layout-grid-align: none;"><span style="font-family: Consolas;"><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt;"><span style="mso-tab-count: 1;"><span style="color: #000000;"><span style="font-size: 8pt;">&#0160;&#0160;&#0160;&#0160; </span></span></span></span><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt;"><span style="font-size: 8pt; color: #008000;">// direct light color in RGB</span></span></span></p>
<p align="left" class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; mso-layout-grid-align: none;"><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt;"><span style="font-family: Consolas;"><span style="color: #000000;"><span style="mso-tab-count: 1;"><span style="font-size: 8pt;">&#0160;&#0160;&#0160;&#0160; </span></span><span style="font-size: 8pt;">directLightColor: [1, 1, 1],</span></span></span></span></p>
<p align="left" class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; mso-layout-grid-align: none;"><span style="font-family: Consolas;"><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt;"><span style="mso-tab-count: 1;"><span style="color: #000000;"><span style="font-size: 8pt;">&#0160;&#0160;&#0160;&#0160; </span></span></span></span><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt;"><span style="font-size: 8pt; color: #008000;">//ambient color in RGB</span></span></span></p>
<p align="left" class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; mso-layout-grid-align: none;"><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt;"><span style="font-family: Consolas;"><span style="color: #000000;"><span style="mso-tab-count: 1;"><span style="font-size: 8pt;">&#0160;&#0160;&#0160;&#0160; </span></span><span style="font-size: 8pt;">ambientColor: [0, 0, 0],</span></span></span></span></p>
<p align="left" class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; mso-layout-grid-align: none;"><span style="font-family: Consolas;"><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt;"><span style="mso-tab-count: 1;"><span style="color: #000000;"><span style="font-size: 8pt;">&#0160;&#0160;&#0160;&#0160; </span></span></span></span><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt;"><span style="font-size: 8pt; color: #008000;">// light intensity</span></span></span></p>
<p align="left" class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; mso-layout-grid-align: none;"><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt;"><span style="font-family: Consolas;"><span style="color: #000000;"><span style="mso-tab-count: 1;"><span style="font-size: 8pt;">&#0160;&#0160;&#0160;&#0160; </span></span><span style="font-size: 8pt;">lightMultiplier: 2.5,</span></span></span></span></p>
<p align="left" class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; mso-layout-grid-align: none;"><span style="font-family: Consolas;"><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt;"><span style="mso-tab-count: 1;"><span style="color: #000000;"><span style="font-size: 8pt;">&#0160;&#0160;&#0160;&#0160; </span></span></span></span><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt;"><span style="font-size: 8pt; color: #008000;">//background color gradient. </span></span></span></p>
<p align="left" class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; mso-layout-grid-align: none;"><span style="font-family: Consolas;"><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt;"><span style="mso-tab-count: 1;"><span style="color: #000000;"><span style="font-size: 8pt;">&#0160;&#0160;&#0160;&#0160; </span></span></span></span><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt;"><span style="font-size: 8pt; color: #008000;">//There is a pre-defined array ‘b’. </span></span></span></p>
<p align="left" class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; mso-layout-grid-align: none;"><span style="font-family: Consolas;"><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt;"><span style="mso-tab-count: 1;"><span style="color: #000000;"><span style="font-size: 8pt;">&#0160;&#0160;&#0160;&#0160; </span></span></span></span><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt;"><span style="font-size: 8pt; color: #008000;">//it can be explicitly value </span></span></span></p>
<p align="left" class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; mso-layout-grid-align: none;"><span style="font-family: Consolas;"><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt;"><span style="mso-tab-count: 1;"><span style="color: #000000;"><span style="font-size: 8pt;">&#0160;&#0160;&#0160;&#0160; </span></span></span></span><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt;"><span style="font-size: 8pt; color: #008000;">//e.g. [red, green, blue, red2, green2, blue2]</span></span></span></p>
<p align="left" class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; mso-layout-grid-align: none;"><span style="font-family: Consolas;"><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt;"><span style="color: #000000;"><span style="mso-tab-count: 1;"><span style="font-size: 8pt;">&#0160;&#0160;&#0160;&#0160; </span></span><span style="font-size: 8pt;">bgColorGradient: b[</span></span></span><span style="font-size: 8pt;"><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt;"><span style="color: #a31515;">&quot;Dark Grey&quot;</span></span></span><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt;"><span style="font-size: 8pt; color: #000000;">],</span></span></span></p>
<p align="left" class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; mso-layout-grid-align: none;"><span style="font-family: Consolas;"><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt;"><span style="mso-tab-count: 1;"><span style="color: #000000;"><span style="font-size: 8pt;">&#0160;&#0160;&#0160;&#0160; </span></span></span></span><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt;"><span style="font-size: 8pt; color: #008000;">//whether darker fade</span></span></span></p>
<p align="left" class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; mso-layout-grid-align: none;"><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt;"><span style="font-family: Consolas;"><span style="color: #000000;"><span style="mso-tab-count: 1;"><span style="font-size: 8pt;">&#0160;&#0160;&#0160;&#0160; </span></span><span style="font-size: 8pt;">darkerFade: !1</span></span></span></span></p>
<p align="justify" class="MsoNormal" style="margin: 0cm 0cm 0pt; text-justify: inter-ideograph; line-height: normal;"><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; text-align: justify; text-justify: inter-ideograph; mso-highlight: white; mso-font-kerning: 0pt;"><span style="font-family: Consolas;"><span style="font-size: 8pt; color: #000000;">}</span></span></span></p>
<p align="justify" class="MsoNormal" style="margin: 0cm 0cm 0pt; text-justify: inter-ideograph; line-height: normal;">&#0160;</p>
<p>based on the format above, I tried to add one custom light set:</p>
<p align="left" class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; mso-layout-grid-align: none;"><span style="font-family: Consolas;"><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt;"><span style="color: #0000ff;"><span style="font-size: 8pt;">function</span></span></span><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt;"><span style="color: #000000;"><span style="font-size: 8pt;"> addCustomLight() {<span style="mso-tab-count: 2;">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160; </span></span><span style="mso-spacerun: yes;"><span style="font-size: 8pt;">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160; </span></span></span></span></span></p>
<p align="left" class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; mso-layout-grid-align: none;"><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt;"><span style="font-family: Consolas;"><span style="font-size: 8pt; color: #000000;">&#0160;</span></span></span></p>
<p align="left" class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; mso-layout-grid-align: none;"><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt;"><span style="font-family: Consolas;"><span style="color: #000000;"><span style="mso-tab-count: 1;"><span style="font-size: 8pt;">&#0160;&#0160;&#0160;&#0160; </span></span><span style="font-size: 8pt;">Autodesk.Viewing.Private.LightPresets.push({</span></span></span></span></p>
<p align="left" class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; mso-layout-grid-align: none;"><span style="font-family: Consolas;"><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt;"><span style="color: #000000;"><span style="mso-tab-count: 2;"><span style="font-size: 8pt;">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160; </span></span><span style="font-size: 8pt;">name: </span></span></span><span style="font-size: 8pt;"><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt;"><span style="color: #a31515;">&quot;My Custom Light&quot;</span></span></span><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt;"><span style="font-size: 8pt; color: #000000;">,</span></span></span></p>
<p align="left" class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; mso-layout-grid-align: none;"><span style="font-family: Consolas;"><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt;"><span style="color: #000000;"><span style="mso-tab-count: 2;"><span style="font-size: 8pt;">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160; </span></span><span style="font-size: 8pt;">path: </span></span></span><span style="font-size: 8pt;"><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt;"><span style="color: #0000ff;">null</span></span></span><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt;"><span style="font-size: 8pt; color: #000000;">,</span></span></span></p>
<p align="left" class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; mso-layout-grid-align: none;"><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt;"><span style="font-family: Consolas;"><span style="color: #000000;"><span style="mso-tab-count: 2;"><span style="font-size: 8pt;">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160; </span></span><span style="font-size: 8pt;">tonemap: 0,</span></span></span></span></p>
<p align="left" class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; mso-layout-grid-align: none;"><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt;"><span style="font-family: Consolas;"><span style="color: #000000;"><span style="mso-tab-count: 2;"><span style="font-size: 8pt;">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160; </span></span><span style="font-size: 8pt;">E_bias: 0,</span></span></span></span></p>
<p align="left" class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; mso-layout-grid-align: none;"><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt;"><span style="font-family: Consolas;"><span style="color: #000000;"><span style="mso-tab-count: 2;"><span style="font-size: 8pt;">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160; </span></span><span style="font-size: 8pt;">directLightColor: [0, 0.84, 0.67],</span></span></span></span></p>
<p align="left" class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; mso-layout-grid-align: none;"><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt;"><span style="font-family: Consolas;"><span style="color: #000000;"><span style="mso-tab-count: 2;"><span style="font-size: 8pt;">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160; </span></span><span style="font-size: 8pt;">ambientColor: [0.8, 0.9, 1],</span></span></span></span></p>
<p align="left" class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; mso-layout-grid-align: none;"><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt;"><span style="font-family: Consolas;"><span style="color: #000000;"><span style="mso-tab-count: 2;"><span style="font-size: 8pt;">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160; </span></span><span style="font-size: 8pt;">lightMultiplier: 0.1,</span></span></span></span></p>
<p align="left" class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; mso-layout-grid-align: none;"><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt;"><span style="font-family: Consolas;"><span style="color: #000000;"><span style="mso-tab-count: 2;"><span style="font-size: 8pt;">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160; </span></span><span style="font-size: 8pt;">bgColorGradient: [230, 230, 230, 150, 150, 150],</span></span></span></span></p>
<p align="left" class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; mso-layout-grid-align: none;"><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt;"><span style="font-family: Consolas;"><span style="color: #000000;"><span style="mso-tab-count: 2;"><span style="font-size: 8pt;">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160; </span></span><span style="font-size: 8pt;">darkerFade: !1</span></span></span></span></p>
<p align="left" class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; mso-layout-grid-align: none;"><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt;"><span style="font-family: Consolas;"><span style="color: #000000;"><span style="mso-tab-count: 1;"><span style="font-size: 8pt;">&#0160;&#0160;&#0160;&#0160; </span></span><span style="font-size: 8pt;">});</span></span></span></span></p>
<p align="left" class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; mso-layout-grid-align: none;"><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt;"><span style="font-family: Consolas;"><span style="font-size: 8pt; color: #000000;">&#0160;</span></span></span></p>
<p align="left" class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; mso-layout-grid-align: none;"><span style="font-family: Consolas;"><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt;"><span style="mso-tab-count: 1;"><span style="color: #000000;"><span style="font-size: 8pt;">&#0160;&#0160;&#0160;&#0160; </span></span></span></span><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt;"><span style="font-size: 8pt; color: #008000;">//to switch to the new light at once. </span></span></span></p>
<p align="left" class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; mso-layout-grid-align: none;"><span style="font-family: Consolas;"><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt;"><span style="mso-tab-count: 1;"><span style="color: #000000;"><span style="font-size: 8pt;">&#0160;&#0160;&#0160;&#0160; </span></span></span></span><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; mso-highlight: white; mso-font-kerning: 0pt;"><span style="font-size: 8pt; color: #008000;">//viewer3D.setLightPreset(Autodesk.Viewing.Private.LightPresets.length - 1); </span></span></span></p>
<p align="justify" class="MsoNormal" style="margin: 0cm 0cm 0pt; text-justify: inter-ideograph; line-height: normal;"><span lang="EN-US" style="background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; text-align: justify; text-justify: inter-ideograph; mso-highlight: white; mso-font-kerning: 0pt;"><span style="font-family: Consolas;"><span style="font-size: 8pt; color: #000000;">}</span></span></span></p>
<p>It looks there is not a method yet to refresh the option menu. So the new item is still the original. e.g., if the code sets the custom light, the current item of option menu will be blank.</p>
<p><a href="http://adndevblog.typepad.com/.a/6a0167607c2431970b01b7c74ded9a970b-pi"><img alt="image" border="0" height="210" src="/assets/image_97330e.jpg" style="background-image: none; padding-top: 0px; padding-left: 0px; margin: 0px; display: inline; padding-right: 0px; border: 0px;" title="image" width="244" /></a></p>
<p>However, if loading the model again, viewer will load the pre-lights of the session, so the custom item will be listed in the menu.</p>
<p><a href="http://adndevblog.typepad.com/.a/6a0167607c2431970b01b7c74ded9e970b-pi"><img alt="image" border="0" height="206" src="/assets/image_7efe1f.jpg" style="background-image: none; padding-top: 0px; padding-left: 0px; margin: 0px; display: inline; padding-right: 0px; border: 0px;" title="image" width="244" /></a></p>
<p>&#0160;Hope this helps a bit in case of need.</p>
<p><em>Please note that what I have tried is not the official method, it is rather an experiment, which means you would use that at your own risk.</em></p>
