---
layout: "post"
title: "Add Geometry with Autodesk View &amp; Data API by Three.js"
date: "2015-01-28 21:09:13"
author: "Xiaodong Liang"
categories:
  - "HTML5"
  - "Javascript"
  - "View and Data API"
  - "Xiaodong Liang"
original_url: "https://adndevblog.typepad.com/cloud_and_mobile/2015/01/add-geometry-with-autodesk-view-data-api-by-threejs.html "
typepad_basename: "add-geometry-with-autodesk-view-data-api-by-threejs"
typepad_status: "Publish"
---

<p>By <a href="http://adndevblog.typepad.com/aec/xiaodong-liang.html" target="_self">Xiaodong Liang</a></p>
<p>&nbsp;</p>
<p>As <a href="http://adndevblog.typepad.com/cloud_and_mobile/2015/01/what-is-this-view-data-api-thing-anyway.html">this blog</a> introduces: The viewer is built using the <a href="http://threejs.org/">THREE.js</a> library, so as well as the high level control provided by the Autodesk View &amp; Data API, you also have access and control over the underlying THREE.js objects that define the model scene (meshes, textures, camera, etc).</p>
<p>My colleagues have produced the nice codes on how to add meshes, add textures, manipulate camera etc in the <a href="https://github.com/Developer-Autodesk/library-javascript-viewer-extensions">extensions</a> of <a href="http://viewer.autodesk.io/node/gallery/#/gallery">Gallery Sample</a>. While Iâ€™d just want to sort out the basic workflow to access the relevant abilities of THREE. These two days, I did some tests, and found Viewer itself has initialized the renderer and scene of THREE. <strong>viewer.impl.scene</strong> is the entry point if you are going to manipulate something of THREE scene. e.g. if you want to add geometries, the workflow is similar to what you did in native THREE, i.e. create the geometry, set its parameters, and finally add it by scene.add. While you would need to firstly add the material used by the geometry to the materials collection of Viewer by <strong>viewer.impl.matman().addMaterial(); </strong></p>
<p>The following is the demo code I practiced. It will add two spheres at the max point and min point of the model bounding box respectively. For more complex sample such as adding mesh, please refer to <a href="https://github.com/Developer-Autodesk/library-javascript-viewer-extensions/tree/master/Autodesk.ADN.Viewing.Extension.MeshImporter">Autodesk.ADN.Viewing.Extension.MeshImporter</a></p>
<p><span style="font-family: consolas;"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="color: #0000ff;"><span style="font-size: 9.5pt;">function</span></span></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="color: #000000; font-size: 9.5pt;"> addSphere() {</span></span></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="mso-spacerun: yes;"><span style="font-family: consolas;"><span style="color: #000000; font-size: 9.5pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none;" align="left"><span style="font-family: consolas;"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="mso-spacerun: yes;"><span style="color: #000000;"><span style="font-size: 9.5pt;">&nbsp;&nbsp;&nbsp; </span></span></span></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="color: #008000; font-size: 9.5pt;">//create material red</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none;" align="left"><span style="font-family: consolas;"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="mso-spacerun: yes;"><span style="color: #000000;"><span style="font-size: 9.5pt;">&nbsp;&nbsp;&nbsp; </span></span></span></span><span style="font-size: 9.5pt;"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="color: #0000ff;">var</span></span></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="color: #000000; font-size: 9.5pt;"> material_red =</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none;" align="left"><span style="font-family: consolas;"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="mso-spacerun: yes;"><span style="color: #000000;"><span style="font-size: 9.5pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span></span><span style="font-size: 9.5pt;"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="color: #0000ff;">new</span></span></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="color: #000000; font-size: 9.5pt;"> THREE.MeshPhongMaterial(</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none;" align="left"><span style="font-family: consolas;"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="color: #000000; font-size: 9.5pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; { color: 0xff0000 });</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none;" align="left"><span style="font-family: consolas;"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="mso-spacerun: yes;"><span style="color: #000000;"><span style="font-size: 9.5pt;">&nbsp;&nbsp;&nbsp; </span></span></span></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="color: #008000; font-size: 9.5pt;">//add material red to collection </span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none;" align="left"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="font-family: consolas;"><span style="color: #000000;"><span style="mso-spacerun: yes;"><span style="font-size: 9.5pt;">&nbsp;&nbsp;&nbsp; </span></span><span style="font-size: 9.5pt;">_viewer.impl.matman().addMaterial(</span></span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none;" align="left"><span style="font-family: consolas;"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="mso-spacerun: yes;"><span style="color: #000000;"><span style="font-size: 9.5pt;">&nbsp;&nbsp;&nbsp; </span></span></span></span><span style="font-size: 9.5pt;"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="color: #a31515;">'ADN-Material'</span></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="color: #000000;"> + </span></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="color: #a31515;">'red'</span></span></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="color: #000000; font-size: 9.5pt;">,</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none;" align="left"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="font-family: consolas;"><span style="color: #000000;"><span style="mso-spacerun: yes;"><span style="font-size: 9.5pt;">&nbsp;&nbsp;&nbsp; </span></span><span style="font-size: 9.5pt;">material_red,</span></span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none;" align="left"><span style="font-family: consolas;"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="mso-spacerun: yes;"><span style="color: #000000;"><span style="font-size: 9.5pt;">&nbsp;&nbsp;&nbsp; </span></span></span></span><span style="font-size: 9.5pt;"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="color: #0000ff;">true</span></span></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="color: #000000; font-size: 9.5pt;">);</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none;" align="left"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="font-family: consolas;"><span style="color: #000000; font-size: 9.5pt;">&nbsp;</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none;" align="left"><span style="font-family: consolas;"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="mso-spacerun: yes;"><span style="color: #000000;"><span style="font-size: 9.5pt;">&nbsp;&nbsp;&nbsp; </span></span></span></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="color: #008000; font-size: 9.5pt;">//create material green</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none;" align="left"><span style="font-family: consolas;"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="mso-spacerun: yes;"><span style="color: #000000;"><span style="font-size: 9.5pt;">&nbsp;&nbsp;&nbsp; </span></span></span></span><span style="font-size: 9.5pt;"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="color: #0000ff;">var</span></span></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="color: #000000; font-size: 9.5pt;"> material_green =</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none;" align="left"><span style="font-family: consolas;"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="mso-spacerun: yes;"><span style="color: #000000;"><span style="font-size: 9.5pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span></span><span style="font-size: 9.5pt;"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="color: #0000ff;">new</span></span></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="color: #000000; font-size: 9.5pt;"> THREE.MeshPhongMaterial(</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none;" align="left"><span style="font-family: consolas;"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="color: #000000; font-size: 9.5pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; { color: 0x00FF00 });</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none;" align="left"><span style="font-family: consolas;"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="mso-spacerun: yes;"><span style="color: #000000;"><span style="font-size: 9.5pt;">&nbsp;&nbsp;&nbsp; </span></span></span></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="color: #008000; font-size: 9.5pt;">//add material green to collection </span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none;" align="left"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="font-family: consolas;"><span style="color: #000000;"><span style="mso-spacerun: yes;"><span style="font-size: 9.5pt;">&nbsp;&nbsp;&nbsp; </span></span><span style="font-size: 9.5pt;">_viewer.impl.matman().addMaterial(</span></span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none;" align="left"><span style="font-family: consolas;"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="mso-spacerun: yes;"><span style="color: #000000;"><span style="font-size: 9.5pt;">&nbsp;&nbsp;&nbsp; </span></span></span></span><span style="font-size: 9.5pt;"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="color: #a31515;">'ADN-Material'</span></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="color: #000000;"> + </span></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="color: #a31515;">'green'</span></span></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="color: #000000; font-size: 9.5pt;">,</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none;" align="left"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="font-family: consolas;"><span style="color: #000000;"><span style="mso-spacerun: yes;"><span style="font-size: 9.5pt;">&nbsp;&nbsp;&nbsp; </span></span><span style="font-size: 9.5pt;">material_green,</span></span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none;" align="left"><span style="font-family: consolas;"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="mso-spacerun: yes;"><span style="color: #000000;"><span style="font-size: 9.5pt;">&nbsp;&nbsp;&nbsp; </span></span></span></span><span style="font-size: 9.5pt;"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="color: #0000ff;">true</span></span></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="color: #000000; font-size: 9.5pt;">);</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none;" align="left"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="font-family: consolas;"><span style="color: #000000; font-size: 9.5pt;">&nbsp;</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none;" align="left"><span style="font-family: consolas;"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="mso-spacerun: yes;"><span style="color: #000000;"><span style="font-size: 9.5pt;">&nbsp;&nbsp;&nbsp; </span></span></span></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="color: #008000; font-size: 9.5pt;">//get bounding box of the model</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none;" align="left"><span style="font-family: consolas;"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="mso-spacerun: yes;"><span style="color: #000000;"><span style="font-size: 9.5pt;">&nbsp;&nbsp;&nbsp; </span></span></span></span><span style="font-size: 9.5pt;"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="color: #0000ff;">var</span></span></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="color: #000000; font-size: 9.5pt;"> boundingBox =</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none;" align="left"><span style="font-family: consolas;"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="color: #000000; font-size: 9.5pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; _viewer.model.getBoundingBox();</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none;" align="left"><span style="font-family: consolas;"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="mso-spacerun: yes;"><span style="color: #000000;"><span style="font-size: 9.5pt;">&nbsp;&nbsp;&nbsp; </span></span></span></span><span style="font-size: 9.5pt;"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="color: #0000ff;">var</span></span></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="color: #000000; font-size: 9.5pt;"> maxpt = boundingBox.max;</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none;" align="left"><span style="font-family: consolas;"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="mso-spacerun: yes;"><span style="color: #000000;"><span style="font-size: 9.5pt;">&nbsp;&nbsp;&nbsp; </span></span></span></span><span style="font-size: 9.5pt;"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="color: #0000ff;">var</span></span></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="color: #000000; font-size: 9.5pt;"> minpt = boundingBox.min;</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none;" align="left"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="font-family: consolas;"><span style="color: #000000; font-size: 9.5pt;">&nbsp;</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none;" align="left"><span style="font-family: consolas;"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="mso-spacerun: yes;"><span style="color: #000000;"><span style="font-size: 9.5pt;">&nbsp;&nbsp;&nbsp; </span></span></span></span><span style="font-size: 9.5pt;"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="color: #0000ff;">var</span></span></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="color: #000000; font-size: 9.5pt;"> xdiff =<span style="mso-spacerun: yes;">&nbsp;&nbsp;&nbsp; </span>maxpt.x - minpt.x;</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none;" align="left"><span style="font-family: consolas;"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="mso-spacerun: yes;"><span style="color: #000000;"><span style="font-size: 9.5pt;">&nbsp;&nbsp;&nbsp; </span></span></span></span><span style="font-size: 9.5pt;"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="color: #0000ff;">var</span></span></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="color: #000000; font-size: 9.5pt;"> ydiff =<span style="mso-spacerun: yes;">&nbsp;&nbsp;&nbsp; </span>maxpt.y - minpt.y;</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none;" align="left"><span style="font-family: consolas;"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="mso-spacerun: yes;"><span style="color: #000000;"><span style="font-size: 9.5pt;">&nbsp;&nbsp;&nbsp; </span></span></span></span><span style="font-size: 9.5pt;"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="color: #0000ff;">var</span></span></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="color: #000000; font-size: 9.5pt;"> zdiff =<span style="mso-spacerun: yes;">&nbsp;&nbsp;&nbsp; </span>maxpt.z - minpt.z; </span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none;" align="left"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="mso-spacerun: yes;"><span style="font-family: consolas;"><span style="color: #000000; font-size: 9.5pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none;" align="left"><span style="font-family: consolas;"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="mso-spacerun: yes;"><span style="color: #000000;"><span style="font-size: 9.5pt;">&nbsp;&nbsp;&nbsp; </span></span></span></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="color: #008000; font-size: 9.5pt;">//set a nice radius in the model size</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none;" align="left"><span style="font-family: consolas;"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="mso-spacerun: yes;"><span style="color: #000000;"><span style="font-size: 9.5pt;">&nbsp;&nbsp;&nbsp; </span></span></span></span><span style="font-size: 9.5pt;"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="color: #0000ff;">var</span></span></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="color: #000000; font-size: 9.5pt;"> niceRadius = </span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none;" align="left"><span style="font-family: consolas;"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="color: #000000; font-size: 9.5pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Math.pow((xdiff * xdiff +</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none;" align="left"><span style="font-family: consolas;"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="color: #000000; font-size: 9.5pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ydiff * ydiff + </span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none;" align="left"><span style="font-family: consolas;"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="color: #000000; font-size: 9.5pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; zdiff * zdiff), 0.5) / 10;</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none;" align="left"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="font-family: consolas;"><span style="color: #000000; font-size: 9.5pt;">&nbsp;</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none;" align="left"><span style="font-family: consolas;"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="mso-spacerun: yes;"><span style="color: #000000;"><span style="font-size: 9.5pt;">&nbsp;&nbsp;&nbsp; </span></span></span></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="color: #008000; font-size: 9.5pt;">//createsphere1 and place it at max point of boundingBox</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none;" align="left"><span style="font-family: consolas;"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="mso-spacerun: yes;"><span style="color: #000000;"><span style="font-size: 9.5pt;">&nbsp;&nbsp;&nbsp; </span></span></span></span><span style="font-size: 9.5pt;"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="color: #0000ff;">var</span></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="color: #000000;"> sphere_maxpt = </span></span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none;" align="left"><span style="font-family: consolas;"><span style="font-size: 9.5pt;"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="color: #0000ff;">new</span></span></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="color: #000000; font-size: 9.5pt;"> THREE.Mesh(</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none;" align="left"><span style="font-family: consolas;"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="color: #000000;"><span style="mso-spacerun: yes;"><span style="font-size: 9.5pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="font-size: 9.5pt;"><span style="mso-spacerun: yes;">&nbsp;&nbsp; </span></span></span></span><span style="font-size: 9.5pt;"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="color: #0000ff;">new</span></span></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="color: #000000;"><span style="font-size: 9.5pt;"> THREE.SphereGeometry(</span></span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none;" align="left"><span style="font-family: consolas;"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="color: #000000;"><span style="font-size: 9.5pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; niceRadius, 20),</span><span style="mso-spacerun: yes;"><span style="font-size: 9.5pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none;" align="left"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="font-family: consolas;"><span style="color: #000000;"><span style="mso-spacerun: yes;"><span style="font-size: 9.5pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="font-size: 9.5pt;">material_red);</span></span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none;" align="left"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="font-family: consolas;"><span style="color: #000000;"><span style="mso-spacerun: yes;"><span style="font-size: 9.5pt;">&nbsp;&nbsp;&nbsp; </span></span><span style="font-size: 9.5pt;">sphere_maxpt.position.set(maxpt.x, </span></span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none;" align="left"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="font-family: consolas;"><span style="color: #000000;"><span style="font-size: 9.5pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; maxpt.y, </span></span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none;" align="left"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="font-family: consolas;"><span style="color: #000000;"><span style="font-size: 9.5pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; maxpt.z);</span></span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none;" align="left"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="font-family: consolas;"><span style="color: #000000; font-size: 9.5pt;">&nbsp;</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none;" align="left"><span style="font-family: consolas;"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="mso-spacerun: yes;"><span style="color: #000000;"><span style="font-size: 9.5pt;">&nbsp;&nbsp;&nbsp; </span></span></span></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="color: #008000; font-size: 9.5pt;">//create<span style="mso-spacerun: yes;">&nbsp; </span>sphere2 and place it at </span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none;" align="left"><span style="font-family: consolas;"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="color: #008000; font-size: 9.5pt;">&nbsp;&nbsp;&nbsp; //min point of boundingBox</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none;" align="left"><span style="font-family: consolas;"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="mso-spacerun: yes;"><span style="color: #000000;"><span style="font-size: 9.5pt;">&nbsp;&nbsp;&nbsp; </span></span></span></span><span style="font-size: 9.5pt;"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="color: #0000ff;">var</span></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="color: #000000;"> sphere_minpt =</span></span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none;" align="left"><span style="font-family: consolas;"><span style="font-size: 9.5pt;"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="color: #0000ff;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; new</span></span></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="color: #000000; font-size: 9.5pt;"> THREE.Mesh(</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none;" align="left"><span style="font-family: consolas;"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="mso-spacerun: yes;"><span style="color: #000000;"><span style="font-size: 9.5pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span></span><span style="font-size: 9.5pt;"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="color: #0000ff;">new</span></span></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="color: #000000;"><span style="font-size: 9.5pt;"> THREE.SphereGeometry(</span></span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none;" align="left"><span style="font-family: consolas;"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="color: #000000;"><span style="font-size: 9.5pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; niceRadius, 20),</span><span style="mso-spacerun: yes;"><span style="font-size: 9.5pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none;" align="left"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="font-family: consolas;"><span style="color: #000000;"><span style="mso-spacerun: yes;"><span style="font-size: 9.5pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="font-size: 9.5pt;">material_green)</span></span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none;" align="left"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="font-family: consolas;"><span style="color: #000000;"><span style="mso-spacerun: yes;"><span style="font-size: 9.5pt;">&nbsp;&nbsp;&nbsp; </span></span><span style="font-size: 9.5pt;">sphere_minpt.position.set(minpt.x, </span></span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none;" align="left"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="font-family: consolas;"><span style="color: #000000;"><span style="font-size: 9.5pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; minpt.y,</span></span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none;" align="left"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="font-family: consolas;"><span style="color: #000000;"><span style="font-size: 9.5pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; minpt.z);</span></span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none;" align="left">&nbsp;</p>
<p class="MsoNormal" style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none;" align="left"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="font-family: consolas;"><span style="color: #000000; font-size: 9.5pt;">&nbsp;</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none;" align="left"><span style="font-family: consolas;"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="mso-spacerun: yes;"><span style="color: #000000;"><span style="font-size: 9.5pt;">&nbsp;&nbsp;&nbsp; </span></span></span></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="color: #008000; font-size: 9.5pt;">//add two spheres to scene</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none;" align="left"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="font-family: consolas;"><span style="color: #000000;"><span style="mso-spacerun: yes;"><span style="font-size: 9.5pt;">&nbsp;&nbsp;&nbsp; </span></span><span style="font-size: 9.5pt;">_viewer.impl.scene.add(sphere_maxpt);</span></span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none;" align="left"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="font-family: consolas;"><span style="color: #000000;"><span style="mso-spacerun: yes;"><span style="font-size: 9.5pt;">&nbsp;&nbsp;&nbsp; </span></span><span style="font-size: 9.5pt;">_viewer.impl.scene.add(sphere_minpt);</span></span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none;" align="left"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="font-family: consolas;"><span style="color: #000000; font-size: 9.5pt;">&nbsp;</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none;" align="left"><span style="font-family: consolas;"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="mso-spacerun: yes;"><span style="color: #000000;"><span style="font-size: 9.5pt;">&nbsp;&nbsp;&nbsp; </span></span></span></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="color: #008000;"><span style="font-size: 9.5pt;">//update the viewer</span><span style="mso-spacerun: yes;"><span style="font-size: 9.5pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none;" align="left"><span style="font-family: consolas;"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="color: #000000;"><span style="mso-spacerun: yes;"><span style="font-size: 9.5pt;">&nbsp;&nbsp;&nbsp; </span></span><span style="font-size: 9.5pt;">_viewer.impl.invalidate(</span></span></span><span style="font-size: 9.5pt;"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="color: #0000ff;">true</span></span></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="color: #000000; font-size: 9.5pt;">);</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0cm 0cm 0pt; mso-layout-grid-align: none;" align="left"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="mso-spacerun: yes;"><span style="font-family: consolas;"><span style="color: #000000; font-size: 9.5pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span></span></p>
<p class="MsoNormal" style="text-justify: inter-ideograph; line-height: normal; margin: 0cm 0cm 0pt;" align="justify"><span style="background-image: none; text-justify: inter-ideograph; text-align: justify; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-font-kerning: 0pt; mso-highlight: white;" lang="EN-US"><span style="font-family: consolas;"><span style="color: #000000; font-size: 9.5pt;">}</span></span></span></p>
<script type="text/javascript" src="http://code.jquery.com/jquery-2.1.3.min.js"></script>
<div id="XDAddGeometryLMVId">
<div id="XDAddGeometryLMVImgId">
<p><strong>Below is a snapshot of the demo, open the post in </strong><a href="http://adndevblog.typepad.com/cloud_and_mobile/2015/01/add-geometry-with-autodesk-view-data-api-by-threejs.html" target="_blank"><strong>its own tab</strong></a><strong> to see it running ... </strong></p>
<p>Note: I have made an extension with&nbsp; <a href="http://viewer.autodesk.io/node/gallery/#/gallery" target="_self">Gallery Sample.</a> When the viewer loads the sample model, the extension will be loaded and executed.</p>
<a href="http://adndevblog.typepad.com/.a/6a0167607c2431970b01b8d0cabdb5970c-pi"><img style="background-image: none; padding-left: 0px; padding-right: 0px; display: inline; padding-top: 0px; border-width: 0px;" title="image" src="/assets/image_994a5b.jpg" alt="image" width="463" height="301" border="0" /></a></div>
</div>
<script>

if(window.location.toString().indexOf('add-geometry-with-autodesk-view-data-api-by-threejs.html') > 0) {

$('#XDAddGeometryLMVImgId').remove();

var iframe = '<iframe width="500" height="480" frameborder="0" allowFullScreen webkitallowfullscreen mozallowfullscreen src="http://viewer.autodesk.io/node/gallery/embed/54464d43af600b5c0a87254c?extIds=_Autodesk.ADN.Viewing.Extension.XiaodongAddGeometryEmbed"></iframe>';

$('#XDAddGeometryLMVId').append(iframe);

}

</script>
