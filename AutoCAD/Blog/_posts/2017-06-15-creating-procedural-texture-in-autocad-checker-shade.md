---
layout: "post"
title: "Creating Procedural Texture in AutoCAD : Checker shade"
date: "2017-06-15 18:46:00"
author: "Madhukar Moogala"
categories:
  - "2015"
  - "2016"
  - "2017"
  - "AutoCAD"
  - "Madhukar Moogala"
original_url: "https://adndevblog.typepad.com/autocad/2017/06/creating-procedural-texture-in-autocad-checker-shade.html "
typepad_basename: "creating-procedural-texture-in-autocad-checker-shade"
typepad_status: "Publish"
---

<p>By <a href="http://adndevblog.typepad.com/autocad/Madhukar-Moogala.html" target="_self">Madhukar Moogala</a></p><p>Procedural textures are algorithmic texture unlike textures based on images these textures are created using logic, we can created patterned textures using Checker shade.</p><p>Programmatically we can create Checker,Speckle, Wave and Tile type generic textures.</p><p>In this post I will discuss how we can create a Checker procedural texture. </p><p><br></p>

<pre style="background: rgb(0, 0, 0); color: rgb(209, 209, 209);"><span style="color: rgb(230, 97, 112); font-weight: bold;">void</span> applyProceduralTextureToVase<span style="color: rgb(210, 205, 134);">(</span><span style="color: rgb(210, 205, 134);">)</span>
	<span style="color: rgb(176, 96, 176);">{</span>
	<span style="color: rgb(153, 153, 169);">//Select Vase</span>
	ads_point s_pt<span style="color: rgb(176, 96, 176);">;</span>
	ads_name s_ent<span style="color: rgb(176, 96, 176);">;</span>
	<span style="color: rgb(230, 97, 112); font-weight: bold;">if</span> <span style="color: rgb(210, 205, 134);">(</span>RTNORM <span style="color: rgb(210, 205, 134);">!</span><span style="color: rgb(210, 205, 134);">=</span> acedEntSel<span style="color: rgb(210, 205, 134);">(</span>_T<span style="color: rgb(210, 205, 134);">(</span><span style="color: rgb(2, 208, 69);">"</span><span style="color: rgb(0, 196, 196);">Select Vase</span><span style="color: rgb(2, 208, 69);">"</span><span style="color: rgb(210, 205, 134);">)</span><span style="color: rgb(210, 205, 134);">,</span> s_ent<span style="color: rgb(210, 205, 134);">,</span> s_pt<span style="color: rgb(210, 205, 134);">)</span><span style="color: rgb(210, 205, 134);">)</span> 
        <span style="color: rgb(230, 97, 112); font-weight: bold;">return</span><span style="color: rgb(176, 96, 176);">;</span>
	AcDbObjectId vaseId <span style="color: rgb(210, 205, 134);">=</span> AcDbObjectId<span style="color: rgb(176, 96, 176);">::</span>kNull<span style="color: rgb(176, 96, 176);">;</span>
	<span style="color: rgb(230, 97, 112); font-weight: bold;">if</span> <span style="color: rgb(210, 205, 134);">(</span><span style="color: rgb(210, 205, 134);">!</span>eOkVerify<span style="color: rgb(210, 205, 134);">(</span>acdbGetObjectId<span style="color: rgb(210, 205, 134);">(</span>vaseId<span style="color: rgb(210, 205, 134);">,</span> s_ent<span style="color: rgb(210, 205, 134);">)</span><span style="color: rgb(210, 205, 134);">)</span><span style="color: rgb(210, 205, 134);">)</span> 
        <span style="color: rgb(230, 97, 112); font-weight: bold;">return</span><span style="color: rgb(176, 96, 176);">;</span>
	AcDbObjectPointer<span style="color: rgb(176, 96, 176);">&lt;</span>AcDbEntity<span style="color: rgb(176, 96, 176);">&gt;</span> pVase<span style="color: rgb(210, 205, 134);">(</span>vaseId<span style="color: rgb(210, 205, 134);">,</span> AcDb<span style="color: rgb(176, 96, 176);">::</span>kForWrite<span style="color: rgb(210, 205, 134);">)</span><span style="color: rgb(176, 96, 176);">;</span>
	<span style="color: rgb(230, 97, 112); font-weight: bold;">if</span> <span style="color: rgb(210, 205, 134);">(</span><span style="color: rgb(210, 205, 134);">!</span>eOkVerify<span style="color: rgb(210, 205, 134);">(</span>pVase<span style="color: rgb(210, 205, 134);">.</span>openStatus<span style="color: rgb(210, 205, 134);">(</span><span style="color: rgb(210, 205, 134);">)</span><span style="color: rgb(210, 205, 134);">)</span><span style="color: rgb(210, 205, 134);">)</span> <span style="color: rgb(230, 97, 112); font-weight: bold;">return</span><span style="color: rgb(176, 96, 176);">;</span>
	<span style="color: rgb(230, 97, 112); font-weight: bold;">const</span> ACHAR<span style="color: rgb(210, 205, 134);">*</span> materialName <span style="color: rgb(210, 205, 134);">=</span> _T<span style="color: rgb(210, 205, 134);">(</span><span style="color: rgb(2, 208, 69);">"</span><span style="color: rgb(0, 196, 196);">TestGeneric</span><span style="color: rgb(2, 208, 69);">"</span><span style="color: rgb(210, 205, 134);">)</span><span style="color: rgb(176, 96, 176);">;</span>
	<span style="color: rgb(153, 153, 169);">//create Generic Procedural texture and apply to Material</span>
	createGenericTexture<span style="color: rgb(210, 205, 134);">(</span>materialName<span style="color: rgb(210, 205, 134);">)</span><span style="color: rgb(176, 96, 176);">;</span>
	<span style="color: rgb(153, 153, 169);">//Appy Material to Vase entity</span>
	pVase<span style="color: rgb(210, 205, 134);">-</span><span style="color: rgb(210, 205, 134);">&gt;</span>setMaterial<span style="color: rgb(210, 205, 134);">(</span>materialName<span style="color: rgb(210, 205, 134);">)</span><span style="color: rgb(176, 96, 176);">;</span>
	<span style="color: rgb(153, 153, 169);">//Compute Mapper and apply to vase entity</span>
	AcGiMapper mapper<span style="color: rgb(176, 96, 176);">;</span>
	mapper<span style="color: rgb(210, 205, 134);">.</span>setProjection<span style="color: rgb(210, 205, 134);">(</span>AcGiMapper<span style="color: rgb(176, 96, 176);">::</span>kSphere<span style="color: rgb(210, 205, 134);">)</span><span style="color: rgb(176, 96, 176);">;</span>
	mapper<span style="color: rgb(210, 205, 134);">.</span>setAutoTransform<span style="color: rgb(210, 205, 134);">(</span>AcGiMapper<span style="color: rgb(176, 96, 176);">::</span>kNone<span style="color: rgb(210, 205, 134);">)</span><span style="color: rgb(176, 96, 176);">;</span>
	mapper<span style="color: rgb(210, 205, 134);">.</span>setUTiling<span style="color: rgb(210, 205, 134);">(</span>AcGiMapper<span style="color: rgb(176, 96, 176);">::</span>kTile<span style="color: rgb(210, 205, 134);">)</span><span style="color: rgb(176, 96, 176);">;</span>
	mapper<span style="color: rgb(210, 205, 134);">.</span>setVTiling<span style="color: rgb(210, 205, 134);">(</span>AcGiMapper<span style="color: rgb(176, 96, 176);">::</span>kTile<span style="color: rgb(210, 205, 134);">)</span><span style="color: rgb(176, 96, 176);">;</span>
	<span style="color: rgb(230, 97, 112); font-weight: bold;">double</span> uScale <span style="color: rgb(210, 205, 134);">=</span> <span style="color: rgb(0, 140, 0);">1</span><span style="color: rgb(176, 96, 176);">;</span>
	<span style="color: rgb(230, 97, 112); font-weight: bold;">double</span> vScale <span style="color: rgb(210, 205, 134);">=</span> <span style="color: rgb(0, 140, 0);">1</span><span style="color: rgb(176, 96, 176);">;</span>
	<span style="color: rgb(230, 97, 112); font-weight: bold;">double</span> uOffset <span style="color: rgb(210, 205, 134);">=</span> <span style="color: rgb(0, 140, 0);">0</span><span style="color: rgb(176, 96, 176);">;</span>
	<span style="color: rgb(230, 97, 112); font-weight: bold;">double</span> vOffset <span style="color: rgb(210, 205, 134);">=</span> <span style="color: rgb(0, 140, 0);">0</span><span style="color: rgb(176, 96, 176);">;</span>
	AcGeMatrix3d mx<span style="color: rgb(176, 96, 176);">;</span>
	mx<span style="color: rgb(210, 205, 134);">(</span><span style="color: rgb(0, 140, 0);">0</span><span style="color: rgb(210, 205, 134);">,</span> <span style="color: rgb(0, 140, 0);">0</span><span style="color: rgb(210, 205, 134);">)</span> <span style="color: rgb(210, 205, 134);">=</span> uScale<span style="color: rgb(176, 96, 176);">;</span>
	mx<span style="color: rgb(210, 205, 134);">(</span><span style="color: rgb(0, 140, 0);">0</span><span style="color: rgb(210, 205, 134);">,</span> <span style="color: rgb(0, 140, 0);">1</span><span style="color: rgb(210, 205, 134);">)</span> <span style="color: rgb(210, 205, 134);">=</span> <span style="color: rgb(0, 159, 0);">0.000</span><span style="color: rgb(176, 96, 176);">;</span>
	mx<span style="color: rgb(210, 205, 134);">(</span><span style="color: rgb(0, 140, 0);">0</span><span style="color: rgb(210, 205, 134);">,</span> <span style="color: rgb(0, 140, 0);">2</span><span style="color: rgb(210, 205, 134);">)</span> <span style="color: rgb(210, 205, 134);">=</span> <span style="color: rgb(0, 159, 0);">0.000</span><span style="color: rgb(176, 96, 176);">;</span>
	mx<span style="color: rgb(210, 205, 134);">(</span><span style="color: rgb(0, 140, 0);">0</span><span style="color: rgb(210, 205, 134);">,</span> <span style="color: rgb(0, 140, 0);">3</span><span style="color: rgb(210, 205, 134);">)</span> <span style="color: rgb(210, 205, 134);">=</span> uScale<span style="color: rgb(210, 205, 134);">*</span>uOffset<span style="color: rgb(176, 96, 176);">;</span>
	mx<span style="color: rgb(210, 205, 134);">(</span><span style="color: rgb(0, 140, 0);">1</span><span style="color: rgb(210, 205, 134);">,</span> <span style="color: rgb(0, 140, 0);">0</span><span style="color: rgb(210, 205, 134);">)</span> <span style="color: rgb(210, 205, 134);">=</span> <span style="color: rgb(0, 159, 0);">0.000</span><span style="color: rgb(176, 96, 176);">;</span>
	mx<span style="color: rgb(210, 205, 134);">(</span><span style="color: rgb(0, 140, 0);">1</span><span style="color: rgb(210, 205, 134);">,</span> <span style="color: rgb(0, 140, 0);">1</span><span style="color: rgb(210, 205, 134);">)</span> <span style="color: rgb(210, 205, 134);">=</span> vScale<span style="color: rgb(176, 96, 176);">;</span>
	mx<span style="color: rgb(210, 205, 134);">(</span><span style="color: rgb(0, 140, 0);">1</span><span style="color: rgb(210, 205, 134);">,</span> <span style="color: rgb(0, 140, 0);">2</span><span style="color: rgb(210, 205, 134);">)</span> <span style="color: rgb(210, 205, 134);">=</span> <span style="color: rgb(0, 159, 0);">0.000</span><span style="color: rgb(176, 96, 176);">;</span>
	mx<span style="color: rgb(210, 205, 134);">(</span><span style="color: rgb(0, 140, 0);">1</span><span style="color: rgb(210, 205, 134);">,</span> <span style="color: rgb(0, 140, 0);">3</span><span style="color: rgb(210, 205, 134);">)</span> <span style="color: rgb(210, 205, 134);">=</span> vScale<span style="color: rgb(210, 205, 134);">*</span>vOffset<span style="color: rgb(176, 96, 176);">;</span>
	mx<span style="color: rgb(210, 205, 134);">(</span><span style="color: rgb(0, 140, 0);">2</span><span style="color: rgb(210, 205, 134);">,</span> <span style="color: rgb(0, 140, 0);">0</span><span style="color: rgb(210, 205, 134);">)</span> <span style="color: rgb(210, 205, 134);">=</span> <span style="color: rgb(0, 159, 0);">0.000</span><span style="color: rgb(176, 96, 176);">;</span>
	mx<span style="color: rgb(210, 205, 134);">(</span><span style="color: rgb(0, 140, 0);">2</span><span style="color: rgb(210, 205, 134);">,</span> <span style="color: rgb(0, 140, 0);">1</span><span style="color: rgb(210, 205, 134);">)</span> <span style="color: rgb(210, 205, 134);">=</span> <span style="color: rgb(0, 159, 0);">0.000</span><span style="color: rgb(176, 96, 176);">;</span>
	mx<span style="color: rgb(210, 205, 134);">(</span><span style="color: rgb(0, 140, 0);">2</span><span style="color: rgb(210, 205, 134);">,</span> <span style="color: rgb(0, 140, 0);">2</span><span style="color: rgb(210, 205, 134);">)</span> <span style="color: rgb(210, 205, 134);">=</span> <span style="color: rgb(0, 159, 0);">1.000</span><span style="color: rgb(176, 96, 176);">;</span>
	mx<span style="color: rgb(210, 205, 134);">(</span><span style="color: rgb(0, 140, 0);">2</span><span style="color: rgb(210, 205, 134);">,</span> <span style="color: rgb(0, 140, 0);">3</span><span style="color: rgb(210, 205, 134);">)</span> <span style="color: rgb(210, 205, 134);">=</span> <span style="color: rgb(0, 159, 0);">0.000</span><span style="color: rgb(176, 96, 176);">;</span>
	mx<span style="color: rgb(210, 205, 134);">(</span><span style="color: rgb(0, 140, 0);">3</span><span style="color: rgb(210, 205, 134);">,</span> <span style="color: rgb(0, 140, 0);">0</span><span style="color: rgb(210, 205, 134);">)</span> <span style="color: rgb(210, 205, 134);">=</span> <span style="color: rgb(0, 159, 0);">0.000</span><span style="color: rgb(176, 96, 176);">;</span>
	mx<span style="color: rgb(210, 205, 134);">(</span><span style="color: rgb(0, 140, 0);">3</span><span style="color: rgb(210, 205, 134);">,</span> <span style="color: rgb(0, 140, 0);">1</span><span style="color: rgb(210, 205, 134);">)</span> <span style="color: rgb(210, 205, 134);">=</span> <span style="color: rgb(0, 159, 0);">0.000</span><span style="color: rgb(176, 96, 176);">;</span>
	mx<span style="color: rgb(210, 205, 134);">(</span><span style="color: rgb(0, 140, 0);">3</span><span style="color: rgb(210, 205, 134);">,</span> <span style="color: rgb(0, 140, 0);">2</span><span style="color: rgb(210, 205, 134);">)</span> <span style="color: rgb(210, 205, 134);">=</span> <span style="color: rgb(0, 159, 0);">0.000</span><span style="color: rgb(176, 96, 176);">;</span>
	mx<span style="color: rgb(210, 205, 134);">(</span><span style="color: rgb(0, 140, 0);">3</span><span style="color: rgb(210, 205, 134);">,</span> <span style="color: rgb(0, 140, 0);">3</span><span style="color: rgb(210, 205, 134);">)</span> <span style="color: rgb(210, 205, 134);">=</span> <span style="color: rgb(0, 159, 0);">1.000</span><span style="color: rgb(176, 96, 176);">;</span>

	mapper<span style="color: rgb(210, 205, 134);">.</span>setTransform<span style="color: rgb(210, 205, 134);">(</span>mx<span style="color: rgb(210, 205, 134);">)</span><span style="color: rgb(176, 96, 176);">;</span>
	<span style="color: rgb(153, 153, 169);">//Apply Mapper to Vase </span>
	pVase<span style="color: rgb(210, 205, 134);">-</span><span style="color: rgb(210, 205, 134);">&gt;</span>setMaterialMapper<span style="color: rgb(210, 205, 134);">(</span>mapper<span style="color: rgb(210, 205, 134);">)</span><span style="color: rgb(176, 96, 176);">;</span>

	<span style="color: rgb(176, 96, 176);">}</span></pre>

<p>Util Methods:</p>
<pre style="background: rgb(0, 0, 0); color: rgb(209, 209, 209);">AcDbObjectId createMaterial<span style="color: rgb(210, 205, 134);">(</span><span style="color: rgb(230, 97, 112); font-weight: bold;">const</span> ACHAR<span style="color: rgb(210, 205, 134);">*</span><span style="color: rgb(210, 205, 134);">&amp;</span> name<span style="color: rgb(210, 205, 134);">)</span>
<span style="color: rgb(176, 96, 176);">{</span>
    <span style="color: rgb(153, 153, 169);">// Open the material dictionary for writing</span>
    AcDbDictionary <span style="color: rgb(210, 205, 134);">*</span>pMaterialDict<span style="color: rgb(176, 96, 176);">;</span>
    Acad<span style="color: rgb(176, 96, 176);">::</span>ErrorStatus dbStatus<span style="color: rgb(176, 96, 176);">;</span>
    AcDbObjectId mtlId<span style="color: rgb(176, 96, 176);">;</span>
<span style="color: rgb(0, 128, 115);">	</span><span style="color: rgb(0, 128, 115);">#</span><span style="color: rgb(0, 128, 115);">define</span><span style="color: rgb(0, 128, 115);"> cwDB acdbHostApplicationServices</span><span style="color: rgb(210, 205, 134);">(</span><span style="color: rgb(210, 205, 134);">)</span><span style="color: rgb(210, 205, 134);">-</span><span style="color: rgb(210, 205, 134);">&gt;</span><span style="color: rgb(0, 128, 115);">workingDatabase</span><span style="color: rgb(210, 205, 134);">(</span><span style="color: rgb(210, 205, 134);">)</span>
    <span style="color: rgb(230, 97, 112); font-weight: bold;">if</span> <span style="color: rgb(210, 205, 134);">(</span>cwDB<span style="color: rgb(210, 205, 134);">-</span><span style="color: rgb(210, 205, 134);">&gt;</span>getMaterialDictionary<span style="color: rgb(210, 205, 134);">(</span>pMaterialDict<span style="color: rgb(210, 205, 134);">,</span>
				  AcDb<span style="color: rgb(176, 96, 176);">::</span>kForWrite<span style="color: rgb(210, 205, 134);">)</span> <span style="color: rgb(210, 205, 134);">=</span><span style="color: rgb(210, 205, 134);">=</span> Acad<span style="color: rgb(176, 96, 176);">::</span>eOk<span style="color: rgb(210, 205, 134);">)</span>
    <span style="color: rgb(176, 96, 176);">{</span>
        <span style="color: rgb(153, 153, 169);">// Create and initialize the material</span>
        AcDbMaterial <span style="color: rgb(210, 205, 134);">*</span>pMaterialObj <span style="color: rgb(210, 205, 134);">=</span> <span style="color: rgb(230, 97, 112); font-weight: bold;">new</span> AcDbMaterial<span style="color: rgb(210, 205, 134);">(</span><span style="color: rgb(210, 205, 134);">)</span><span style="color: rgb(176, 96, 176);">;</span>
		<span style="color: rgb(153, 153, 169);">// Name</span>
        pMaterialObj<span style="color: rgb(210, 205, 134);">-</span><span style="color: rgb(210, 205, 134);">&gt;</span>setName<span style="color: rgb(210, 205, 134);">(</span>name<span style="color: rgb(210, 205, 134);">)</span><span style="color: rgb(176, 96, 176);">;</span>
		 <span style="color: rgb(153, 153, 169);">// Diffuse color</span>
        AcCmEntityColor acClr<span style="color: rgb(176, 96, 176);">;</span>
		acClr<span style="color: rgb(210, 205, 134);">.</span>setRGB<span style="color: rgb(210, 205, 134);">(</span><span style="color: rgb(0, 140, 0);">153</span><span style="color: rgb(210, 205, 134);">,</span> <span style="color: rgb(0, 140, 0);">153</span><span style="color: rgb(210, 205, 134);">,</span> <span style="color: rgb(0, 140, 0);">153</span><span style="color: rgb(210, 205, 134);">)</span><span style="color: rgb(176, 96, 176);">;</span>
		AcGiMaterialColor color<span style="color: rgb(176, 96, 176);">;</span>
        color<span style="color: rgb(210, 205, 134);">.</span>setMethod<span style="color: rgb(210, 205, 134);">(</span>AcGiMaterialColor<span style="color: rgb(176, 96, 176);">::</span>kOverride<span style="color: rgb(210, 205, 134);">)</span><span style="color: rgb(176, 96, 176);">;</span>
        color<span style="color: rgb(210, 205, 134);">.</span>setFactor<span style="color: rgb(210, 205, 134);">(</span><span style="color: rgb(0, 159, 0);">1.0</span><span style="color: rgb(210, 205, 134);">)</span><span style="color: rgb(176, 96, 176);">;</span>
        color<span style="color: rgb(210, 205, 134);">.</span>setColor<span style="color: rgb(210, 205, 134);">(</span>acClr<span style="color: rgb(210, 205, 134);">)</span><span style="color: rgb(176, 96, 176);">;</span>
		<span style="color: rgb(153, 153, 169);">// Diffuse texture</span>
        pMaterialObj<span style="color: rgb(210, 205, 134);">-</span><span style="color: rgb(210, 205, 134);">&gt;</span>setDiffuse<span style="color: rgb(210, 205, 134);">(</span>color<span style="color: rgb(210, 205, 134);">,</span> AcGiMaterialMap<span style="color: rgb(210, 205, 134);">(</span><span style="color: rgb(210, 205, 134);">)</span><span style="color: rgb(210, 205, 134);">)</span><span style="color: rgb(176, 96, 176);">;</span>
		  <span style="color: rgb(153, 153, 169);">// Ambient and specular color</span>
        AcGiMaterialColor inheritColor<span style="color: rgb(176, 96, 176);">;</span>
        color<span style="color: rgb(210, 205, 134);">.</span>setFactor<span style="color: rgb(210, 205, 134);">(</span><span style="color: rgb(0, 159, 0);">0.5</span><span style="color: rgb(210, 205, 134);">)</span><span style="color: rgb(176, 96, 176);">;</span>
        pMaterialObj<span style="color: rgb(210, 205, 134);">-</span><span style="color: rgb(210, 205, 134);">&gt;</span>setAmbient<span style="color: rgb(210, 205, 134);">(</span>color<span style="color: rgb(210, 205, 134);">)</span><span style="color: rgb(176, 96, 176);">;</span>
        pMaterialObj<span style="color: rgb(210, 205, 134);">-</span><span style="color: rgb(210, 205, 134);">&gt;</span>setSpecular<span style="color: rgb(210, 205, 134);">(</span>color<span style="color: rgb(210, 205, 134);">,</span> AcGiMaterialMap<span style="color: rgb(210, 205, 134);">(</span><span style="color: rgb(210, 205, 134);">)</span><span style="color: rgb(210, 205, 134);">,</span> <span style="color: rgb(0, 159, 0);">0.5</span><span style="color: rgb(210, 205, 134);">)</span><span style="color: rgb(176, 96, 176);">;</span>
		 <span style="color: rgb(153, 153, 169);">// Add material to dictionary</span>
        dbStatus <span style="color: rgb(210, 205, 134);">=</span> pMaterialDict<span style="color: rgb(210, 205, 134);">-</span><span style="color: rgb(210, 205, 134);">&gt;</span>setAt<span style="color: rgb(210, 205, 134);">(</span>name<span style="color: rgb(210, 205, 134);">,</span> pMaterialObj<span style="color: rgb(210, 205, 134);">,</span> mtlId<span style="color: rgb(210, 205, 134);">)</span><span style="color: rgb(176, 96, 176);">;</span>
        assert<span style="color: rgb(210, 205, 134);">(</span>dbStatus <span style="color: rgb(210, 205, 134);">=</span><span style="color: rgb(210, 205, 134);">=</span> Acad<span style="color: rgb(176, 96, 176);">::</span>eOk<span style="color: rgb(210, 205, 134);">)</span><span style="color: rgb(176, 96, 176);">;</span>
		<span style="color: rgb(153, 153, 169);">// Close the material and dictionary</span>
        pMaterialObj<span style="color: rgb(210, 205, 134);">-</span><span style="color: rgb(210, 205, 134);">&gt;</span>close<span style="color: rgb(210, 205, 134);">(</span><span style="color: rgb(210, 205, 134);">)</span><span style="color: rgb(176, 96, 176);">;</span>
        pMaterialDict<span style="color: rgb(210, 205, 134);">-</span><span style="color: rgb(210, 205, 134);">&gt;</span>close<span style="color: rgb(210, 205, 134);">(</span><span style="color: rgb(210, 205, 134);">)</span><span style="color: rgb(176, 96, 176);">;</span>
    <span style="color: rgb(176, 96, 176);">}</span>
    <span style="color: rgb(230, 97, 112); font-weight: bold;">return</span> mtlId<span style="color: rgb(176, 96, 176);">;</span>

	<span style="color: rgb(176, 96, 176);">}</span>

<span style="color: rgb(230, 97, 112); font-weight: bold;">void</span> createGenericTexture<span style="color: rgb(210, 205, 134);">(</span><span style="color: rgb(230, 97, 112); font-weight: bold;">const</span> ACHAR<span style="color: rgb(210, 205, 134);">*</span><span style="color: rgb(210, 205, 134);">&amp;</span> materialName<span style="color: rgb(210, 205, 134);">)</span>
	<span style="color: rgb(176, 96, 176);">{</span>
	<span style="color: rgb(153, 153, 169);">// This example is a simple procedural texture</span>
	
	<span style="color: rgb(153, 153, 169);">//Create a Material "Test"</span>
	AcDbObjectId mtlId <span style="color: rgb(210, 205, 134);">=</span> createMaterial<span style="color: rgb(210, 205, 134);">(</span>materialName<span style="color: rgb(210, 205, 134);">)</span><span style="color: rgb(176, 96, 176);">;</span>
	AcDbObjectPointer<span style="color: rgb(176, 96, 176);">&lt;</span>AcDbMaterial<span style="color: rgb(176, 96, 176);">&gt;</span> mtl<span style="color: rgb(210, 205, 134);">(</span>mtlId<span style="color: rgb(210, 205, 134);">,</span> AcDb<span style="color: rgb(176, 96, 176);">::</span>kForWrite<span style="color: rgb(210, 205, 134);">)</span><span style="color: rgb(176, 96, 176);">;</span>
	<span style="color: rgb(230, 97, 112); font-weight: bold;">if</span> <span style="color: rgb(210, 205, 134);">(</span>Acad<span style="color: rgb(176, 96, 176);">::</span>eOk <span style="color: rgb(210, 205, 134);">!</span><span style="color: rgb(210, 205, 134);">=</span> mtl<span style="color: rgb(210, 205, 134);">.</span>openStatus<span style="color: rgb(210, 205, 134);">(</span><span style="color: rgb(210, 205, 134);">)</span><span style="color: rgb(210, 205, 134);">)</span>
		<span style="color: rgb(230, 97, 112); font-weight: bold;">return</span><span style="color: rgb(176, 96, 176);">;</span>
	mtl<span style="color: rgb(210, 205, 134);">-</span><span style="color: rgb(210, 205, 134);">&gt;</span>setMode<span style="color: rgb(210, 205, 134);">(</span>AcGiMaterialTraits<span style="color: rgb(176, 96, 176);">::</span>kRealistic<span style="color: rgb(210, 205, 134);">)</span><span style="color: rgb(176, 96, 176);">;</span>
	AcCmColor clr1<span style="color: rgb(210, 205, 134);">,</span> clr2<span style="color: rgb(176, 96, 176);">;</span>
	clr1<span style="color: rgb(210, 205, 134);">.</span>setRGB<span style="color: rgb(210, 205, 134);">(</span><span style="color: rgb(0, 140, 0);">0</span><span style="color: rgb(210, 205, 134);">,</span> <span style="color: rgb(0, 140, 0);">127</span><span style="color: rgb(210, 205, 134);">,</span> <span style="color: rgb(0, 140, 0);">255</span><span style="color: rgb(210, 205, 134);">)</span><span style="color: rgb(176, 96, 176);">;</span>
	clr2<span style="color: rgb(210, 205, 134);">.</span>setRGB<span style="color: rgb(210, 205, 134);">(</span><span style="color: rgb(0, 140, 0);">191</span><span style="color: rgb(210, 205, 134);">,</span> <span style="color: rgb(0, 140, 0);">255</span><span style="color: rgb(210, 205, 134);">,</span> <span style="color: rgb(0, 140, 0);">0</span><span style="color: rgb(210, 205, 134);">)</span><span style="color: rgb(176, 96, 176);">;</span>
	
	AcGiVariant varData<span style="color: rgb(176, 96, 176);">;</span>
	<span style="color: rgb(153, 153, 169);">// the Shader element</span>
	varData<span style="color: rgb(210, 205, 134);">.</span>setElem<span style="color: rgb(210, 205, 134);">(</span>_T<span style="color: rgb(210, 205, 134);">(</span><span style="color: rgb(2, 208, 69);">"</span><span style="color: rgb(0, 196, 196);">Shader</span><span style="color: rgb(2, 208, 69);">"</span><span style="color: rgb(210, 205, 134);">)</span><span style="color: rgb(210, 205, 134);">,</span> AcGiVariant<span style="color: rgb(210, 205, 134);">(</span>_T<span style="color: rgb(210, 205, 134);">(</span><span style="color: rgb(2, 208, 69);">"</span><span style="color: rgb(0, 196, 196);">Checker</span><span style="color: rgb(2, 208, 69);">"</span><span style="color: rgb(210, 205, 134);">)</span><span style="color: rgb(210, 205, 134);">)</span><span style="color: rgb(210, 205, 134);">)</span><span style="color: rgb(176, 96, 176);">;</span> 
	<span style="color: rgb(153, 153, 169);">//the soften element</span>
	varData<span style="color: rgb(210, 205, 134);">.</span>setElem<span style="color: rgb(210, 205, 134);">(</span>_T<span style="color: rgb(210, 205, 134);">(</span><span style="color: rgb(2, 208, 69);">"</span><span style="color: rgb(0, 196, 196);">Soften</span><span style="color: rgb(2, 208, 69);">"</span><span style="color: rgb(210, 205, 134);">)</span><span style="color: rgb(210, 205, 134);">,</span> AcGiVariant<span style="color: rgb(210, 205, 134);">(</span><span style="color: rgb(0, 159, 0);">0.0</span><span style="color: rgb(210, 205, 134);">)</span><span style="color: rgb(210, 205, 134);">)</span><span style="color: rgb(176, 96, 176);">;</span> 
	AcGiVariant clr1Data<span style="color: rgb(210, 205, 134);">,</span>clr2Data<span style="color: rgb(176, 96, 176);">;</span>
		clr1Data<span style="color: rgb(210, 205, 134);">.</span>setElem<span style="color: rgb(210, 205, 134);">(</span>_T<span style="color: rgb(210, 205, 134);">(</span><span style="color: rgb(2, 208, 69);">"</span><span style="color: rgb(0, 196, 196);">Color</span><span style="color: rgb(2, 208, 69);">"</span><span style="color: rgb(210, 205, 134);">)</span><span style="color: rgb(210, 205, 134);">,</span> AcGiVariant<span style="color: rgb(210, 205, 134);">(</span>clr1<span style="color: rgb(210, 205, 134);">)</span><span style="color: rgb(210, 205, 134);">)</span><span style="color: rgb(176, 96, 176);">;</span>
	varData<span style="color: rgb(210, 205, 134);">.</span>setElem<span style="color: rgb(210, 205, 134);">(</span>_T<span style="color: rgb(210, 205, 134);">(</span><span style="color: rgb(2, 208, 69);">"</span><span style="color: rgb(0, 196, 196);">Map1</span><span style="color: rgb(2, 208, 69);">"</span><span style="color: rgb(210, 205, 134);">)</span><span style="color: rgb(210, 205, 134);">,</span> clr1Data<span style="color: rgb(210, 205, 134);">)</span><span style="color: rgb(176, 96, 176);">;</span>
		clr2Data<span style="color: rgb(210, 205, 134);">.</span>setElem<span style="color: rgb(210, 205, 134);">(</span>_T<span style="color: rgb(210, 205, 134);">(</span><span style="color: rgb(2, 208, 69);">"</span><span style="color: rgb(0, 196, 196);">Color</span><span style="color: rgb(2, 208, 69);">"</span><span style="color: rgb(210, 205, 134);">)</span><span style="color: rgb(210, 205, 134);">,</span> AcGiVariant<span style="color: rgb(210, 205, 134);">(</span>clr2<span style="color: rgb(210, 205, 134);">)</span><span style="color: rgb(210, 205, 134);">)</span><span style="color: rgb(176, 96, 176);">;</span>
	varData<span style="color: rgb(210, 205, 134);">.</span>setElem<span style="color: rgb(210, 205, 134);">(</span>_T<span style="color: rgb(210, 205, 134);">(</span><span style="color: rgb(2, 208, 69);">"</span><span style="color: rgb(0, 196, 196);">Map2</span><span style="color: rgb(2, 208, 69);">"</span><span style="color: rgb(210, 205, 134);">)</span><span style="color: rgb(210, 205, 134);">,</span> clr2Data<span style="color: rgb(210, 205, 134);">)</span><span style="color: rgb(176, 96, 176);">;</span>
	<span style="color: rgb(153, 153, 169);">//Set Variant Data to Texture</span>
	AcGiGenericTexture texture<span style="color: rgb(176, 96, 176);">;</span>
	texture<span style="color: rgb(210, 205, 134);">.</span>setDefinition<span style="color: rgb(210, 205, 134);">(</span>varData<span style="color: rgb(210, 205, 134);">)</span><span style="color: rgb(176, 96, 176);">;</span>
	<span style="color: rgb(153, 153, 169);">//Set Texture to Material Map</span>
	AcGiMaterialMap <span style="color: rgb(230, 97, 112); font-weight: bold;">map</span><span style="color: rgb(176, 96, 176);">;</span>
	<span style="color: rgb(230, 97, 112); font-weight: bold;">map</span><span style="color: rgb(210, 205, 134);">.</span>setTexture<span style="color: rgb(210, 205, 134);">(</span><span style="color: rgb(210, 205, 134);">&amp;</span>texture<span style="color: rgb(210, 205, 134);">)</span><span style="color: rgb(176, 96, 176);">;</span>
	<span style="color: rgb(153, 153, 169);">//Apply Texture Material Map to Material</span>
	mtl<span style="color: rgb(210, 205, 134);">-</span><span style="color: rgb(210, 205, 134);">&gt;</span>setDiffuse<span style="color: rgb(210, 205, 134);">(</span>AcGiMaterialColor<span style="color: rgb(210, 205, 134);">(</span><span style="color: rgb(210, 205, 134);">)</span><span style="color: rgb(210, 205, 134);">,</span> <span style="color: rgb(230, 97, 112); font-weight: bold;">map</span><span style="color: rgb(210, 205, 134);">)</span><span style="color: rgb(176, 96, 176);">;</span>

	<span style="color: rgb(176, 96, 176);">}</span>
</pre>
<p>ScreenCast Demo</p>
<iframe width="320" height="420" src="https://screencast.autodesk.com/Embed/Timeline/e06af1d3-2132-41e4-8c19-dc1f7db30400" frameborder="0" allowfullscreen="" webkitallowfullscreen=""></iframe>
