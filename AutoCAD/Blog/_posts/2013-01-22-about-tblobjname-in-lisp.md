---
layout: "post"
title: "About tblobjname in LISP"
date: "2013-01-22 10:03:31"
author: "Augusto Goncalves"
categories:
  - "Augusto Goncalves"
  - "AutoCAD"
  - "LISP"
original_url: "https://adndevblog.typepad.com/autocad/2013/01/about-tblobjname-in-lisp.html "
typepad_basename: "about-tblobjname-in-lisp"
typepad_status: "Publish"
---

<p>By <a href="http://adndevblog.typepad.com/autocad/augusto-goncalves.html">Augusto Goncalves</a></p>  <p>Different handles are returned by (tblobjname &quot;block&quot; &quot;&quot;) and (vlas-invoke-method blocks &quot;item&quot; &quot;&quot;), which is rooted in their history.   <br />&#160; <br />(tblobjname) returns the block's &quot;BLOCK&quot; entity, also known as the AcDbBlockBegin object, which rooted in history (i.e. something only existing LISP code could rationalize). This is what (tblsearch &quot;block&quot; &quot;)) used to return elements of.    <br />&#160; <br />(vlax-invoke-method blocks &quot;item&quot; &quot;&quot;) returns the object Id of the actual Block Table Record, which is generally of greater interest to &quot;modern code&quot;. ObjectARX and ActiveX applications should have no (or little) use for AcDbBlockBegin and AcDbBlockEnd entities, they exist only for compatibility reasons.</p>  <p>This code can be used to get to the block object:</p>  <p><span style="line-height: 120%; font-family: &#39;courier new&#39;, courier; font-size: 8pt"><span style="color: #ff0000">(</span><span style="color: #0000ff">defun</span> c:getToBlock <span style="color: #ff0000">(</span><span style="color: #0000ff">/</span> acadApp acadDoc acadBlocks myBlock myBlockHandle<span style="color: #ff0000">)</span>      <br />&#160; <span style="color: #ff0000">(</span><span style="color: #0000ff">if</span>&#160;<span style="color: #ff0000">(</span>and <span style="color: #ff0000">(</span><span style="color: #0000ff">setq</span> e1 <span style="color: #ff0000">(</span><span style="color: #0000ff">entsel</span>&#160;<span style="color: #ff00ff">&quot;\nSelect Block Reference: &quot;</span><span style="color: #ff0000">)</span><span style="color: #ff0000">)</span>      <br />&#160;&#160;&#160; <span style="color: #ff0000">(</span>= <span style="color: #ff0000">(</span><span style="color: #0000ff">cdr</span>&#160;<span style="color: #ff0000">(</span><span style="color: #0000ff">assoc</span>&#160;<span style="color: #008000">0</span>&#160;<span style="color: #ff0000">(</span><span style="color: #0000ff">entget</span>&#160;<span style="color: #ff0000">(</span><span style="color: #0000ff">car</span> e1<span style="color: #ff0000">)</span><span style="color: #ff0000">)</span><span style="color: #ff0000">)</span><span style="color: #ff0000">)</span>&#160;<span style="color: #ff00ff">&quot;INSERT&quot;</span><span style="color: #ff0000">)</span><span style="color: #ff0000">)</span>      <br />&#160;&#160;&#160; <span style="color: #ff0000">(</span><span style="color: #0000ff">progn</span>      <br />&#160;&#160;&#160;&#160;&#160; <span style="color: #ff0000">(</span><span style="color: #0000ff">vl-load-com</span><span style="color: #ff0000">)</span>      <br />&#160;&#160;&#160;&#160;&#160; <span style="color: #ff0000">(</span>Setq acadApp <span style="color: #ff0000">(</span><span style="color: #0000ff">vlax-get-acad-object</span><span style="color: #ff0000">)</span>      <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160; acadDoc <span style="color: #ff0000">(</span><span style="color: #0000ff">vla-get-ActiveDocument</span> acadApp<span style="color: #ff0000">)</span>&#160; <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160; acadBlocks&#160; <span style="color: #ff0000">(</span><span style="color: #0000ff">vlax-get-property</span> acadDoc <span style="color: #ff00ff">&quot;blocks&quot;</span><span style="color: #ff0000">)</span>      <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160; myBlock <span style="color: #ff0000">(</span><span style="color: #0000ff">vlax-invoke-method</span> acadBlocks <span style="color: #ff00ff">&quot;item&quot;</span>&#160; <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style="color: #ff0000">(</span><span style="color: #0000ff">cdr</span>&#160;<span style="color: #ff0000">(</span><span style="color: #0000ff">assoc</span>&#160;<span style="color: #008000">2</span>&#160;<span style="color: #ff0000">(</span><span style="color: #0000ff">entget</span>&#160;<span style="color: #ff0000">(</span><span style="color: #0000ff">car</span> e1<span style="color: #ff0000">)</span><span style="color: #ff0000">)</span><span style="color: #ff0000">)</span><span style="color: #ff0000">)</span><span style="color: #ff0000">)</span>      <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160; myBlockHandle <span style="color: #ff0000">(</span><span style="color: #0000ff">vlax-get-property</span> myBlock <span style="color: #ff00ff">&quot;handle&quot;</span><span style="color: #ff0000">)</span><span style="color: #ff0000">)</span>      <br />&#160;&#160;&#160;&#160;&#160; <span style="color: #ff0000">(</span><span style="color: #0000ff">print</span> myBlock<span style="color: #ff0000">)</span>      <br />&#160;&#160;&#160; <span style="color: #ff0000">)</span>      <br />&#160; <span style="color: #ff0000">)</span>      <br />&#160; <span style="color: #ff0000">(</span><span style="color: #0000ff">princ</span><span style="color: #ff0000">)</span>      <br /><span style="color: #ff0000">)</span></span></p>
