---
layout: "post"
title: "LISP (entmake)&rsquo;ing a WipeOut object in AutoCAD gives different coordinates than expected"
date: "2012-05-23 14:00:00"
author: "Fenton Webb"
categories:
  - "2010"
  - "2011"
  - "2012"
  - "2013"
  - "AutoCAD"
  - "LISP"
original_url: "https://adndevblog.typepad.com/autocad/2012/05/lisp-entmakeing-a-wipeout-object-in-autocad-gives-different-coordinates-than-expected.html "
typepad_basename: "lisp-entmakeing-a-wipeout-object-in-autocad-gives-different-coordinates-than-expected"
typepad_status: "Publish"
---

<p>by <a href="http://adndevblog.typepad.com/autocad/fenton-webb.html">Fenton Webb</a></p>
<p>Here’s one from the past I thought you might all like to see.</p>
<p>Using LISP to (entmake) a Wipeout object inside of AutoCAD… Adding the x,y,z values for group code 10 and the coordinates for the boundary (group code 14) it seems that when the wipeout is created it is not located at the specified coordinates…</p>
<p>The reason is because some objects use the OCS (<a href="http://www.autodesk.com/techpubs/autocad/acad2000/dxf/object_coordinate_systems_40ocs41_dxf_ab.htm">Object Coordinate System</a>)</p>
<p>Here’s a couple of examples which show how to deal specifically with the WipeOut object so that it places in the drawing as you would expect.</p>
<p><span style="font-family: Consolas; color: #c0504d;">(defun c:makewo (/ ) <br />&#0160; (setq ins_pt (getpoint &quot;select a point for lower left of 2x2 wipeout&quot;)) <br />&#0160; ; Add 1.5 to the x and subtract .5 from the Y point <br />&#0160; ; With this change to the point used for the lower left <br />&#0160; ; the wipeout is the same as the selected point. <br />&#0160; (setq xVal (nth 0 ins_pt)) <br />&#0160; (setq xVal (+ xVal 1.5)) <br />&#0160; (setq yVal (nth 1 ins_pt)) <br />&#0160; (setq yVal (- yVal 0.5)) <br />&#0160; <br />&#0160; (entmake <br />&#0160;&#0160;&#0160; (list <br />&#0160;&#0160;&#0160;&#0160;&#0160; &#39;(0 . &quot;WIPEOUT&quot;) <br />&#0160;&#0160;&#0160;&#0160;&#0160; &#39;(100 . &quot;AcDbEntity&quot;) <br />&#0160;&#0160;&#0160;&#0160;&#0160; &#39;(8 . &quot;0&quot;) <br />&#0160;&#0160;&#0160;&#0160;&#0160; &#39;(100 . &quot;AcDbWipeout&quot;) <br />&#0160;&#0160;&#0160;&#0160;&#0160; (cons 10 (list xVal yVal 0.0)) <br />&#0160;&#0160;&#0160;&#0160;&#0160; (cons 11 &#39;(0.0 1.0 0.0)) <br />&#0160;&#0160;&#0160;&#0160;&#0160; (cons 12 &#39;(1.0 0.0 0.0)) <br />&#0160;&#0160;&#0160;&#0160;&#0160; (cons 13 &#39;(1.0 1.0 0.0)) <br />&#0160;&#0160;&#0160;&#0160;&#0160; &#39;(70 . 7) <br />&#0160;&#0160;&#0160;&#0160;&#0160; &#39;(280 . 1) <br />&#0160;&#0160;&#0160;&#0160;&#0160; &#39;(281 . 50) <br />&#0160;&#0160;&#0160;&#0160;&#0160; &#39;(282 . 50) <br />&#0160;&#0160;&#0160;&#0160;&#0160; &#39;(283 . 0) <br />&#0160;&#0160;&#0160;&#0160;&#0160; &#39;(71 . 2); 1=RECTANGLE 2=POLYGON <br />&#0160;&#0160;&#0160;&#0160;&#0160; &#39;(91 . 5); NUMBER OF VERTICIES TO FOLLOW</span></p>
<p><span style="font-family: Consolas; color: #c0504d;">&#0160;&#0160;&#0160;&#0160;&#0160; ; Note: X and Y are reversed compared to the UCS <br />&#0160;&#0160;&#0160;&#0160;&#0160; ; the origin of these points is the lower right <br />&#0160;&#0160;&#0160;&#0160;&#0160; ; This is the lower right corner <br />&#0160;&#0160;&#0160;&#0160;&#0160; (cons 14 &#39;(0.0 0.0 0.0)) <br />&#0160;&#0160;&#0160;&#0160;&#0160; ;x and y are reversed 2.0 is the first y coordinate <br />&#0160;&#0160;&#0160;&#0160;&#0160; ;on the upper right corner <br />&#0160;&#0160;&#0160;&#0160;&#0160; (cons 14 &#39;(2.0 0.0 0.0)) <br />&#0160;&#0160;&#0160;&#0160;&#0160; ;This is the upper left corner <br />&#0160;&#0160;&#0160;&#0160;&#0160; ; Notice that the second coordinate is the X value <br />&#0160;&#0160;&#0160;&#0160;&#0160; ; and that a positive value moves it to the left which is <br />&#0160;&#0160;&#0160;&#0160;&#0160; ; the opposite of the default UCS. <br />&#0160;&#0160;&#0160;&#0160;&#0160; (cons 14 &#39;(2.0 2.0 0.0)) <br />&#0160;&#0160;&#0160;&#0160;&#0160; ;This is the lower left corner <br />&#0160;&#0160;&#0160;&#0160;&#0160; (cons 14 &#39;(0.0 2.0 0.0)) <br />&#0160;&#0160;&#0160;&#0160;&#0160; ;This completes the boundary of the wipeout <br />&#0160;&#0160;&#0160;&#0160;&#0160; ;needs to be the same as the first coordinate <br />&#0160;&#0160;&#0160;&#0160;&#0160; (cons 14 &#39;(0.0 0.0 0.0))</span></p>
<p><span style="font-family: Consolas; color: #c0504d;">&#0160;&#0160;&#0160;&#0160;&#0160; ) <br />&#0160;&#0160;&#0160; ) <br />&#0160; )</span></p>
<p><br /><span style="font-family: Consolas; color: #c0504d;">(defun c:makewo2 () <br />&#0160; (setq ins_pt (getpoint &quot;select a point&quot;)) <br />&#0160; (setq xVal (nth 0 ins_pt)) <br />&#0160; (setq xVal (+ xVal 1.5)) <br />&#0160; (setq yVal (nth 1 ins_pt)) <br />&#0160; (setq yVal (- yVal 0.5))</span></p>
<p><span style="font-family: Consolas; color: #c0504d;">&#0160; (entmake <br />&#0160;&#0160;&#0160; (list <br />&#0160;&#0160;&#0160;&#0160;&#0160; &#39;(0 . &quot;WIPEOUT&quot;) <br />&#0160;&#0160;&#0160;&#0160;&#0160; &#39;(100 . &quot;AcDbEntity&quot;) <br />&#0160;&#0160;&#0160;&#0160;&#0160; &#39;(8 . &quot;0&quot;) <br />&#0160;&#0160;&#0160;&#0160;&#0160; &#39;(100 . &quot;AcDbWipeout&quot;) <br />&#0160;&#0160;&#0160;&#0160;&#0160; (cons 10 (list xVal yVal 0.0)) <br />&#0160;&#0160;&#0160;&#0160;&#0160; (cons 11 &#39;(0.0 1.0 0.0))</span></p>
<p><span style="font-family: Consolas; color: #c0504d;">&#0160;&#0160;&#0160;&#0160;&#0160; (cons 12 &#39;(1.0 0.0 0.0)) <br />&#0160;&#0160;&#0160;&#0160;&#0160; (cons 13 &#39;(1.0 1.0 0.0)) <br />&#0160;&#0160;&#0160;&#0160;&#0160; &#39;(70 . 7) <br />&#0160;&#0160;&#0160;&#0160;&#0160; &#39;(280 . 1) <br />&#0160;&#0160;&#0160;&#0160;&#0160; &#39;(281 . 50) <br />&#0160;&#0160;&#0160;&#0160;&#0160; &#39;(282 . 50) <br />&#0160;&#0160;&#0160;&#0160;&#0160; &#39;(283 . 0) <br />&#0160;&#0160;&#0160;&#0160;&#0160; &#39;(71 . 2) <br />&#0160;&#0160;&#0160;&#0160;&#0160; &#39;(91 . 9)</span></p>
<p><span style="font-family: Consolas; color: #c0504d;">&#0160;&#0160;&#0160;&#0160;&#0160; (cons 14 &#39;(0.7888 -0.9376 0.0)) <br />&#0160;&#0160;&#0160;&#0160;&#0160; (cons 14 &#39;(-0.9336 0.7792 0.0)) <br />&#0160;&#0160;&#0160;&#0160;&#0160; (cons 14 &#39;(-0.9376 3.2112 0.0)) <br />&#0160;&#0160;&#0160;&#0160;&#0160; (cons 14 &#39;(0.7792 4.9336 0.0)) <br />&#0160;&#0160;&#0160;&#0160;&#0160; (cons 14 &#39;(3.2112 4.9376 0.0)) <br />&#0160;&#0160;&#0160;&#0160;&#0160; (cons 14 &#39;(4.9336 3.2208 0.0)) <br />&#0160;&#0160;&#0160;&#0160;&#0160; (cons 14 &#39;(4.9376 0.7888 0.0)) <br />&#0160;&#0160;&#0160;&#0160;&#0160; (cons 14 &#39;(3.2208 -0.9336 0.0)) <br />&#0160;&#0160;&#0160;&#0160;&#0160; (cons 14 &#39;(0.7888 -0.9376 0.0))</span></p>
<p><br /><span style="font-family: Consolas; color: #c0504d;">&#0160;&#0160;&#0160;&#0160;&#0160; ) <br />&#0160;&#0160;&#0160; )</span></p>
<p><span style="font-family: Consolas; color: #c0504d;">&#0160; )</span></p>
