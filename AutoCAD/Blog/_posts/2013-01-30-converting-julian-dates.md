---
layout: "post"
title: "Converting Julian dates"
date: "2013-01-30 04:07:27"
author: "Augusto Goncalves"
categories: []
original_url: "https://adndevblog.typepad.com/autocad/2013/01/converting-julian-dates.html "
typepad_basename: "converting-julian-dates"
typepad_status: "Publish"
---

<p>By <a href="http://adndevblog.typepad.com/autocad/augusto-goncalves.html">Augusto Goncalves</a></p>  <p>The easiest way to convert a Julian date into day, month, year, hour and minutes format is to use of the AcDbDate class. Also, visit <a href="http://adndevblog.typepad.com/autocad/2013/01/about-tdusrtimer-and-acdbdate.html">this post</a> for more information.</p>  <div style="font-family: ; background: white">   <p style="margin: 0px"><font face="Courier New"><span><font color="#0000ff"><font style="font-size: 8pt">struct</font></font></span><font style="font-size: 8pt" color="#000000"> resbuf rDate; </font></font></p>    <p style="margin: 0px"><font face="Courier New"><span><font color="#0000ff"><font style="font-size: 8pt">double</font></font></span><font style="font-size: 8pt" color="#000000"> time, fpart, ipart;</font></font></p>    <p style="margin: 0px"><font face="Courier New"><font color="#000000"><font style="font-size: 8pt">acedGetVar(_T(</font></font><font style="font-size: 8pt"><span><font color="#a31515">&quot;DATE&quot;</font></span><font color="#000000">), &amp;rDate); </font></font></font></p>    <p style="margin: 0px"><font face="Courier New"><font style="font-size: 8pt" color="#000000">time = rDate.resval.rreal;</font></font></p>    <p style="margin: 0px"><font face="Courier New"><font style="font-size: 8pt" color="#000000">fpart = modf (time, &amp;ipart);</font></font></p>    <p style="margin: 0px"><font face="Courier New"><font style="font-size: 8pt" color="#000000">&#160;</font></font></p>    <p style="margin: 0px"><font face="Courier New"><font style="font-size: 8pt" color="#000000">AcDbDate testDate;</font></font></p>    <p style="margin: 0px"><font face="Courier New"><font style="font-size: 8pt" color="#000000">testDate.setJulianFraction(fpart);</font></font></p>    <p style="margin: 0px"><font face="Courier New"><font color="#000000"><font style="font-size: 8pt">acutPrintf(_T(</font></font><font style="font-size: 8pt"><span><font color="#a31515">&quot;\nMinute: %d\nSec: %d\nMilisec: %d&quot;</font></span><font color="#000000">),</font></font></font></p>    <p style="margin: 0px"><font face="Courier New"><font style="font-size: 8pt" color="#000000">&#160; testDate.minute (),</font></font></p>    <p style="margin: 0px"><font face="Courier New"><font style="font-size: 8pt" color="#000000">&#160; testDate.second (),</font></font></p>    <p style="margin: 0px"><font face="Courier New"><font style="font-size: 8pt" color="#000000">&#160; testDate.millisecond ());</font></font></p> </div>
