---
layout: "post"
title: "How to check if a given string is a valid name for an item in a symbol table?"
date: "2012-07-27 07:54:30"
author: "Marat Mirgaleev"
categories:
  - ".NET"
  - "2010"
  - "2011"
  - "2012"
  - "2013"
  - "AutoCAD"
  - "Marat Mirgaleev"
  - "ObjectARX"
original_url: "https://adndevblog.typepad.com/autocad/2012/07/how-to-check-if-a-given-string-is-a-valid-name-for-an-item-in-a-symbol-table.html "
typepad_basename: "how-to-check-if-a-given-string-is-a-valid-name-for-an-item-in-a-symbol-table"
typepad_status: "Publish"
---

<p>By <a href="http://adndevblog.typepad.com/autocad/marat-mirgaleev.html" target="_self">Marat Mirgaleev</a></p>  <p><b>Issue</b></p>  <p><em>I want to check if a string provided by the user is suitable for a block name or for a layer name. Is there any function that can validate the string?</em></p>  <p><a name="section2"></a></p>  <p><b>Solution</b></p>  <p>You are right, not every name is acceptable, for example, for a block. When creating a block in the AutoCAD UI, the user can get the following error message:</p>  <p><a href="http://adndevblog.typepad.com/.a/6a0167607c2431970b017743ae29ff970d-pi"><img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="image" border="0" alt="image" src="/assets/image_295989.jpg" width="586" height="415" /></a></p>  <p>As you may know, there is a number of <em>Symbol Tables</em> in an dwg file, like Block table, Linetype table etc.</p>  <p>To check if a given string is a valid symbol table name or not, in ObjectARX you can use acdbSNValid() function.</p>  <p>AutoCAD .NET API provides the SymbolUtilityServices.ValidateSymbolName() for the same purpose. The method throws an exception when the name is invalid. Here is an example:</p>  <div style="font-family: courier new; background: white; color: black; font-size: 8pt">   <p style="margin: 0px"><span style="line-height: 140%; color: blue">string</span><span style="line-height: 140%">[] names = { </span><span style="line-height: 140%; color: #a31515">&quot;lk3j4!@ #`$&gt;%&quot;</span><span style="line-height: 140%">, </span><span style="line-height: 140%; color: green">// will cause an exception</span></p>    <p style="margin: 0px"><span style="line-height: 140%">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span style="line-height: 140%; color: #a31515">&quot;lk3j4!@ #$%&quot;</span><span style="line-height: 140%"> }; </span><span style="line-height: 140%; color: green">// will work fine</span></p>    <p style="margin: 0px"><span style="line-height: 140%; color: blue">foreach</span><span style="line-height: 140%"> (</span><span style="line-height: 140%; color: blue">string</span><span style="line-height: 140%"> s </span><span style="line-height: 140%; color: blue">in</span><span style="line-height: 140%"> names)</span></p>    <p style="margin: 0px"><span style="line-height: 140%">{</span></p>    <p style="margin: 0px"><span style="line-height: 140%">&#160; </span><span style="line-height: 140%; color: blue">try</span></p>    <p style="margin: 0px"><span style="line-height: 140%">&#160; {</span></p>    <p style="margin: 0px"><span style="line-height: 140%">&#160;&#160;&#160; </span><span style="line-height: 140%; color: green">// Validate the provided symbol table name</span></p>    <p style="margin: 0px"><span style="line-height: 140%">&#160;&#160;&#160; </span><span style="line-height: 140%; color: #2b91af">SymbolUtilityServices</span><span style="line-height: 140%">.ValidateSymbolName( s, </span><span style="line-height: 140%; color: blue">false</span><span style="line-height: 140%">);</span></p>    <p style="margin: 0px">&#160;</p>    <p style="margin: 0px"><span style="line-height: 140%">&#160;&#160;&#160; System.Windows.Forms.</span><span style="line-height: 140%; color: #2b91af">MessageBox</span><span style="line-height: 140%">.Show( s + </span><span style="line-height: 140%; color: #a31515">&quot; is a valid name.&quot;</span><span style="line-height: 140%"> );</span></p>    <p style="margin: 0px"><span style="line-height: 140%">&#160; }</span></p>    <p style="margin: 0px"><span style="line-height: 140%">&#160; </span><span style="line-height: 140%; color: blue">catch</span></p>    <p style="margin: 0px"><span style="line-height: 140%">&#160; {</span></p>    <p style="margin: 0px"><span style="line-height: 140%">&#160;&#160;&#160; </span><span style="line-height: 140%; color: green">// An exception has been thrown, indicating that</span></p>    <p style="margin: 0px"><span style="line-height: 140%">&#160;&#160;&#160; </span><span style="line-height: 140%; color: green">//&#160;&#160;&#160; the name is invalid</span></p>    <p style="margin: 0px"><span style="line-height: 140%">&#160;&#160;&#160; System.Windows.Forms.</span><span style="line-height: 140%; color: #2b91af">MessageBox</span><span style="line-height: 140%">.Show( s +</span><span style="line-height: 140%; color: #a31515">&quot; is an invalid name.&quot;</span><span style="line-height: 140%">);</span></p>    <p style="margin: 0px"><span style="line-height: 140%">&#160; }</span></p>    <p style="margin: 0px"><span style="line-height: 140%">} </span><span style="line-height: 140%; color: green">// foreach</span></p> </div>  <p>The 2nd parameter of the ValidateSymbolName() is a flag that allows or disallows the '|' symbol (so called &quot;pipe&quot; symbol).</p>
