---
layout: "post"
title: "Symbol value exposure within a separate namespace VLX"
date: "2012-12-20 00:41:00"
author: "Xiaodong Liang"
categories:
  - "AutoCAD"
  - "LISP"
  - "Xiaodong Liang"
original_url: "https://adndevblog.typepad.com/autocad/2012/12/symbol-value-exposure-within-a-separate-namespace-vlx.html "
typepad_basename: "symbol-value-exposure-within-a-separate-namespace-vlx"
typepad_status: "Publish"
---

<p>By <a href="http://adndevblog.typepad.com/autocad/xiaodong-liang.html" target="_self">Xiaodong Liang</a></p>
<p><strong>Issue      <br /></strong>I compiled the following AutoLISP code as a separate namespace VLX, and the value of symbol &#39;hugo&#39; (setq hugo 12345), in my current drawing is not available to my VLX. Why ?</p>
<p><span style="line-height: 120%; font-family: &#39;courier new&#39;, courier; font-size: 8pt;"><span style="color: #ff0000;">(</span><span style="color: #0000ff;">defun</span> C:DUMMY <span style="color: #ff0000;">(</span>&#0160;<span style="color: #0000ff;">/</span>&#0160;<span style="color: #ff0000;">)</span>&#0160;&#0160;&#0160;&#0160; <br />&#0160;&#0160; <span style="color: #ff0000;">(</span><span style="color: #0000ff;">print</span>&#0160;<span style="color: #ff00ff;">&quot;\n DUMMY:&quot;</span><span style="color: #ff0000;">)</span>       <br />&#0160;&#0160; <span style="color: #ff0000;">(</span><span style="color: #0000ff;">print</span> hugo<span style="color: #ff0000;">)</span>       <br />&#0160;&#0160; <span style="color: #ff0000;">(</span><span style="color: #0000ff;">print</span>&#0160;<span style="color: #ff00ff;">&quot;\n DUMMY.&quot;</span><span style="color: #ff0000;">)</span>&#0160;&#0160;&#0160;&#0160; <br /><span style="color: #ff0000;">)</span></span></p>
<p><strong>Solution      <br /></strong>The VLX namespace is not contained in the document namespace. For a thorough discussion of namespaces, refer to the following sections in the Visual LISP Developer&#39;s Guide:</p>
<p><a href="http://docs.autodesk.com/ACD/2011/ENU/filesALG/WS73099cc142f4875516d84be10ebc87a53f-786b.htm">Creating a New Application</a>     <br /><a href="http://docs.autodesk.com/ACD/2011/ENU/filesALG/WS73099cc142f4875516d84be10ebc87a53f-784f.htm#WS4b0506698c46277a503429ff1e0623ae-7fee">Designing for a Multiple Document Environment</a>     <br /><strong><a href="http://docs.autodesk.com/ACD/2011/ENU/filesALG/WS73099cc142f4875516d84be10ebc87a53f-783f.htm">Referencing Variables in Document Namespaces</a>       <br /></strong><a href="http://docs.autodesk.com/ACD/2011/ENU/filesALG/WS73099cc142f4875516d84be10ebc87a53f-7b2c.htm">VLX Namespace Functions</a>     </p>
<p>Visual LISP contains two functions that allow a separate namespace to VLX to access, and sets values for AutoLISP symbols that are defined in the current document:</p>
<p><span style="line-height: 120%; font-family: &#39;courier new&#39;, courier; font-size: 8pt;"><span style="color: #ff0000;">(</span><span style="color: #0000ff;">vl-doc-set</span><span style="color: #ff0000;">)</span>, <span style="color: #ff0000;">(</span><span style="color: #0000ff;">vl-doc-ref</span><span style="color: #ff0000;">)        <br /></span></span></p>
<p>So if you code your lisp as follows:    <br /><span style="line-height: 120%; font-family: &#39;courier new&#39;, courier; font-size: 8pt;">     <br /><span style="color: #ff0000;">(</span><span style="color: #0000ff;">defun</span> C:SMART <span style="color: #ff0000;">(</span>&#0160;<span style="color: #0000ff;">/</span> hugo vlxhugo<span style="color: #ff0000;">)</span>&#0160;&#0160;&#0160;&#0160; <br />&#0160;&#0160; <span style="color: #ff0000;">(</span><span style="color: #0000ff;">princ</span>&#0160;<span style="color: #ff00ff;">&quot;\n Smart: \n&quot;</span><span style="color: #ff0000;">)</span>      <br />&#0160;&#0160; <span style="color: #ff0000;">(</span><span style="color: #0000ff;">setq</span> vlxhugo <span style="color: #ff0000;">(</span><span style="color: #0000ff;">vl-doc-ref</span> &#39;hugo<span style="color: #ff0000;">)</span><span style="color: #ff0000;">)</span>      <br />&#0160;&#0160; <span style="color: #ff0000;">(</span><span style="color: #0000ff;">if</span> hugo&#0160; <br />&#0160;&#0160;&#0160;&#0160;&#0160; <span style="color: #ff0000;">(</span><span style="color: #0000ff;">progn</span>&#0160;<span style="color: #ff0000;">(</span><span style="color: #0000ff;">princ</span>&#0160;<span style="color: #ff00ff;">&quot;\nVariable hugo = &quot;</span><span style="color: #ff0000;">)</span>&#0160;<span style="color: #ff0000;">(</span><span style="color: #0000ff;">princ</span> hugo<span style="color: #ff0000;">)</span><span style="color: #ff0000;">)</span>      <br />&#0160;&#0160;&#0160;&#0160;&#0160; <span style="color: #ff0000;">(</span><span style="color: #0000ff;">princ</span>&#0160;<span style="color: #ff00ff;">&quot;\nVariable hugo is not defined in VLX!\n&quot;</span><span style="color: #ff0000;">)</span>      <br />&#0160;&#0160; <span style="color: #ff0000;">)</span>      <br />&#0160;&#0160; <span style="color: #ff0000;">(</span><span style="color: #0000ff;">if</span> vlxhugo&#0160; <br />&#0160;&#0160;&#0160;&#0160;&#0160; <span style="color: #ff0000;">(</span><span style="color: #0000ff;">progn</span>&#0160;<span style="color: #ff0000;">(</span><span style="color: #0000ff;">princ</span>&#0160;<span style="color: #ff00ff;">&quot;\nVariable VLXhugo = &quot;</span><span style="color: #ff0000;">)</span>&#0160;<span style="color: #ff0000;">(</span><span style="color: #0000ff;">princ</span> vlxhugo<span style="color: #ff0000;">)</span><span style="color: #ff0000;">)</span>      <br />&#0160;&#0160;&#0160;&#0160;&#0160; <span style="color: #ff0000;">(</span><span style="color: #0000ff;">princ</span>&#0160;<span style="color: #ff00ff;">&quot;\nVariable VLXhugo is not defined in VLX!\n&quot;</span><span style="color: #ff0000;">)</span>      <br />&#0160;&#0160; <span style="color: #ff0000;">)</span>      <br />&#0160;&#0160; <span style="color: #ff0000;">(</span><span style="color: #0000ff;">princ</span>&#0160;<span style="color: #ff00ff;">&quot;\n Smart. \n&quot;</span><span style="color: #ff0000;">)</span>      <br />&#0160;&#0160; <span style="color: #ff0000;">(</span><span style="color: #0000ff;">vl-doc-set</span> &#39;hugo <span style="color: #ff00ff;">&quot;A New Value&quot;</span><span style="color: #ff0000;">)</span>      <br />&#0160;&#0160; <span style="color: #ff0000;">(</span><span style="color: #0000ff;">princ</span><span style="color: #ff0000;">)</span>&#0160;&#0160; <br /><span style="color: #ff0000;">)</span></span></p>
<p>Then compile it as a separate namespace VLX, then (setq hugo 12345) in your current document, and run the SMART function. The function will report the current vale of &#39;hugo&#39;, and reset it from within the separate namespace VLX.</p>
