---
layout: "post"
title: "Determine if the user makes an empty selection set"
date: "2012-11-08 11:49:38"
author: "Augusto Goncalves"
categories:
  - "Augusto Goncalves"
  - "AutoCAD"
  - "ObjectARX"
original_url: "https://adndevblog.typepad.com/autocad/2012/11/determine-if-the-user-makes-an-empty-selection-set.html "
typepad_basename: "determine-if-the-user-makes-an-empty-selection-set"
typepad_status: "Publish"
---

<p>By <a href="http://adndevblog.typepad.com/autocad/augusto-goncalves.html">Augusto Goncalves</a></p>  <p>The &quot;+B:S&quot; option with acedSSGet() allow the user to make a single   <br />selection with a pick, window, or polygon. Is there a way to distinguish when    <br />a user presses the Return key or when a user makes an empty selection set with    <br />the mouse? </p>  <p>In both cases, acedSSGet() return RTERROR, but itâ€™s possible check the AutoCAD variable ERRNO if acedSSGet() returns RTERROR.</p>  <p>If the user presses the Return key, ERRNO contains '52'; if the user makes an   <br />empty selection set with the mouse, ERRNO contains '0'.</p>  <div style="font-family: ; background: white">   <p style="margin: 0px"><font face="Courier New"><font style="font-size: 8pt" color="#000000">ads_name ss;</font></font></p>    <p style="margin: 0px"><font face="Courier New"><span><font color="#0000ff"><font style="font-size: 8pt">int</font></font></span><font style="font-size: 8pt" color="#000000"> res;</font></font><font face="Courier New"><font style="font-size: 8pt" color="#000000">&#160;</font></font></p>    <p style="margin: 0px"><font face="Courier New"><font color="#000000"><font style="font-size: 8pt">res = acedSSGet(L</font></font><font style="font-size: 8pt"><span><font color="#a31515">&quot;+B:S&quot;</font></span><font color="#000000">, NULL, NULL, NULL, ss);</font></font></font></p>    <p style="margin: 0px"><font face="Courier New"><span><font color="#0000ff"><font style="font-size: 8pt">if</font></font></span><font style="font-size: 8pt" color="#000000"> (res == RTERROR) {</font></font></p>    <p style="margin: 0px"><font face="Courier New"><font color="#000000"><font style="font-size: 8pt">&#160; </font></font><span><font style="font-size: 8pt" color="#008000">// Nothing selected or &lt;RETURN&gt;?</font></span></font></p>    <p style="margin: 0px"><font face="Courier New"><font style="font-size: 8pt" color="#000000">&#160; resbuf rb;</font></font></p>    <p style="margin: 0px"><font face="Courier New"><font style="font-size: 8pt" color="#000000">&#160; rb.restype = RTSHORT;</font></font></p>    <p style="margin: 0px"><font face="Courier New"><font color="#000000"><font style="font-size: 8pt">&#160; acedGetVar(L</font></font><font style="font-size: 8pt"><span><font color="#a31515">&quot;ERRNO&quot;</font></span><font color="#000000">, &amp;rb);</font></font></font></p>    <p style="margin: 0px"><font face="Courier New"><font color="#000000"><font style="font-size: 8pt">&#160; </font></font><font style="font-size: 8pt"><span><font color="#0000ff">if</font></span><font color="#000000"> (rb.resval.rint == 52)</font></font></font></p>    <p style="margin: 0px"><font face="Courier New"><font color="#000000"><font style="font-size: 8pt">&#160;&#160;&#160; acutPrintf(L</font></font><font style="font-size: 8pt"><span><font color="#a31515">&quot;\n&lt;Enter&gt;&quot;</font></span><font color="#000000">);</font></font></font></p>    <p style="margin: 0px"><font face="Courier New"><font color="#000000"><font style="font-size: 8pt">&#160; </font></font><span><font style="font-size: 8pt" color="#0000ff">else</font></span></font></p>    <p style="margin: 0px"><font face="Courier New"><font color="#000000"><font style="font-size: 8pt">&#160;&#160;&#160; acutPrintf(L</font></font><font style="font-size: 8pt"><span><font color="#a31515">&quot;\nEmpty selection&quot;</font></span><font color="#000000">);</font></font></font></p>    <p style="margin: 0px"><font face="Courier New"><font color="#000000"><font style="font-size: 8pt">&#160; </font></font><font style="font-size: 8pt"><span><font color="#0000ff">return</font></span><font color="#000000">;</font></font></font></p>    <p style="margin: 0px"><font face="Courier New"><font style="font-size: 8pt" color="#000000">}</font></font><font face="Courier New"><font style="font-size: 8pt" color="#000000">&#160;</font></font></p>    <p style="margin: 0px"><font face="Courier New"><font color="#000000"><font style="font-size: 8pt">acutPrintf(L</font></font><font style="font-size: 8pt"><span><font color="#a31515">&quot;\nSomething selected.&quot;</font></span><font color="#000000">);</font></font></font></p>    <p style="margin: 0px"><font face="Courier New"><font style="font-size: 8pt" color="#000000">acedSSFree(ss);</font></font></p> </div>
