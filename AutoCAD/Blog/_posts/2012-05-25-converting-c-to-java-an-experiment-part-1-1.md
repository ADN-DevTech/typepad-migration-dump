---
layout: "post"
title: "Converting C# to Java &ndash; An Experiment (Part 2)"
date: "2012-05-25 12:21:30"
author: "Madhukar Moogala"
categories:
  - ".NET"
  - "Mobile"
  - "Stephen Preston"
original_url: "https://adndevblog.typepad.com/autocad/2012/05/converting-c-to-java-an-experiment-part-1-1.html "
typepad_basename: "converting-c-to-java-an-experiment-part-1-1"
typepad_status: "Publish"
---

<p>By&#0160;<a href="http://adndevblog.typepad.com/autocad/stephen-preston.html">Stephen Preston</a></p>
<p><a href="http://adndevblog.typepad.com/autocad/2012/05/converting-c-to-java-an-experiment-part-1.html" target="_self">In part 1</a>, I created a C# application for AutoCAD. Other than a small amount of logic/UI separation, I didn&#39;t do anything to make the code easier to port to Java. (How could I? - I didn&#39;t know anything about Java!).</p>
<p>Next I&#39;m going to take the core business logic and get it to compile as Java code. I&#39;ll migrate the Item class today, and PrioritizerCore in the next installment. I won&#39;t worry about any&#0160;subtleties of how the code runs - testing and tweaking that will come later. And I&#39;m going to migrate my C# to Java inside an Android app project.</p>
<p>The &#39;standard&#39; d<a href="http://developer.android.com/sdk/requirements.html" target="_blank">evelopment environment for Android</a> is <a href="http://www.eclipse.org/" target="_blank">Eclipse</a>. My main computer is an Apple MacBook Pro running <a href="http://www.apple.com/support/bootcamp/" target="_self">BootCamp</a>, so I have Eclipse Indigo installed on Mac OSX. Eclipse is also available for Windows. I chose to install the MacOS version partly because someone pointed out to me that most of the Google evangelists in their online screencast recordings are using MacBooks (so perhaps they care about the development experience a little more on MacOS <img alt="Smile" src="/assets/image_112058.jpg" />), but mostly because my Windows disk partition is almost full. This does have the disadvantage that I keep typing Ctrl-C to copy stuff instead of Command-C :-(.</p>
<p>I&#39;m not going to document the steps for installing Eclipse and the Android SDK and ADT Plugin for Eclipse - you can find that <a href="http://developer.android.com/sdk/installing.html" target="_blank">here</a>. Let&#39;s go straight into creating our project in Eclipse and adding/migrating our C# code to the.</p>
<p>In Eclipse, select File-&gt;New-&gt;Android Project and specify the Project name, Android SDK version, Application name and Package name. I also left the default choice to create an Activity, because we&#39;ll need that eventually when we start on our Android UI.</p>
<p><a class="asset-img-link" href="http://adndevblog.typepad.com/.a/6a0167607c2431970b0168ebc9b77a970c-pi" style="display: inline;"><img alt="NewProject1" class="asset  asset-image at-xid-6a0167607c2431970b0168ebc9b77a970c" src="/assets/image_235744.jpg" title="NewProject1" /></a><br /><br /> <a class="asset-img-link" href="http://adndevblog.typepad.com/.a/6a0167607c2431970b0168ebc9b8a0970c-pi" style="display: inline;"><img alt="NewProject2" class="asset  asset-image at-xid-6a0167607c2431970b0168ebc9b8a0970c" src="/assets/image_480869.jpg" title="NewProject2" /></a></p>
<p><a class="asset-img-link" href="http://adndevblog.typepad.com/.a/6a0167607c2431970b016305d456a5970d-pi" style="display: inline;"><img alt="NewProject3" class="asset  asset-image at-xid-6a0167607c2431970b016305d456a5970d" src="/assets/image_969400.jpg" title="NewProject3" /></a></p>
<p><a class="asset-img-link" href="http://adndevblog.typepad.com/.a/6a0167607c2431970b016305d456a5970d-pi" style="display: inline;"></a><br />In the Eclipse Package Explorer, open the src-folder for your project, right-click on the &lt;package&gt; folder, and select New-&gt;Class.</p>
<p><a class="asset-img-link" href="http://adndevblog.typepad.com/.a/6a0167607c2431970b016766c86872970b-pi" style="display: inline;"><img alt="NewClass" class="asset  asset-image at-xid-6a0167607c2431970b016766c86872970b" src="/assets/image_475510.jpg" title="NewClass" /></a></p>
<p>In the New Class dialog, set the Name to Item, and keep all other settings at their default.</p>
<p><a class="asset-img-link" href="http://adndevblog.typepad.com/.a/6a0167607c2431970b016305d46446970d-pi" style="display: inline;"><img alt="NewClass2" class="asset  asset-image at-xid-6a0167607c2431970b016305d46446970d" src="/assets/image_176046.jpg" title="NewClass2" /></a><br /><br />Do the same again to create a PrioritizerCore class. Then open each class in turn by double clicking on the file created in the Package Explorer and paste your C# code into the file (obviously you copy the Item class to the Item,java file, and PrioritizerCore to PrioritizerCore.java).</p>
<ul>
<li>Don&#39;t copy the using statements at the top of the C# code.</li>
<li>Don&#39;t copy the C# namespace declaration and associated brackets.</li>
<li>Keep the &#39;package &lt;namespace&gt;;&#39; line at the top of the Java file.</li>
</ul>
<p>Now its time to start migrating the C# syntax to Java. We&#39;re only fixing the Item class today ...</p>
<p>Eclipse has some pretty good Intellisense. It highlights an error with a red symbol in the margin, and underlines the error. Hovering over the marked error will often display a tooltip offering options to automatically fix the error.</p>
<p>Our first error is right at the start of the class. My blog editor is more limited than Eclipse, so I&#39;m highlighting errors in yellow.&#0160;</p>
<p><span style="color: #ffffff;">&#0160;&#0160;</span><span style="background-color: #ffff00;"><span style="color: #000000;">[</span><span style="color: #000000;">Serializable</span><span style="color: #000000;">()]</span></span><br /> <span style="color: #ffffff;">&#0160;&#0160;</span><span style="color: #7f0055;"><strong>public&#0160;class&#0160;</strong></span><span style="color: #000000;">Item&#0160;<span style="background-color: #ffff00;">:&#0160;IEquatable&lt;Item&gt;</span></span></p>
<p>Java doesn&#39;t recognize the C# attributes, but the same functionality is available by implementing the Serializable interface for a class. And Java doesn&#39;t have an equivalent of IEquatable. Fortunately we don&#39;t need it, so we can remove it. The fixed code looks like this:</p>
<p><span style="color: #ffffff;">&#0160;&#0160;</span><span style="color: #3f7f5f;">//[Serializable()]</span><br /> <span style="color: #ffffff;">&#0160;&#0160;</span><span style="color: #7f0055;"><strong>public&#0160;class&#0160;</strong></span><span style="color: #000000;">Item&#0160;</span><span style="color: #7f0055;"><strong>implements&#0160;</strong></span><span style="color: #000000;">Serializable</span></p>
<p>Serializable will be underlined in red when you type it, but when you hover over it, the Intellisense tooltip gives you the option to import the java.io.Serializable package.</p>
<p>The next error is that I used &#39;<span style="background-color: #ffff00;">string</span>&#39; (with a lowercase &#39;s&#39;) in my C# code. The Java string class is &#39;String&#39;, so I next do a global search and replace of &#39;string&#39; to &#39;String&#39;.</p>
<p>Next is the .NET &#0160;&#39;<span style="background-color: #ffff00;">List&lt;T&gt;</span>&#39; class. I decided to replace this with the Java &#39;ArrayList&lt;T&gt;&#39;:</p>
<p><span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;</span><span style="color: #7f0055;"><strong>private&#0160;</strong></span><span style="color: #000000;">ArrayList&lt;Item&gt;&#0160;m_BetterThanList;</span></p>
<p>I also imported the java.utils.ArrayList package and changed all other occurrences of List to ArrayList. (There is also a java.util.List class - can&#39;t recall now why I preferred ArrayList).</p>
<p>The next error is simple too - change all occurrences of the C# &#39;<span style="background-color: #ffff00;">bool</span>&#39; type to the Java &#39;boolean&#39; type.</p>
<p>Now we come to a more significant difference. Java doesn&#39;t have concept of properties as used in C#. Instead, you&#39;re expected to implement get and set functions. So this code:</p>
<p><span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;</span><span style="color: #7f0055;"><strong>public&#0160;</strong></span><span style="color: #000000;">String&#0160;ItemText</span><br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;</span><span style="color: #000000;">{</span><br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;</span><span style="color: #000000;">get&#0160;</span><span style="color: #000000;">{&#0160;</span><span style="color: #7f0055;"><strong>return&#0160;</strong></span><span style="color: #000000;">m_strItemText;&#0160;</span><span style="color: #000000;">}</span><br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;</span><span style="color: #000000;">set&#0160;</span><span style="color: #000000;">{&#0160;</span><span style="color: #000000;">m_strItemText&#0160;=&#0160;value;&#0160;</span><span style="color: #000000;">}</span><br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;</span><span style="color: #000000;">}</span></p>
<p>becomes</p>
<p><span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;</span><span style="color: #7f0055;"><strong>public&#0160;</strong></span><span style="color: #000000;">String&#0160;getItemText</span><span style="color: #000000;">()&#0160;{</span><br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;</span><span style="color: #7f0055;"><strong>return&#0160;</strong></span><span style="color: #000000;">m_strItemText;</span><br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;</span><span style="color: #000000;">}</span><br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;</span><span style="color: #7f0055;"><strong>public&#0160;</strong></span><span style="color: #7f0055;"><strong>void&#0160;</strong></span><span style="color: #000000;">setItemText</span><span style="color: #000000;">(</span><span style="color: #000000;">String&#0160;value</span><span style="color: #000000;">)&#0160;{</span><br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;</span><span style="color: #000000;">m_strItemText&#0160;=&#0160;value;&#0160;</span><br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;</span><span style="color: #000000;">}</span></p>
<p>Do that for all your C# properties.</p>
<p>The rest of the compilation errors in Item.java are due to another small syntax difference between .NET and Java. In .NET, method names all begin with uppercase characters, whereas in Java they all begin with lowercase. &#0160;The remaining errors are all for our ArrayList class - m_BetterThanList. Change the first character of the method calls flagged as errors to lowercase - with the exception of the Count property, which changes to &#39;size()&#39;, and &#39;[index]&#39;, which changes to &#39;get(index)&#39;.</p>
<p>Now there are two more changes to make before we&#39;re done.</p>
<p>Firstly, there is a &#39;warning&#39; flag on the class declaration line. This is because it is recommended to implement a SerialVersionUID for a Serializable class. Use the Intellisense tooltip over the underlined-in-yellow &#39;Item&#39; and select &#39;Add default serial version Id&#39; to create:</p>
<p><span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;</span><span style="color: #7f0055;"><strong>private&#0160;static&#0160;final&#0160;</strong></span><span style="color: #7f0055;"><strong>long&#0160;</strong></span><span style="color: #000000;">serialVersionUID&#0160;=&#0160;</span><span style="color: #990000;">1L</span><span style="color: #000000;">;</span></p>
<p>Secondly, our C# of Item.Equals() finction was specifically implementing the .NET Iserializable&lt;T&gt;.Equals(T) method. Knowing how my code is going to end up, I change this function to instead override the java.lang.Object.Equals(Object) method (for which I&#39;ve edited some boilerplate from the Java documentation, so it diverges more from the C# than it might have):</p>
<p><span style="color: #ffffff;">&#0160;&#0160;&#0160;</span><span style="color: #646464;">@Override</span><br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;</span><span style="color: #7f0055;"><strong>public&#0160;</strong></span><span style="color: #7f0055;"><strong>boolean&#0160;</strong></span><span style="color: #000000;">equals</span><span style="color: #000000;">(</span><span style="color: #000000;">Object&#0160;o</span><span style="color: #000000;">)&#0160;{</span><br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;</span><span style="color: #3f7f5f;">//&#0160;Return&#0160;true&#0160;if&#0160;the&#0160;objects&#0160;are&#0160;identical.</span><br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;</span><span style="color: #3f7f5f;">//&#0160;(This&#0160;is&#0160;just&#0160;an&#0160;optimization,&#0160;not&#0160;required&#0160;for&#0160;correctness.)</span><br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;</span><span style="color: #7f0055;"><strong>if&#0160;</strong></span><span style="color: #000000;">(</span><span style="color: #7f0055;"><strong>this&#0160;</strong></span><span style="color: #000000;">==&#0160;o</span><span style="color: #000000;">)&#0160;{</span><br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;</span><span style="color: #7f0055;"><strong>return&#0160;true</strong></span><span style="color: #000000;">;</span><br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;</span><span style="color: #000000;">}</span><br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;</span><span style="color: #3f7f5f;">//&#0160;Return&#0160;false&#0160;if&#0160;the&#0160;other&#0160;object&#0160;has&#0160;the&#0160;wrong&#0160;type.</span><br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;</span><span style="color: #3f7f5f;">//&#0160;This&#0160;type&#0160;may&#0160;be&#0160;an&#0160;interface&#0160;depending&#0160;on&#0160;the&#0160;interface&#39;s&#0160;specification.</span><br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;</span><span style="color: #7f0055;"><strong>if&#0160;</strong></span><span style="color: #000000;">(</span><span style="color: #000000;">!</span><span style="color: #000000;">(</span><span style="color: #000000;">o&#0160;</span><span style="color: #7f0055;"><strong>instanceof&#0160;</strong></span><span style="color: #000000;">Item</span><span style="color: #000000;">))&#0160;{</span><br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;</span><span style="color: #7f0055;"><strong>return&#0160;false</strong></span><span style="color: #000000;">;</span><br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;</span><span style="color: #000000;">}</span><br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;</span><span style="color: #3f7f5f;">//&#0160;Cast&#0160;to&#0160;the&#0160;appropriate&#0160;type.</span><br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;</span><span style="color: #3f7f5f;">//&#0160;This&#0160;will&#0160;succeed&#0160;because&#0160;of&#0160;the&#0160;instanceof,&#0160;and&#0160;lets&#0160;us&#0160;access&#0160;private&#0160;fields.</span><br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;</span><span style="color: #000000;">Item&#0160;lhs&#0160;=&#0160;</span><span style="color: #000000;">(</span><span style="color: #000000;">Item</span><span style="color: #000000;">)&#0160;</span><span style="color: #000000;">o;</span><br /> <span style="color: #ffffff;">&#0160;</span><br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;</span><span style="color: #3f7f5f;">//&#0160;Items&#0160;considered&#0160;equal&#0160;if&#0160;their&#0160;text&#0160;is&#0160;equal</span><br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;</span><span style="color: #7f0055;"><strong>if&#0160;</strong></span><span style="color: #000000;">(</span><span style="color: #7f0055;"><strong>this</strong></span><span style="color: #000000;">.getItemText</span><span style="color: #000000;">()&#0160;</span><span style="color: #000000;">==&#0160;lhs.getItemText</span><span style="color: #000000;">())&#0160;{</span><br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;</span><span style="color: #3f7f5f;">//if&#0160;(txt1&#0160;==&#0160;txt2)&#0160;{</span><br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;</span><span style="color: #7f0055;"><strong>return&#0160;true</strong></span><span style="color: #000000;">;</span><br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;</span><span style="color: #000000;">}</span><br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;</span><span style="color: #7f0055;"><strong>return&#0160;false</strong></span><span style="color: #000000;">;</span><br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;</span><span style="color: #000000;">}</span></p>
<p>That&#39;s our basic migration finished. I&#39;ll have to come back later and add a few bits and bobs because I&#39;m going to implement a little more functionality in my Android app than I did in AutoCAD. Item.java now looks like this:</p>
<p><span style="color: #7f0055;"><strong>package&#0160;</strong></span><span style="color: #000000;">Preston.Stephen.Prioritizer;</span><br /> <span style="color: #ffffff;">&#0160;</span><br /> <span style="color: #7f0055;"><strong>import&#0160;</strong></span><span style="color: #000000;">java.io.Serializable;</span><br /> <span style="color: #7f0055;"><strong>import&#0160;</strong></span><span style="color: #000000;">java.util.ArrayList;</span><br /> <span style="color: #ffffff;">&#0160;</span><br /> <span style="color: #ffffff;">&#0160;&#0160;</span><span style="color: #3f7f5f;">//Item&#0160;class&#0160;stores&#0160;info&#0160;on&#0160;each&#0160;item&#0160;that&#0160;you&#0160;want&#0160;to&#0160;prioritize</span><br /> <span style="color: #ffffff;">&#0160;&#0160;</span><span style="color: #3f7f5f;">//Implements&#0160;IEquatable&#0160;interface&#0160;so&#0160;we&#0160;can&#0160;use&#0160;this&#0160;class&#0160;with&#0160;</span><br /> <span style="color: #ffffff;">&#0160;&#0160;</span><span style="color: #3f7f5f;">//&#0160;a&#0160;custom&#0160;comparator&#0160;-&#0160;see&#0160;PrioritizerCore.Sort()&#0160;method.</span><br /> <span style="color: #ffffff;">&#0160;&#0160;</span><span style="color: #3f7f5f;">//[Serializable()]</span><br /> <span style="color: #ffffff;">&#0160;&#0160;</span><span style="color: #7f0055;"><strong>public&#0160;class&#0160;</strong></span><span style="color: #000000;">Item&#0160;</span><span style="color: #7f0055;"><strong>implements&#0160;</strong></span><span style="color: #000000;">Serializable</span><br /> <span style="color: #ffffff;">&#0160;&#0160;</span><span style="color: #000000;">{</span><br /> <span style="color: #ffffff;">&#0160;</span><br /> <br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;</span><span style="color: #3f7f5f;">//The&#0160;text&#0160;describing&#0160;this&#0160;Item&#0160;-&#0160;also&#0160;used&#0160;to&#0160;ensure&#0160;uniqueness</span><br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;</span><span style="color: #7f0055;"><strong>private&#0160;</strong></span><span style="color: #000000;">String&#0160;m_strItemText;</span><br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;</span><span style="color: #3f7f5f;">//The&#0160;list&#0160;of&#0160;Items&#0160;this&#0160;Item&#0160;is&#0160;more&#0160;important&#0160;than</span><br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;</span><span style="color: #7f0055;"><strong>private&#0160;</strong></span><span style="color: #000000;">ArrayList&lt;Item&gt;&#0160;m_BetterThanList;</span><br /> <br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;</span><span style="color: #3f7f5f;">//Constructor</span><br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;</span><span style="color: #7f0055;"><strong>public&#0160;</strong></span><span style="color: #000000;">Item</span><span style="color: #000000;">()</span><br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;</span><span style="color: #000000;">{</span><br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;</span><span style="color: #000000;">m_BetterThanList&#0160;=&#0160;</span><span style="color: #7f0055;"><strong>new&#0160;</strong></span><span style="color: #000000;">ArrayList&lt;Item&gt;</span><span style="color: #000000;">()</span><span style="color: #000000;">;</span><br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;</span><span style="color: #000000;">}</span><br /> <br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;</span><span style="color: #3f7f5f;">//For&#0160;our&#0160;&#0160;purposes,&#0160;Items&#0160;are&#0160;equal&#0160;if&#0160;their&#0160;names&#0160;match</span><br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;</span><span style="color: #646464;">@Override</span><br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;</span><span style="color: #7f0055;"><strong>public&#0160;</strong></span><span style="color: #7f0055;"><strong>boolean&#0160;</strong></span><span style="color: #000000;">equals</span><span style="color: #000000;">(</span><span style="color: #000000;">Object&#0160;o</span><span style="color: #000000;">)&#0160;{</span><br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;</span><span style="color: #3f7f5f;">//&#0160;Return&#0160;true&#0160;if&#0160;the&#0160;objects&#0160;are&#0160;identical.</span><br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;</span><span style="color: #3f7f5f;">//&#0160;(This&#0160;is&#0160;just&#0160;an&#0160;optimization,&#0160;not&#0160;required&#0160;for&#0160;correctness.)</span><br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;</span><span style="color: #7f0055;"><strong>if&#0160;</strong></span><span style="color: #000000;">(</span><span style="color: #7f0055;"><strong>this&#0160;</strong></span><span style="color: #000000;">==&#0160;o</span><span style="color: #000000;">)&#0160;{</span><br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;</span><span style="color: #7f0055;"><strong>return&#0160;true</strong></span><span style="color: #000000;">;</span><br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;</span><span style="color: #000000;">}</span><br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;</span><span style="color: #3f7f5f;">//&#0160;Return&#0160;false&#0160;if&#0160;the&#0160;other&#0160;object&#0160;has&#0160;the&#0160;wrong&#0160;type.</span><br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;</span><span style="color: #3f7f5f;">//&#0160;This&#0160;type&#0160;may&#0160;be&#0160;an&#0160;interface&#0160;depending&#0160;on&#0160;the&#0160;interface&#39;s&#0160;specification.</span><br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;</span><span style="color: #7f0055;"><strong>if&#0160;</strong></span><span style="color: #000000;">(</span><span style="color: #000000;">!</span><span style="color: #000000;">(</span><span style="color: #000000;">o&#0160;</span><span style="color: #7f0055;"><strong>instanceof&#0160;</strong></span><span style="color: #000000;">Item</span><span style="color: #000000;">))&#0160;{</span><br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;</span><span style="color: #7f0055;"><strong>return&#0160;false</strong></span><span style="color: #000000;">;</span><br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;</span><span style="color: #000000;">}</span><br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;</span><span style="color: #3f7f5f;">//&#0160;Cast&#0160;to&#0160;the&#0160;appropriate&#0160;type.</span><br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;</span><span style="color: #3f7f5f;">//&#0160;This&#0160;will&#0160;succeed&#0160;because&#0160;of&#0160;the&#0160;instanceof,&#0160;and&#0160;lets&#0160;us&#0160;access&#0160;private&#0160;fields.</span><br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;</span><span style="color: #000000;">Item&#0160;lhs&#0160;=&#0160;</span><span style="color: #000000;">(</span><span style="color: #000000;">Item</span><span style="color: #000000;">)&#0160;</span><span style="color: #000000;">o;</span><br /> <br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;</span><span style="color: #3f7f5f;">//&#0160;Items&#0160;considered&#0160;equal&#0160;if&#0160;their&#0160;text&#0160;is&#0160;equal</span><br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;</span><span style="color: #7f0055;"><strong>if&#0160;</strong></span><span style="color: #000000;">(</span><span style="color: #7f0055;"><strong>this</strong></span><span style="color: #000000;">.getItemText</span><span style="color: #000000;">()&#0160;</span><span style="color: #000000;">==&#0160;lhs.getItemText</span><span style="color: #000000;">())&#0160;{</span><br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;</span><span style="color: #3f7f5f;">//if&#0160;(txt1&#0160;==&#0160;txt2)&#0160;{</span><br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;</span><span style="color: #7f0055;"><strong>return&#0160;true</strong></span><span style="color: #000000;">;</span><br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;</span><span style="color: #000000;">}</span><br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;</span><span style="color: #7f0055;"><strong>return&#0160;false</strong></span><span style="color: #000000;">;</span><br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;</span><span style="color: #000000;">}</span><br /> <br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;</span><span style="color: #3f7f5f;">//Read-write&#0160;property</span><br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;</span><span style="color: #3f7f5f;">//The&#0160;name&#0160;of&#0160;this&#0160;Item</span><br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;</span><span style="color: #7f0055;"><strong>public&#0160;</strong></span><span style="color: #000000;">String&#0160;getItemText</span><span style="color: #000000;">()&#0160;{</span><br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;</span><span style="color: #7f0055;"><strong>return&#0160;</strong></span><span style="color: #000000;">m_strItemText;</span><br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;</span><span style="color: #000000;">}</span><br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;</span><span style="color: #7f0055;"><strong>public&#0160;</strong></span><span style="color: #7f0055;"><strong>void&#0160;</strong></span><span style="color: #000000;">setItemText</span><span style="color: #000000;">(</span><span style="color: #000000;">String&#0160;value</span><span style="color: #000000;">)&#0160;{</span><br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;</span><span style="color: #000000;">m_strItemText&#0160;=&#0160;value;&#0160;</span><br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;</span><span style="color: #000000;">}</span><br /> <br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;</span><span style="color: #3f7f5f;">//Read-only&#0160;property</span><br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;</span><span style="color: #3f7f5f;">//Number&#0160;of&#0160;Items&#0160;this&#0160;Item&#0160;is&#0160;rated&#0160;higher&#0160;than</span><br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;</span><span style="color: #3f7f5f;">//&#0160;in&#0160;binary&#0160;comparisons</span><br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;</span><span style="color: #7f0055;"><strong>public&#0160;</strong></span><span style="color: #7f0055;"><strong>int&#0160;</strong></span><span style="color: #000000;">getScore</span><span style="color: #000000;">()</span><br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;</span><span style="color: #000000;">{</span><br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;</span><span style="color: #7f0055;"><strong>return&#0160;</strong></span><span style="color: #000000;">m_BetterThanList.size</span><span style="color: #000000;">()</span><span style="color: #000000;">;</span><br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;</span><span style="color: #000000;">}</span><br /> <br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;</span><span style="color: #3f7f5f;">//Returns&#0160;true&#0160;if&#0160;item&#0160;successfully&#0160;added</span><br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;</span><span style="color: #3f7f5f;">//Returns&#0160;false&#0160;if&#0160;item&#0160;was&#0160;already&#0160;in&#0160;the&#0160;list,&#0160;or&#0160;we&#0160;try&#0160;to&#0160;add&#0160;</span><br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;</span><span style="color: #3f7f5f;">//&#0160;an&#0160;Item&#0160;to&#0160;its&#0160;own&#0160;BetterThanList</span><br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;</span><span style="color: #7f0055;"><strong>public&#0160;</strong></span><span style="color: #7f0055;"><strong>boolean&#0160;</strong></span><span style="color: #000000;">AddBetterThanItem</span><span style="color: #000000;">(</span><span style="color: #000000;">Item&#0160;anItem</span><span style="color: #000000;">)</span><br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;</span><span style="color: #000000;">{</span><br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;</span><span style="color: #7f0055;"><strong>if&#0160;</strong></span><span style="color: #000000;">(</span><span style="color: #000000;">anItem&#0160;==&#0160;</span><span style="color: #7f0055;"><strong>this</strong></span><span style="color: #000000;">)</span><br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;</span><span style="color: #7f0055;"><strong>return&#0160;false</strong></span><span style="color: #000000;">;</span><br /> <br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;</span><span style="color: #7f0055;"><strong>if&#0160;</strong></span><span style="color: #000000;">(</span><span style="color: #7f0055;"><strong>this</strong></span><span style="color: #000000;">.IsBetterThan</span><span style="color: #000000;">(</span><span style="color: #000000;">anItem</span><span style="color: #000000;">))</span><br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;</span><span style="color: #000000;">{</span><br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;</span><span style="color: #7f0055;"><strong>return&#0160;false</strong></span><span style="color: #000000;">;</span><br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;</span><span style="color: #000000;">}</span><br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;</span><span style="color: #7f0055;"><strong>else</strong></span><br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;</span><span style="color: #000000;">{</span><br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;</span><span style="color: #000000;">m_BetterThanList.add</span><span style="color: #000000;">(</span><span style="color: #000000;">anItem</span><span style="color: #000000;">)</span><span style="color: #000000;">;</span><br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;</span><span style="color: #3f7f5f;">//If&#0160;anItem&#0160;had&#0160;already&#0160;been&#0160;selected&#0160;as&#0160;better&#0160;than&#0160;this&#0160;Item</span><br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;</span><span style="color: #3f7f5f;">//&#0160;then&#0160;we&#0160;remove&#0160;this&#0160;Item&#0160;from&#0160;anItem&#39;s&#0160;BetterThan&#0160;list</span><br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;</span><span style="color: #7f0055;"><strong>if&#0160;</strong></span><span style="color: #000000;">(</span><span style="color: #000000;">anItem.IsBetterThan</span><span style="color: #000000;">(</span><span style="color: #7f0055;"><strong>this</strong></span><span style="color: #000000;">))</span><br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;</span><span style="color: #000000;">{</span><br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;</span><span style="color: #000000;">anItem.Remove</span><span style="color: #000000;">(</span><span style="color: #7f0055;"><strong>this</strong></span><span style="color: #000000;">)</span><span style="color: #000000;">;</span><br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;</span><span style="color: #000000;">}</span><br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;</span><span style="color: #7f0055;"><strong>return&#0160;true</strong></span><span style="color: #000000;">;</span><br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;</span><span style="color: #000000;">}</span><br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;</span><span style="color: #000000;">}</span><br /> <br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;</span><span style="color: #3f7f5f;">//Returns&#0160;true&#0160;if&#0160;this&#0160;Item&#0160;is&#0160;better&#0160;than&#0160;the&#0160;supplied&#0160;Item</span><br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;</span><span style="color: #7f0055;"><strong>public&#0160;</strong></span><span style="color: #7f0055;"><strong>boolean&#0160;</strong></span><span style="color: #000000;">IsBetterThan</span><span style="color: #000000;">(</span><span style="color: #000000;">Item&#0160;anItem</span><span style="color: #000000;">)</span><br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;</span><span style="color: #000000;">{</span><br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;</span><span style="color: #7f0055;"><strong>return&#0160;</strong></span><span style="color: #000000;">m_BetterThanList.contains</span><span style="color: #000000;">(</span><span style="color: #000000;">anItem</span><span style="color: #000000;">)</span><span style="color: #000000;">;</span><br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;</span><span style="color: #000000;">}</span><br /> <br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;</span><span style="color: #3f7f5f;">//Removes&#0160;an&#0160;Item&#0160;from&#0160;the&#0160;list</span><br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;</span><span style="color: #3f7f5f;">//Returns&#0160;true&#0160;if&#0160;successful,&#0160;false&#0160;if&#0160;Item&#0160;wasn&#39;t&#0160;in&#0160;list</span><br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;</span><span style="color: #7f0055;"><strong>public&#0160;</strong></span><span style="color: #7f0055;"><strong>boolean&#0160;</strong></span><span style="color: #000000;">Remove</span><span style="color: #000000;">(</span><span style="color: #000000;">Item&#0160;anItem</span><span style="color: #000000;">)</span><br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;</span><span style="color: #000000;">{</span><br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;</span><span style="color: #7f0055;"><strong>return&#0160;</strong></span><span style="color: #000000;">m_BetterThanList.remove</span><span style="color: #000000;">(</span><span style="color: #000000;">anItem</span><span style="color: #000000;">)</span><span style="color: #000000;">;</span><br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;</span><span style="color: #000000;">}</span><br /> <br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;</span><span style="color: #3f7f5f;">//Returns&#0160;Item&#0160;at&#0160;position&#0160;&#39;index&#39;&#0160;in&#0160;this&#0160;Item&#39;s&#0160;BetterThanList</span><br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;</span><span style="color: #3f7f5f;">//Returns&#0160;null&#0160;if&#0160;index&#0160;is&#0160;outside&#0160;list&#0160;bounds</span><br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;</span><span style="color: #7f0055;"><strong>public&#0160;</strong></span><span style="color: #000000;">Item&#0160;GetBetterThanItem</span><span style="color: #000000;">(</span><span style="color: #7f0055;"><strong>int&#0160;</strong></span><span style="color: #000000;">index</span><span style="color: #000000;">)</span><br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;</span><span style="color: #000000;">{</span><br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;</span><span style="color: #7f0055;"><strong>if&#0160;</strong></span><span style="color: #000000;">(</span><span style="color: #000000;">index&#0160;&gt;=&#0160;</span><span style="color: #990000;">0&#0160;</span><span style="color: #000000;">&amp;&#0160;index&#0160;&lt;&#0160;m_BetterThanList.size</span><span style="color: #000000;">())</span><br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;</span><span style="color: #000000;">{</span><br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;</span><span style="color: #7f0055;"><strong>return&#0160;</strong></span><span style="color: #000000;">m_BetterThanList.get</span><span style="color: #000000;">(</span><span style="color: #000000;">index</span><span style="color: #000000;">)</span><span style="color: #000000;">;</span><br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;</span><span style="color: #000000;">}</span><br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;</span><span style="color: #7f0055;"><strong>else</strong></span><br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;</span><span style="color: #000000;">{</span><br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;</span><span style="color: #7f0055;"><strong>return&#0160;null</strong></span><span style="color: #000000;">;</span><br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;</span><span style="color: #000000;">}</span><br /> <span style="color: #ffffff;">&#0160;&#0160;&#0160;&#0160;</span><span style="color: #000000;">}</span><br /> <span style="color: #ffffff;">&#0160;&#0160;</span><span style="color: #000000;">}</span></p>
<p>&#0160;</p>
<p>That was a pretty easy migration from one language to another, and you can see why I&#39;m recommending learning C# if you want to later extend your AutoCAD .NET skills to Android programming. If I were migrating VB.NET, I&#39;d probably translate it to C# first.</p>
<p>Here is a summary of our findings so far:</p>
<ul>
<li>&#39;string&#39; in C# becomes &#39;String&#39; in Java - we cound have saved a search and replace by using String in C# too.</li>
<li>&#39;bool&#39; becomes &#39;boolean&#39; - simple find and replace</li>
<li>.NET properties have to be rewritten in Java as get/set functions.</li>
<li>Java has a powerful Serialization mechanism - just like C#. But you enable it by implementing an interface instead of adding an attribute.</li>
<li>Java has template (generic) collection classes - just like C#. In this case, we used an ArrayList, where most of the method names are the same as in C# (but starting with a lowercase character).</li>
</ul>
<p>See you next time with the additional migration steps for PrioritizerCore class ...</p>
