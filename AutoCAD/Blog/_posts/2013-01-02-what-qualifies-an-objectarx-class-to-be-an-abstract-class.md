---
layout: "post"
title: "What qualifies an ObjectARX class to be an abstract class"
date: "2013-01-02 18:25:53"
author: "Gopinath Taget"
categories:
  - "2010"
  - "2011"
  - "2012"
  - "2013"
  - "AutoCAD"
  - "Gopinath Taget"
  - "ObjectARX"
original_url: "https://adndevblog.typepad.com/autocad/2013/01/what-qualifies-an-objectarx-class-to-be-an-abstract-class.html "
typepad_basename: "what-qualifies-an-objectarx-class-to-be-an-abstract-class"
typepad_status: "Publish"
---

<p>By <a href="http://adndevblog.typepad.com/autocad/gopinath-taget.html">Gopinath Taget</a></p>  <p>Let's talk about what are abstract classes in C++ to get started.</p>  <p>According to C++ reference, &quot;Abstract classes act as expressions of general concepts from which more specific classes can be derived. You cannot create an object of an abstract class type; however, you can use pointers and references to abstract class types.&quot;</p>  <p>&quot;A class that contains at least one pure virtual function is considered an abstract class. Classes derived from the abstract class must implement the pure virtual function or they, too, are abstract classes.&quot;</p>  <p>For an ObjectARX class (still a C++ class), there is no exception from the above. There are some additional database object methods need to be included in a database object derived class. We implemented some macros to take away some of the boiler plate code a developer has to write. </p>  <p>In your class if you forget to use public: and virtual void   <br />PureMethod(...) = 0, your class is useless and does not qualify as an abstract class. You might thing that using the ARX macro ACRX_NO_CONS_DEFINE_MEMBERS will make a class abstract. However, this is not the case. You should indeed use this macro in an abstract ARX class but it does not make a class abstract. </p>  <p>The right way to use this macro is to define it outside the class definition and inside the class definition, ACRX_DECLARE_MEMBERS macro should be used.</p>  <p>ACRX_NO_CONS_DEFINE_MEMBERS calls ACRX_DEFINE_MEMBERS macro to define desc(), isA(), and gpDesc. In addition it also defines: void CLASS_NAME::rxInit(). You should make your default constructor as protected or private, so &lt;ClassName&gt;::desc()-&gt;create() returns NULL. This prevents the user from instantiate this base class.</p>  <p>Again, please note that, when you're creating an abstract class, only ACRX_NO_CONS_DEFINE_MEMBERS should be used.</p>  <p>Here is a sample abstract custom object class:</p>  <div style="font-family: ; background: white">   <p style="margin: 0px"><font face="Consolas"><span style="line-height: 11pt"><font color="#0000ff"><font style="font-size: 8pt">class</font></font></span><font style="font-size: 8pt"><span style="line-height: 11pt"><font color="#000000"> MyBaseObject : </font></span><span style="line-height: 11pt"><font color="#0000ff">public</font></span></font><span style="line-height: 11pt"><font style="font-size: 8pt" color="#000000"> AcDbObject</font></span></font></p>    <p style="margin: 0px"><span style="line-height: 11pt"><font face="Consolas"><font style="font-size: 8pt" color="#000000">{</font></font></span></p>    <p style="margin: 0px"><span style="line-height: 11pt"><font face="Consolas"><font style="font-size: 8pt" color="#000000"> MyBaseObject() {};</font></font></span></p>    <p style="margin: 0px"><font face="Consolas"><span style="line-height: 11pt"><font color="#0000ff"><font style="font-size: 8pt">public</font></font></span><span style="line-height: 11pt"><font style="font-size: 8pt" color="#000000">:</font></span></font></p>    <p style="margin: 0px"><span style="line-height: 11pt"><font face="Consolas"><font style="font-size: 8pt" color="#000000"> ACRX_DECLARE_MEMBERS(MyBaseObject);</font></font></span></p>    <p style="margin: 0px"><font face="Consolas"><font style="font-size: 8pt" color="#000000">&#160;</font></font></p>    <p style="margin: 0px"><span style="line-height: 11pt"><font face="Consolas"><font style="font-size: 8pt" color="#000000"> ~MyBaseObject() {};</font></font></span></p>    <p style="margin: 0px"><font face="Consolas"><span style="line-height: 11pt"><font color="#000000"><font style="font-size: 8pt">&#160;</font></font></span><font style="font-size: 8pt"><span style="line-height: 11pt"><font color="#0000ff">void</font></span><span style="line-height: 11pt"><font color="#000000"> DoStuff() {ads_printf(L</font></span><span style="line-height: 11pt"><font color="#a31515">&quot;do something&quot;</font></span></font><span style="line-height: 11pt"><font style="font-size: 8pt" color="#000000">);};</font></span></font></p>    <p style="margin: 0px"><font face="Consolas"><span style="line-height: 11pt"><font color="#000000"><font style="font-size: 8pt">&#160;</font></font></span><span style="line-height: 11pt"><font style="font-size: 8pt" color="#008000">// to be implemented in derived classes</font></span></font></p>    <p style="margin: 0px"><font face="Consolas"><span style="line-height: 11pt"><font color="#000000"><font style="font-size: 8pt">&#160;</font></font></span><font style="font-size: 8pt"><span style="line-height: 11pt"><font color="#0000ff">virtual</font></span><span style="line-height: 11pt"><font color="#000000"> </font></span><span style="line-height: 11pt"><font color="#0000ff">void</font></span><span style="line-height: 11pt"><font color="#000000"> PureMethod(</font></span><span style="line-height: 11pt"><font color="#0000ff">void</font></span></font><span style="line-height: 11pt"><font style="font-size: 8pt" color="#000000">) = 0; </font></span></font></p>    <p style="margin: 0px"><span style="line-height: 11pt"><font face="Consolas"><font style="font-size: 8pt" color="#000000">};</font></font></span></p>    <p style="margin: 0px"><span style="line-height: 11pt"><font face="Consolas"><font style="font-size: 8pt" color="#000000">ACRX_NO_CONS_DEFINE_MEMBERS (MyBaseObject, AcDbObject);</font></font></span></p> </div>
