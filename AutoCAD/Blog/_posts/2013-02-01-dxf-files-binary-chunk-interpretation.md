---
layout: "post"
title: "DXF file&rsquo;s Binary chunk interpretation"
date: "2013-02-01 11:59:01"
author: "Fenton Webb"
categories:
  - "2010"
  - "2011"
  - "2012"
  - "2013"
  - "AutoCAD"
  - "Fenton Webb"
original_url: "https://adndevblog.typepad.com/autocad/2013/02/dxf-files-binary-chunk-interpretation.html "
typepad_basename: "dxf-files-binary-chunk-interpretation"
typepad_status: "Publish"
---

<p>by <a href="http://adndevblog.typepad.com/autocad/fenton-webb.html">Fenton Webb</a></p>  <p><b>Issue</b></p>  <p>I need to know how to interpret the binary data enclosed in AutoCAD DXF   <br />files, most importantly:</p>  <p>- the block preview bitmap,   <br />- the drawing thumbnail bitmap,    <br />- any embedded OLE object,    <br />- the proxy object graphics.</p>  <p><a name="section2"></a></p>  <p><b>Solution</b></p>  <p>Binary Data enclosed in DXF file are stored by blocks of 256 bytes maximum under   <br />DXF code 310 (i.e. 'kDxfBinaryChunk'). The number of blocks is not limited, but    <br />sometimes the binary chunk blocks are preceded by a DXF code 92 (of type int)    <br />which indicates the number of blocks to proceed. All binary chunk formats depend    <br />on the object being saved. For example the drawing thumbnail bitmap is a DIB    <br />file. For the embedded OLE object, it depends on the OLE object itself, etc.</p>  <p>- ACIS: the binary chunk blocks contain the encrypted DXF output of the ACIS   <br />object. There is a utility available at the following URL, which can help to    <br />decode that block(s)</p>  <p><a href="http://autocad.xarch.at/stdlib/html/samp5v51.htm">http://autocad.xarch.at/stdlib/html/samp5v51.htm</a></p>  <p>- Block preview image bitmap and Drawing thumbnail bitmap: the binary chunk   <br />blocks are a memory copy of a BITMAPINFO structure, with bitmap bits.</p>  <p>- Embedded OLE object: it depends on the OLE Item version   <br />- For OLE1:    <br />- it is a memory copy of MFC COleClientItem object version OLE1    <br />- For OLE2:     <br />- Signature: 0x5580 | kPaperSpace (kPaperSpace = 0x01)    <br />- AcGePoint3d() upLeft    <br />- AcGePoint3d() upRight    <br />- AcGePoint3d() bottomRight    <br />- AcGePoint3d() bottomLeft    <br />- long extents =0 // always    <br />- long tilemode (=0, or =1) (r13 compatibility)    <br />- then the output of COleclientItem::Serialize() method</p>  <p>- DXF ENTITY section binary chunk interpretation: sometimes the ENTITY section   <br />of an object contains some binary chunk information block(s). This section    <br />appears for any object which is not part of the AutoCAD core (i.e. custom    <br />entities, or AutoCAD entities defined in ARX/DBX modules). It is always preceded    <br />by a DXF code 92 which indicates the length of the binary chunk. And the binary    <br />chunk contains the proxy graphic generated by the entity, when its 'saveAs()'    <br />method was called by AutoCAD. Depending of the settings of AutoCAD (i.e. Proxy    <br />Graphic Never Saved), and the presence of the ARX/DBX module when the DXFOUT    <br />operation occurred, the binary chunk can contain:    <br />- a bounding box with class name and logical application name,    <br />- the last known entity graphic description.</p>  <p>- Proxy graphics binary chunk: this one contains the output of the   <br />AcGiWorldDraw/AcGiViewportDraw vector collector classes which were called upon    <br />DXFOUT. You need to interpret those information to rebuild the saved graphic...    <br /><a href="http://adndevblog.typepad.com/autocad/2013/02/proxy-graphic-in-dxf-binary-chunk-interpretation.html">Proxy graphic in dxf binary chunk interpretation</a> describes    <br />how to interpret information contained in these blocks.</p>
