---
layout: "post"
title: "AutoCAD and Prince of Persia"
date: "2015-03-02 11:58:15"
author: "Kean Walmsley"
categories:
  - "AutoCAD"
  - "Games"
  - "Personal"
  - "Retro computing"
original_url: "https://www.keanw.com/2015/03/autocad-and-prince-of-persia.html "
typepad_basename: "autocad-and-prince-of-persia"
typepad_status: "Publish"
---

<p>Every so often I get hit by a wave of computing nostalgia. This weekend it was a veritable tsunami triggered by the discovery that <a href="https://archive.org/details/softwarelibrary_msdos_games/v2" rel="noopener" target="_blank">a number of old MS-DOS games are available to play online in your browser</a>, including the seminal <a href="https://archive.org/details/msdos_Prince_of_Persia_1990" rel="noopener" target="_blank">Prince of Persia</a>. This game has a strong connection with AutoCAD, for me, so today I’m blogging about that.</p>
<p><br /><a href="http://through-the-interface.typepad.com/.a/6a00d83452464869e201bb07fb0ab8970d-pi"><img alt="Prince of Persia intro" height="282" src="/assets/image_995127.jpg" style="float: none; margin-left: auto; display: block; margin-right: auto;" title="Prince of Persia intro" width="450" /></a>&#0160; </p>
<p>I first started working with AutoCAD while I was still at high school – it must have been around 1989. After a successful (but mind-numbingly boring) summer project at a local manufacturing company, converting their old engineering calculation routines from <a href="http://en.wikipedia.org/wiki/Commodore_BASIC" rel="noopener" target="_blank">PET BASIC</a> to <a href="http://en.wikipedia.org/wiki/GW-BASIC" rel="noopener" target="_blank">GW-BASIC</a> (which mostly involved typing code in from <a href="http://en.wikipedia.org/wiki/Dot_matrix" rel="noopener" target="_blank">dot matrix</a> print-outs, as far as I recall), I started reading the manuals for their new CAD system, AutoCAD R10. In due course I was creating LISP routines to automate the 2D drawing of nozzles and flanges for their plastic pressure vessels. This work set me up with some spending money for my later studies, and I have very fond memories of that period of my life.</p>
<p>Back when I got started, our drawing office used <a href="http://en.wikipedia.org/wiki/Compaq#Compaq_DeskPro_386" rel="noopener" target="_blank">Compaq DeskPro 386</a> machines. These were great machines, not only for running AutoCAD for DOS but also for running early PC video games. The game that captured our collective imagination, from around 1990-91, was Prince of Persia. We would play it at any opportunity outside normal working hours.</p>
<p>This game was simply unbelievable. Until then I’d probably been most impressed, character animation-wise, by ZX Spectrum games such as <a href="http://en.wikipedia.org/wiki/Tir_Na_Nog_%28video_game%29" rel="noopener" target="_blank">Tir Na Nog</a> and (to some degree) <a href="http://en.wikipedia.org/wiki/Heavy_on_the_Magick" rel="noopener" target="_blank">Heavy on the Magick</a>. But Prince of Persia blew these out of the water – the way the main character moved was incredibly realistic.</p>
<p><br /><a href="http://through-the-interface.typepad.com/.a/6a00d83452464869e201bb07fb0826970d-pi"><img alt="Prince of Persia" height="114" src="/assets/image_838763.jpg" style="float: none; margin-left: auto; display: block; margin-right: auto;" title="Prince of Persia" width="450" /></a>&#0160; </p>
<p>So on Saturday afternoon, after playing the game for a few minutes – sadly my muscle memory for the gameplay has faded to nothing and I don’t have the patience to reacquire it – I decided to look into its origins. Fairly quickly I came across <a href="http://www.abandonia.com/files/extras/26916_Extra%20document_Manual.pdf" rel="noopener" target="_blank">the original User’s Guide</a> for the game, at which point I realised the game was developed in San Rafael, Marin County. Close to where I’d myself lived and worked for a number of years at Autodesk!</p>
<p>This struck me as pretty amazing: both pieces of software I was using at the time had been developed in the same Northern Californian town. (OK, in fairness AutoCAD was developed in Mill Valley and Sausalito during the period in which Prince of Persia was developed – Autodesk moved its HQ to San Rafael in 1994 – but this was definitely a topic worth looking into.)</p>
<p>The creator of <a href="http://en.wikipedia.org/wiki/Prince_of_Persia" rel="noopener" target="_blank">Prince of Persia</a> was <a href="http://www.jordanmechner.com" rel="noopener" target="_blank">Jordan Mechner</a>, at the time a twentysomething from New York and recent Yale graduate. He’d previously written the popular <a href="http://en.wikipedia.org/wiki/Karateka_%28video_game%29" rel="noopener" target="_blank">Karateka</a> game (not one I played myself) and ended up moving out to the Bay Area to work on a new title – which became Prince of Persia – for <a href="http://en.wikipedia.org/wiki/Br%C3%B8derbund" rel="noopener" target="_blank">Brøderbund Software</a>. These were the days when mainstream computer games were still often written by individual – albeit highly talented – programmers, something that’s now only really possible in the indie games scene or for rare breakouts such as <a href="http://en.wikipedia.org/wiki/Minecraft" rel="noopener" target="_blank">Minecraft</a>. Although interestingly – and perhaps this is also something that makes him exceptional – Jordan’s passion was cinema: he was also working hard during this period to succeed as a screenwriter.</p>
<p>Jordan kept a journal during his years developing the game, which you can <a href="http://www.amazon.com/Making-Prince-Persia-Jordan-Mechner-ebook/dp/B005WUE6Q2/ref=la_B00390YYXW_1_2?s=books&amp;ie=UTF8&amp;qid=1425144449&amp;sr=1-2" rel="noopener" target="_blank">buy from Amazon</a> or access via <a href="https://web.archive.org/web/20140907150140/http://jordanmechner.com/old-journals/" rel="noopener" target="_blank">a historical snapshot of his blog</a>. The journal makes fascinating reading, talking about the animation process, going from videoed real-world footage – often of his younger brother, David – to individual frames. This rudimentary, <a href="http://en.wikipedia.org/wiki/Rotoscoping" rel="noopener" target="_blank">rotoscoped</a> motion-capture approach has arguably become the foundation for most 3D games, today.</p>
<p><a href="http://through-the-interface.typepad.com/.a/6a00d83452464869e201b8d0e087c4970c-pi" rel="noopener" target="_blank"><img alt="Prince of Persia rotoscopy" border="0" height="264" src="/assets/image_697324.jpg" style="background-image: none; float: none; padding-top: 0px; padding-left: 0px; margin: 20px auto; display: block; padding-right: 0px; border-width: 0px;" title="Prince of Persia rotoscopy" width="362" /></a></p>
<p style="text-align: center;"><span style="color: #a5a5a5;">Image copyright Jordan Mechner.</span></p>
<p>If you’re interested in seeing how this process translated into the game at various stages of development, be sure to check out the <a href="https://vimeo.com/jordanmechner/videos" rel="noopener" target="_blank">videos Jordan has posted on Vimeo</a>.</p>
<p>Reading the journal was heavily nostalgic for me: Jordan describes the video camera’s battery dying while he was trying to pull himself upwards, hanging off <a href="https://www.google.ch/maps/@37.995328,-122.532534,3a,75y,27.44h,81.46t/data=!3m4!1e1!3m2!1sscGADt4D11-JI__utYXG5g!2e0!6m1!1e1" rel="noopener" target="_blank">the bus shelter at North San Pedro Road</a> (the freeway exit I used to take to go home to the place we rented in <a href="http://en.wikipedia.org/wiki/Santa_Venetia,_California" rel="noopener" target="_blank">Santa Venetia</a>). Basically in an attempt to capture the frames for climbing up onto a ledge from a hanging position (which is understandably really hard to do).</p>
<p>Given the benefit of hindsight, the journal is also poignant in places. In a number of entries Jordan describes the beauty of Tina LaDeau, the 18-year old actress – and daughter of a colleague of Jordan’s at Brøderbund – who came in to be <a href="http://youtu.be/0vG403uFdYc" rel="noopener" target="_blank">captured for the role of the princess</a>. In a later entry she’s described by a friend as having “the ephemeral beauty of an 18-year-old.” That turned out to be all too true: Tina tragically <a href="http://www.legacy.com/obituaries/pressdemocrat/obituary.aspx?pid=159167234" rel="noopener" target="_blank">passed away in August 2012</a> at the far-too-young age of 41.</p>
<p>Jordan talks about many of the struggles behind making Prince of Persia a success: for instance, it very nearly flopped due to lackluster marketing as well as having been developed initially for the dying Apple II platform (its success eventually came once it was ported to the IBM PC). He also paints a vivid picture of his life at the time, describing personal relationships and current events such as the first Gulf War and the 1989 earthquake. He mentions eating at Marin Joe’s and the Royal Thai as well as a picnic at the Marin County Civic Center duck pond – all of which I remember well from living in San Rafael in the early 2000s.</p>
<p>After reading the journal for the Prince of Persia years in one sitting – it was compulsive reading – I decided to check out the game’s source code. While fans have been sharing <a href="http://forum.princed.org/viewtopic.php?f=68&amp;t=3423" rel="noopener" target="_blank">disassembled versions</a> for years, Jordan rediscovered <a href="https://github.com/jmechner/Prince-of-Persia-Apple-II" rel="noopener" target="_blank">the source for the original Apple II game</a> a few years ago and posted it to GitHub. While the code itself is mostly incomprehensible to me, I’m always fascinated to see the how programmers during the early part of the personal computing era overcame significant resource constraints to push boundaries and essentially create works of art, much as <a href="http://through-the-interface.typepad.com/through_the_interface/2013/10/an-interview-with-ian-bell.html" rel="noopener" target="_blank">Ian Bell did when creating Elite</a>. One example from Jordan’s diary: the “Shadowman” character was born because so much of the available memory was taken with the main character’s animation frames. <a href="https://github.com/jmechner/Prince-of-Persia-Apple-II/blob/c690818226e37a81d5d2dcb6568cf15aa0fb522f/01%20POP%20Source/Source/GAMEBG.S#L414" rel="noopener" target="_blank">XORing the frames with a single pixel offset</a> allowed Jordan to introduce another character with near-zero memory overhead – and it took about two minutes to implement. Later on additional adversaries were able to be introduced into the game, but you have to admire the ingenuity behind this initial one.</p>
<p>Here’s the point at the end of level 4 where Shadowman gets created as you jump through a mirror. Totally cool.</p>
<p><br /><a href="http://through-the-interface.typepad.com/.a/6a00d83452464869e201b8d0e087cd970c-pi"><img alt="Birth of Shadowman" height="180" src="/assets/image_843780.jpg" style="float: none; margin-left: auto; display: block; margin-right: auto;" title="Birth of Shadowman" width="450" /></a>&#0160; </p>
<h5><span style="font-weight: normal;">Prince of Persia’s success didn’t end with the initial game (although admittedly I personally haven’t followed its progress since): the first game spawned a successful series of games and even a movie – which is great for Jordan finally to have made the crossover from video games to cinema, having written </span><a href="http://www.jordanmechner.com/downloads/popscreenplay.pdf" rel="noopener" target="_blank"><span style="font-weight: normal;">the first screenplay</span></a><span style="font-weight: normal;"> and been an executive producer for </span><a href="http://www.imdb.com/title/tt0473075/" rel="noopener" target="_blank"><span style="font-weight: normal;">Prince of Persia: The Sands of Time</span></a><span style="font-weight: normal;">. Interestingly the whole </span><a href="http://en.wikipedia.org/wiki/Assassin%27s_Creed" rel="noopener" target="_blank"><span style="font-weight: normal;">Assassin’s Creed</span></a><span style="font-weight: normal;"> series was essentially a Prince of Persia spin-off (the initial game was being developed by Ubisoft as “Prince of Persia: Assassins”). Describing this game’s impact on the entertainment industry as significant would be quite an understatement.</span></h5>
<p>So if you feel like playing this game – whether for the first time or, as I did, to remind you of good times – head on over to the Internet archive and <a href="https://archive.org/details/msdos_Prince_of_Persia_1990" rel="noopener" target="_blank">take it for a spin</a>. There are lots of other gems posted there, too: is your favourite <a href="https://archive.org/details/softwarelibrary_msdos_games" rel="noopener" target="_blank">MS-DOS game</a>?</p>
