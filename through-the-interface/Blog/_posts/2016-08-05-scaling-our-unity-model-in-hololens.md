---
layout: "post"
title: "Scaling our Unity model in HoloLens"
date: "2016-08-05 18:53:37"
author: "Kean Walmsley"
categories:
  - "Augmented Reality"
  - "HoloLens"
  - "Robotics"
  - "Unity3D"
  - "Virtual Reality"
original_url: "https://www.keanw.com/2016/08/scaling-our-unity-model-in-hololens.html "
typepad_basename: "scaling-our-unity-model-in-hololens"
typepad_status: "Publish"
---

<p>This was a fun piece of functionality and super easy to add. I’d seen a few HoloLens demos where you can scale the model up and down using “bigger” and “smaller” voice commands. There’s even some code in the <a href="https://github.com/Microsoft/HoloToolkit-Unity" target="_blank">HoloLens Toolkit</a> that does it. But until I’d actually added it to our robot application, I hadn’t really understood how interesting it was.</p> <p>You can scale a model down and have it sit on your desktop…</p> <p><a href="http://through-the-interface.typepad.com/.a/6a00d83452464869e201b8d20d8094970c-pi"><img title="Our baby robot" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; float: none; padding-top: 0px; padding-left: 0px; margin: 30px auto; display: block; padding-right: 0px; border-top-width: 0px" border="0" alt="Our baby robot" src="/assets/image_337545.jpg" width="504" height="375"></a></p> <p>…or you can scale it up to 10x its realworld size and inspect it in unbelievable close-up mode. From the inside! (Although in fairness the model was never intended to be viewed like this, so some of the parts don’t appear properly. Something to think about when modeling for extreme scaling. :-)</p> <p><a href="http://through-the-interface.typepad.com/.a/6a00d83452464869e201b7c883d365970b-pi" target="_blank"><img title="Our robot from the inside" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; float: none; padding-top: 0px; padding-left: 0px; margin: 30px auto; display: block; padding-right: 0px; border-top-width: 0px" border="0" alt="Our robot from the inside" src="/assets/image_880204.jpg" width="504" height="392"></a></p> <p>The code to add this is trivial. You need to have a few lines in your <em>SpeechManager.cs </em>to capture and marshal the commands themselves, and otherwise you’ll need a simple <em>Scale.cs</em> such as the one below attached to your robot’s root.</p> <div style="font-size: 8pt; font-family: courier new; background: white; color: black; line-height: 140%"> <p style="margin: 0px"><span style="color: blue">using</span> UnityEngine;</p> <p style="margin: 0px">&nbsp;</p> <p style="margin: 0px"><span style="color: blue">public</span> <span style="color: blue">class</span> <span style="color: #2b91af">Scale</span> : <span style="color: #2b91af">MonoBehaviour</span></p> <p style="margin: 0px">{</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp; <span style="color: blue">private</span> <span style="color: blue">const</span> <span style="color: blue">float</span> DefaultSizeFactor = 2.0f;</p> <p style="margin: 0px">&nbsp;</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp; [<span style="color: #2b91af">Tooltip</span>(<span style="color: #a31515">"Size multiplier to use when scaling the object up and down."</span>)]</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp; <span style="color: blue">public</span> <span style="color: blue">float</span> SizeFactor = DefaultSizeFactor;</p> <p style="margin: 0px">&nbsp;</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp; <span style="color: blue">private</span> <span style="color: blue">void</span> Start()</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp; {</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: blue">if</span> (SizeFactor &lt;= 0.0f)</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; SizeFactor = DefaultSizeFactor;</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp; }</p> <p style="margin: 0px">&nbsp;</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp; <span style="color: blue">public</span> <span style="color: blue">void</span> OnBigger()</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp; {</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: #2b91af">Vector3</span> scale = transform.localScale;</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; scale *= SizeFactor;</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; transform.localScale = scale;</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp; }</p> <p style="margin: 0px">&nbsp;</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp; <span style="color: blue">public</span> <span style="color: blue">void</span> OnSmaller()</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp; {</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: #2b91af">Vector3</span> scale = transform.localScale;</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; scale /= SizeFactor;</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; transform.localScale = scale;</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp; }</p> <p style="margin: 0px">}</p> <p style="margin: 0px">&nbsp;</p></div> <p>For the full fun, take a look at this video:</p> <p>&nbsp;</p><iframe height="281" src="https://www.youtube-nocookie.com/embed/20H7wlhdwJE?rel=0&amp;showinfo=0" frameborder="0" width="500" allowfullscreen></iframe> <p>&nbsp;</p> <p>Next time we’re going to look at another fun piece of the puzzle: having our robot respond to music.</p>
