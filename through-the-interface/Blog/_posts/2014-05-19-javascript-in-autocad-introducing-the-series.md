---
layout: "post"
title: "JavaScript in AutoCAD: Introducing the series"
date: "2014-05-19 14:43:10"
author: "Kean Walmsley"
categories:
  - "AutoCAD"
  - "AutoCAD .NET"
  - "JavaScript"
  - "Web/Tech"
original_url: "https://www.keanw.com/2014/05/javascript-in-autocad-introducing-the-series.html "
typepad_basename: "javascript-in-autocad-introducing-the-series"
typepad_status: "Publish"
---

<p>During the last week or so I’ve put together a number of new sample integrations of JavaScript-based technologies with AutoCAD, mainly to form the basis of <a href="http://through-the-interface.typepad.com/through_the_interface/2014/05/au2014-class-proposals-and-advance-passes.html" target="_blank">my proposed AU2014 class</a> but also (obviously) to share here. This first post introduces the series, giving an overview of some benefits – as I see them – of adopting this development environment.</p>  <p>As I’m sure I’ve mentioned before, over the years I’ve had a love/hate relationship with HTML and JavaScript: I’m comfortable working with them but have lived through plenty of frustrating moments. These days, though, I’m finding it to be very different experience: widespread HTML5 support has enabled some really interesting capabilities in the browser and there are plenty of things that make your life much easier.</p>  <p><strong>Library support</strong></p>  <p><a href="http://through-the-interface.typepad.com/.a/6a00d83452464869e201a73dc6e38d970d-pi" target="_blank"><img title="Use your libraries!" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; float: right; padding-top: 0px; padding-left: 0px; margin: 0px 0px 0px 20px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="Use your libraries!" src="/assets/image_298769.jpg" width="164" align="right" height="216" /></a>A big reason for investing in any programming language is the existing community investment in the technology. .NET enjoys a vibrant community – as we all know – and is targeted by an increasing number of open source projects, but JavaScript is pretty much <u>all</u> about open source: the number of advanced toolkits and <a href="http://en.wikipedia.org/wiki/Comparison_of_JavaScript_frameworks" target="_blank">application development frameworks</a> that are available for JavaScript is pretty awe-inspiring.</p>  <p><font color="#666666">photo credit: </font><a href="http://www.flickr.com/photos/philbradley/5394928561/"><font color="#666666">Phil Bradley</font></a><font color="#666666"> via </font><a href="http://photopin.com"><font color="#666666">photopin</font></a><font color="#666666"> </font><a href="http://creativecommons.org/licenses/by-nc-sa/2.0/"><font color="#666666">cc</font></a></p>  <p>Aside from a smattering of <a href="http://en.wikipedia.org/wiki/JQuery" target="_blank">jQuery</a>, for this series we’re going to focus on three different graphics toolkits:</p>  <ul>   <li><a href="http://paperjs.org" target="_blank">Paper.js</a>       <ul>       <li>Uses the HTML5 canvas for 2D graphics, in particular </li>     </ul>   </li>    <li><a href="http://jdan.github.io/isomer" target="_blank">Isomer</a>       <ul>       <li>Uses the HTML5 canvas to show isometric views of 3D models </li>     </ul>   </li>    <li><a href="http://threejs.org" target="_blank">Three.js</a>       <ul>       <li>Uses WebGL to display 3D graphics </li>     </ul>   </li> </ul>  <p>At a later point I’ll probably look more deeply into the framework side of things: I know projects such as <a href="http://shapeshifter.io" target="_blank">ShapeShifter</a> have adopted <a href="https://angularjs.org" target="_blank">AngularJS</a>, for instance, but there are flavours of framework out there for everyone’s taste.</p>  <p>And of course the fact these tools are all open source gives you confidence that if they go in a direction that doesn’t sit well with you, it’s always possible to stay with what works or fork them in a direction you like better.</p>  <p><strong>Cross platform</strong></p>  <p>Some of you may be developing web and mobile applications, today, but I suspect most are still focused on developing desktop-centric tools. But that’s not to say the situation will be the same in the years to come: one important benefit of investing in HTML5 &amp; JavaScript is that the generated assets (and skills/experience) are much more likely to be usable on other platforms and devices.</p>  <p><a href="http://through-the-interface.typepad.com/.a/6a00d83452464869e201a73dc6e3a3970d-pi" target="_blank"><img title="The future" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; float: left; padding-top: 0px; padding-left: 0px; margin: 0px 20px 0px 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="The future" src="/assets/image_891209.jpg" width="255" align="left" height="203" /></a>You may not have a specific need today, but as the landscape evolves it’s also prudent to aim at future-proofing your investments. And yes, there are other ways of leveraging existing .NET-centric IP on other platforms – whether creating Windows Phone apps, using Xamarin on iOS and/or Android or reusing .NET components in ASP.NET on Azure – but each of those tends to make assumptions that may or may not be valid (e.g. you’ll be able to use Xamarin in combination with a particular Autodesk technology, etc.). HTML+JavaScript arguably gives you better reach for newly developed assets.</p>  <p><font color="#666666">photo credit: </font><a href="http://www.flickr.com/photos/espd/1274207078/"><font color="#666666">markbult</font></a><font color="#666666"> via </font><a href="http://photopin.com"><font color="#666666">photopin</font></a><font color="#666666"> </font><a href="http://creativecommons.org/licenses/by-nc-nd/2.0/"><font color="#666666">cc</font></a></p>  <p><strong>Centralised deployment</strong></p>  <p>Not everyone wants to deploy apps via the web – and our New Tab Page in AutoCAD 2015 is a local web-page, for lots of good reasons – but you can choose to host your HTML and JavaScript assets centrally and access them from there. Which – along with the responsibility it gives for not introducing breaking changes – means you have the ability to fix things once and deploy them immediately.</p>  <p><strong>Flexible debugging</strong></p>  <p><a href="http://through-the-interface.typepad.com/.a/6a00d83452464869e201a511bb8b09970c-pi" target="_blank"><img title="Kill those bugs" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; float: right; padding-top: 0px; padding-left: 0px; margin: 0px 0px 0px 20px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="Kill those bugs" src="/assets/image_321942.jpg" width="207" align="right" height="101" /></a>This used to be a major weakness of working with JavaScript: I used to have to pepper my code with alert() calls to messagebox the contents of variables. Painful stuff. But the world has moved on: hitting F12 in an HTML-defined palette or document inside AutoCAD brings up an advanced debugging environment that lets you dig into what’s happening – extremely useful when marshalling data via JSON, for instance.</p>  <p><font color="#666666">photo credit: </font><a href="http://www.flickr.com/photos/kevinkrejci/5129290625/"><font color="#666666">Kevin Krejci</font></a><font color="#666666"> via </font><a href="http://photopin.com"><font color="#666666">photopin</font></a><font color="#666666"> </font><a href="http://creativecommons.org/licenses/by/2.0/"><font color="#666666">cc</font></a></p>  <p>And it doesn’t stop there: if you want to edit your HTML or JavaScript, simply reopen the palette or document and the new version will be loaded (assuming it’s coded in an appropriate way, of course). There’s no need to relaunch AutoCAD unless you’re modifying .NET code that your HTML app relies upon (and even now you can avoid that if you’re running from the debugger and are using Edit &amp; Continue with AutoCAD 2015). Life is just so much easier than it used to be.</p>  <p><strong>The series itself</strong></p>  <p>Over the coming posts I’m going to publish a few different approaches for harnessing JavaScript within AutoCAD. Each of the samples I’m creating will have both palette- and document-based versions – ideally using the same implementation for both, where possible – and interoperating with .NET code for any heavy lifting.</p>  <p>To start with we’re going to look at something I’d hinted at a long time ago, when <a href="http://through-the-interface.typepad.com/through_the_interface/2013/08/more-fun-with-leapjs-and-paperjs.html" target="_blank">I’d integrated Paper.js with LeapJS</a>: making use of Paper.js within AutoCAD to implement a user interface of some kind. The specific sample is interesting, albeit very simple: we’re going to write our own version of the REVCLOUD command that allows the user to draw revision clouds using Paper.js and then insert them as polylines in AutoCAD. The task itself isn’t especially interesting – it’s been done before in-product – but the technique for marshalling data as well as the simplicity of the implementation are likely to be of interest.</p>  <p>This first sample will therefore show how to take information generated within HTML/JavaScript and use it to generate AutoCAD geometry – in some ways comparable to <a href="http://through-the-interface.typepad.com/through_the_interface/2014/01/leaving-israel.html" target="_blank">the work I did to prototype an integration of ShapeShifter</a> (which I now need to go back and revisit now that I’ve learned more).</p>  <p>The other two samples I currently have in the pipeline go the other way: they take 3D geometry from inside the current drawing and extract it for display in a 2D isometric and a 3D view, respectively.</p>  <p>Should be a fun couple of weeks!</p>
