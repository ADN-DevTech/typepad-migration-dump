---
layout: "post"
title: "Revisiting MaRS for AU London 2019"
date: "2019-04-24 17:46:20"
author: "Kean Walmsley"
categories:
  - "AU"
  - "Autodesk Research"
  - "Dynamo"
  - "Generative design"
original_url: "https://www.keanw.com/2019/04/revisiting-mars-for-au-london-2019.html "
typepad_basename: "revisiting-mars-for-au-london-2019"
typepad_status: "Publish"
---

<p>I’ve <a href="https://www.keanw.com/2019/02/interested-in-space-analysis-for-dynamo-and-refinery.html" target="_blank">talked before about Project Discover</a>: the project where <a href="https://autodeskresearch.com/groups/living" target="_blank">The Living</a> used generative design to explore layout options for the <a href="https://www.keanw.com/2019/03/visiting-mars.html" target="_blank">new Autodesk office in the MaRS district of Toronto</a>. As the project was run before <a href="https://www.autodesk.com/solutions/refinery-beta" target="_blank">Project Refinery</a> was available – and so didn’t make use of a Refinery-compatible graph – we’ve been working on a new iteration of the tool that can be used with the Autodesk GD toolset for AEC workflows (i.e. Dynamo + Refinery). Internally we’re affectionately referring to this project as <em>Project Rediscover</em>.</p><p>Things are moving along well: thanks largely to <a href="https://www.keanw.com/2019/03/the-space-analysis-package-for-dynamo-and-refinery-is-now-available.html" target="_blank">the Space Analysis package</a> (and yes, Project Rediscover was a major driver for us to create that) we’ve been able to build a graph that has the main metrics found in the original project. We’re using the package’s pathfinding capability to help calculate Adjacency, Buzz and Visual Distraction (which detracts from Productivity), while we’re using visibility to help calculate Views to Outside. The hard work on this graph has been done by friend and colleague <a href="http://autode.sk/simon" target="_blank">Simon Breslav</a>: I have to admit I’ve been rather jealous of Simon getting to dig into this and have fun while I’ve been travelling around talking to people… when I have found the time to contribute it’s mostly been to spend time making the graph layout easier to understand.</p><p>The latest addition Simon has made has been around Daylight. Rather than integrate with an external package, Simon decided to use raycasting from a number of fixed sun positions (calculated for various times of year and day) to the various visibility grid points. So this doesn’t really depend on data structures created by the Space Analysis package: we use it to get the points to cast towards but that’s really just a detail. We’re currently considering how best to do this in the final version: we’re talking to the Dynamo team about how we might solve this without firing rays, and we’ve also discussed the idea of adding some kind of wave propagation capability to Space Analysis that might help us approximate it using the existing core data structures <a href="https://autodeskresearch.com/people/rhys-goldstein" target="_blank">Rhys Goldstein</a> has implemented for pathfinding and visibility. We’ll see how that turns out.</p><p>On a side note, Simon has been making us of .NET’s Parallel.For[Each] from Python to speed up the current metrics. We’ll see whether this is worth pursuing: for the current graph – admittedly running in a Windows VM on my Mac – I’m only seeing a 22-27% performance boost, and I’m not sure even those increases will be sustained when Refinery runs the graph multiple times in parallel. Again, we’ll see! Either way you should expect a blog post or two detailing what we’ve explored, as I do think this is technique is going to be of interest and benefit to people for various scenarios.</p><p>Anyway, the long and the short of it is that great progress is being made, and I can now confidently predict that we’ll be unveiling the graph at AU London 2019: <a href="https://autodeskresearch.com/people/lorenzo-villaggi" target="_blank">Lorenzo Villaggi</a> and I are presenting a session entitled “<a href="https://gems.autodesk.com/events/au-london-2019/agenda-9d39b233a0fe42d385650e63507680c9.aspx" target="_blank">How Autodesk Research Uses Project Refinery to Deliver Generative Design Workflows for AEC</a><em></em>” at 10:45am on the second day (June 19th), during which I’ll dive into the details on both the <a href="https://www.keanw.com/2019/03/the-space-analysis-package-for-dynamo-and-refinery-is-now-available.html" target="_blank">Campus Layout sample</a> and this new one, too. We’ll also be posting the Project Rediscover graph publicly for people to try for themselves, of course.</p><p>Here’s a quick preview of the latest state of the graph. Apologies for the lack of detail, but we still have some way to go before publishing it.</p><p><a href="https://through-the-interface.typepad.com/.a/6a00d83452464869e20240a4800671200d-pi" target="_blank"><img width="500" height="312" title="MaRS graph" style="margin: 30px auto; border-image: none; float: none; display: block; background-image: none;" alt="MaRS graph" src="/assets/image_398652.jpg" border="0"></a></p><p>I’m really pleased we’ll soon be making this available to the community: the original Project Discover has inspired many people to start learning about the Autodesk technologies that can be used to implement this kind of workflow, and I do believe it’ll be a fantastic resource for anyone wanting to solve a similar kind of problem in the future.</p>
