---
layout: "post"
title: "Realtime visualization of sensor data from the MX3D bridge"
date: "2018-10-24 21:40:29"
author: "Kean Walmsley"
categories:
  - "3D printing"
  - "APS (Forge)"
  - "AU"
  - "Autodesk Research"
  - "Generative design"
  - "IoT"
  - "MX3D"
  - "Robotics"
original_url: "https://www.keanw.com/2018/10/realtime-visualization-of-sensor-data-from-the-mx3d-bridge.html "
typepad_basename: "realtime-visualization-of-sensor-data-from-the-mx3d-bridge"
typepad_status: "Publish"
---

<p>We hit a major milestone with our research into smart infrastructure, this week. After a massive push over the last 3-4 weeks (which in itself was built on work done over several years), we were able to deploy a system that measures – and reports in realtime – the performance and usage of the world’s first 3D-printed steel bridge.</p><p>To give you a quick sense of some of the results of this work, here’s an image of <a href="http://dasher360.com" target="_blank">Dasher 360</a> showing the 3D model of the bridge with skeletons walking across it with the bridge’s accelerometer readings displayed as a heatmap. Which can be animated, too, of course. :-)</p><p><a href="https://through-the-interface.typepad.com/.a/6a00d83452464869e2022ad3755f86200c-pi" target="_blank"><img width="500" height="316" title="Surface-shaded bridge with skeletons on it" style="margin: 30px auto; border-image: none; float: none; display: block;" alt="Surface-shaded bridge with skeletons on it" src="/assets/image_5860.jpg"></a></p><p>I’ve talked various times about MX3D, in the past: most recently in <a href="https://keanw.com/2018/10/the-mx3d-bridge-at-dutch-design-week.html" target="_blank">my previous post</a>. Today’s post focuses on Autodesk’s involvement in this incredible project. I also feel the need to make it clear that despite the fact I’m posting a bunch of cool videos on my blog and social media accounts, most of the hard work was really done by others in the team: my role in this was relatively minor.</p><p>From what I understand from our friends at MX3D, the idea for the bridge project originally came up during a brainstorming (probably over beer) session the night before a pitch to Autodesk. Originally the bridge was going to be generatively designed and then 3D-printed in-situ by industrial welding robots. While the goalposts shifted somewhat – MX3D went with a more artistic design, and it wasn’t practical to have welding bots working 24/7 in Amsterdam’s red-light district – the project itself definitely remained a moonshot: the real challenge of being able to create a structurally sound bridge from a sequence of robotic welds was anything but trivial. And while the collaboration with Autodesk around generative design didn’t play out as first hoped, we were really happy to support the project with technology to give the bridge “smarts”. So a different group of Autodesk people started interfacing with MX3D (more on this group later).</p><p>Making the bridge smart involved designing and installing a sensor network in the bridge. While this would ideally have been planned for during printing of the bridge, the reality was that that for this initial creation the knowledge needed to build the sensor conduits in from the beginning just wasn’t there. Hopefully next time!</p><p><a href="https://through-the-interface.typepad.com/.a/6a00d83452464869e2022ad3bb161e200b-pi" target="_blank"><img width="500" height="375" title="Another shot of the bridge in the evening" style="margin: 30px auto; border: 0px currentcolor; border-image: none; float: none; display: block; background-image: none;" alt="Another shot of the bridge in the evening" src="/assets/image_635858.jpg" border="0"></a></p><p>Other partners of MX3D (most notably Imperial College London and FORCE Technology) were involved in the design and installation of the network of 70 or so sensors, although Autodesk clearly collaborated on it, too. Our primary role in the enterprise was always going to be around acquisition, processing and visualization of the sensor data.</p><p>It was only during the <a href="http://keanw.com/2018/10/adding-smarts-to-the-mx3d-bridge.html" target="_blank">recent 2-week period where a number of us descended on the MX3D facility in Amsterdam</a> that the sensor network was finally installed and connected to our back-end. The team that went comprised of Alex Tessier, Jacky Bibliowicz, Hali Larsen, Josh Cameron, Merry Wang, Pan Zhang, Liviu Calin, Mike Lee and myself. Some of us were there for less time than others: Hali, Merry and I had to leave after a few days, but the rest were at MX3D for 2 full weeks of 15+ hour days. Simon Breslav supported the team remotely from Toronto.</p><p>Here’s a breakdown of some of the tasks that we had to complete to make the bridge smart (along with <strong>who</strong> did what):</p><ul><li>Complete and test the wiring of the sensors installed on the bridge.</li><ul><li>This was a big job: it’s one thing to wire in and solder a bunch of sensors, but there are a lot of (metaphorical) moving parts needed to get that data usable.</li><li><strong>Alex, Josh &amp; Mike</strong></li></ul><li>Data acquisition, including spinning up a local cluster hosting our back-end time-series database.</li><ul><li>For Dutch Design Week, in particular, we didn’t expect to have the bandwidth required to use the cloud for sensor data storage.</li><li><strong>Jacky, Josh &amp; Alex</strong></li></ul><li>Create a 3D model with accurately-positioned sensors.</li><ul><li>This was much harder than you might think: we’re currently working with a theoretical model of this non-traditional bridge’s design, not an “as-built” model of it.</li><li><strong>Hali</strong></li></ul><li>Integrate a computer vision pipeline to generate 3D skeletons positioned in the callibrated 3D space of the bridge.</li><ul><li>We used 20 known points around the bridge to help with the callibration and to build a transformation between the coordinate spaces.</li><li><strong>Pan &amp; Liviu</strong></li><ul><li>On a side note, I really want to call this team Pan &amp; Zoom, but I really ought to ask Liviu’s permission before assigning him a new nickname. ;-)</li></ul></ul><li>Develop a dashboard showing the realtime data coming off the bridge.</li><ul><li>We needed to use web-sockets to deliver realtime data to the browser and show the various sensors streaming data into a series of dynamic graphs.</li><li><strong>Mike</strong></li></ul><li>Upgrades to Dasher 360 to work with the bridge data.</li><ul><li>Display of both historical and realtime skeleton data.</li><li>Surface shading of sensor data onto the bridge itself.</li><li><strong>Simon &amp; Kean</strong></li></ul><li>Document the whole process to create a video</li><ul><li>Interview the participants, capture video of the work in process using various cameras and a drone.</li><li><strong>Merry</strong></li></ul></ul><p>Other important players in the project were Alec Shuldiner, Tristan Randall and Azam Khan. Along with Alex, Alec has been the project’s strongest internal champion inside Autodesk: it’s largely thanks to Alec and Alex that the project to instrument the bridge in Pier 9 happened. (In case it wasn’t obvious, the Pier 9 bridge was all about us learning how to do the MX3D sensor network and computer vision pipeline.) Alec has also been the defacto project manager for the sensor network piece, keeping all involved parties on the same page and chasing things along, when needed.&nbsp; Tristan has been across a number of times to Amsterdam to laser-scan the MX3D bridge: we’re hoping we’ll be able to integrate Tristan’s as-built model into a future version of the digital twin. Azam runs the Complex Systems Research team – to which most of the above people, with the exception of Alec, Tristan and Liviu – all belong. It’s thanks to Azam’s vision and support that we were able to put so much of our time and energy into this project.</p><p>Anyway, time to get back to the tech... In a nutshell, the data streaming from the bridge gets batched up and stored in our local time-series database – with roll-ups calculated for different levels of detail – with the latest values pushed out via websockets. Mike’s awesome realtime dashboard – which some people viewed via provided tablets as they walked across the bridge, to see how it responded – would subscribe to these. I used a similar mechanism (albeit for larger amounts of data encoded in a JSON string) to get realtime skeleton data and display that inside Dasher 360, along with the more traditional database access for historical (i.e. non-realtime) data.</p><p>It was cool to start to see large groups of people moving around on the 3D bridge: firstly with historical data.</p><p><a href="https://through-the-interface.typepad.com/.a/6a00d83452464869e2022ad39b734b200d-pi"><img width="500" height="284" title="Skeletons in Eindhoven" style="margin: 30px auto; float: none; display: block;" alt="Skeletons in Eindhoven" src="/assets/image_113601.jpg"></a></p><p>One of the real “oh wow” moments was seeing the skeletons of people walking the bridge in realtime:</p><p align="center"><br></p><p align="center"><iframe width="500" height="283" src="https://www.youtube-nocookie.com/embed/-8HDGdxjmwo" frameborder="0" allowfullscreen="" allow="autoplay; encrypted-media"></iframe></p><p align="center"><br></p><p>Another was when we managed to see various types of historic data of people walking across the bridge coordinated in the same animation: for instance skeleton information with people’s bodies walking on the surface of the bridge that’s been shaded with a heatmap of accelerometer readings. Too cool.</p><p><a href="https://through-the-interface.typepad.com/.a/6a00d83452464869e2022ad39b734f200d-pi" target="_blank"><img width="500" height="312" title="Surface shading and skeletons" style="margin: 30px auto; float: none; display: block;" alt="Surface shading and skeletons" src="/assets/image_779940.jpg"></a></p><p>I’m looking forward to including some visuals from the bridge during <a href="https://forge.autodesk.com/blog/two-exciting-late-additions-forge-devcon" target="_blank">my Forge DevCon class in Las Vegas</a>. Be sure to sign up if you’re planning on being in Las Vegas for the Forge DevCon just prior to AU 2018!</p>
