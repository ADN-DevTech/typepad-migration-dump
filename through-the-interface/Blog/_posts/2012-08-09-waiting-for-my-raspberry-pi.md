---
layout: "post"
title: "Waiting for my Raspberry Pi"
date: "2012-08-09 11:54:50"
author: "Kean Walmsley"
categories:
  - "Kinect"
  - "Raspberry Pi"
  - "Social media"
original_url: "https://www.keanw.com/2012/08/waiting-for-my-raspberry-pi.html "
typepad_basename: "waiting-for-my-raspberry-pi"
typepad_status: "Publish"
---

<p><a href="http://through-the-interface.typepad.com/.a/6a00d83452464869e201774403ca44970d-pi" rel="noopener" target="_blank"><img align="right" alt="Raspi_Colour_R" border="0" height="128" src="/assets/image_970745.jpg" style="background-image: none; margin: 20px 0px; padding-left: 0px; padding-right: 0px; display: inline; float: right; padding-top: 0px; border-width: 0px;" title="Raspi_Colour_R" width="106" /></a>While I <a href="http://through-the-interface.typepad.com/through_the_interface/2012/07/enjoying-brittany.html" rel="noopener" target="_blank">was</a> <a href="http://through-the-interface.typepad.com/through_the_interface/2012/07/enjoying-wales.html" rel="noopener" target="_blank">away</a> <a href="http://through-the-interface.typepad.com/through_the_interface/2012/07/climbing-the-shard.html" rel="noopener" target="_blank">on</a> <a href="http://through-the-interface.typepad.com/through_the_interface/2012/07/enjoyed-england.html" rel="noopener" target="_blank">holiday</a>, <a href="http://labs.blogs.com" rel="noopener" target="_blank">Scott Sheppard</a> announced an Autodesk-internal competition of which the eight lucky winners would receive a currently-still-hard-to-come-by <a href="http://raspberrypi.org" rel="noopener" target="_blank">Raspberry Pi</a> <a href="http://en.wikipedia.org/wiki/Raspberry_pi#Hardware" rel="noopener" target="_blank">Model B</a> (so named in homage to the computer that helped inspire a generation of British programmers, <a href="http://en.wikipedia.org/wiki/BBC_Micro" rel="noopener" target="_blank">the BBC Micro</a>).</p>
<p>All that contestants had to do was submit an idea for a compelling use of the device (and then submit a video of the completed project, along with instructions to replicate it on <a href="http://instructables.com" rel="noopener" target="_blank">Instructables.com</a>). I’d been interested for some time in getting my hands on one of these cool little systems, and had a few ideas gestating for potential projects.</p>
<p>This competition helped crystalise one of these, in particular. Here’s the idea, which I’m happy to say resulted in <a href="http://labs.blogs.com/its_alive_in_the_lab/2012/08/internal-raspberry-pi-contest-and-the-winners-are.html" rel="noopener" target="_blank">me being one of the lucky eight</a>:</p>
<p>I want to create a social media-enabled, friend-recognising, security webcam. This webcam would be located at a property’s front door, checking visitors against the owner’s Facebook friends, with a screen providing customised information on the owner’s status/location to people recognised as friends. It would also potentially post a message to the friend’s wall, thanking them for their visit.</p>
<p>Oh, and it might end up using a Kinect for data input – rather than a traditional webcam – as this could provide additional data about people actually approaching the house, rather than relying on motion detection that would be set off by people and cars passing by. (It was this final piece that got listed in Scott’s blog post – it remains to be seen whether this is feasible, given the relatively limited horsepower these devices have.)</p>
<p>I had some initial thoughts about how this might be work – and be implemented – but I’ve started to research more seriously now that I know it’s definitely happening. My original thoughts were along these lines:</p>
<ul>
<li>The Raspberry Pi – with USB-connected webcam – would sit there, waiting for someone to come along</li>
<li>When a person’s face gets detected in the webcam’s video stream, it would be submitted to <a href="http://face.com" rel="noopener" target="_blank">Face.com</a> – a Facebook-enabled facial recognition web service – to find out whether this person was known to the owner(s)</li>
<li>Depending on the friendship status of the visitor, it would be possible to provide a customised greeting and perhaps more accurate information on our physical location (although we’re not users of Foursquare in my family)</li>
</ul>
<p>On the motion detection side of things, it seems <a href="http://www.lavrsen.dk/foswiki/bin/view/Motion/WebHome" rel="noopener" target="_blank">there’s a pretty good component available for this</a>.</p>
<p>For facial recognition, I was all set to use Face.com. Fellow Raspberry Pi enthusiast, <a href="http://twitter.com/AlexFielder" rel="noopener" target="_blank">AlexFielder</a>, pointed out that Face.com had <a href="http://face.com/blog/facebook-acquires-face-com/" rel="noopener" target="_blank">been acquired by Facebook</a> – which didn’t necessarily get me worried until I found out this meant they were basically shutting down their web-service.</p>
<p>This came as a bit of a shock, to say the least, and certainly gives you pause for thought when considering adopting a web-based API in your product: you really need to trust that the service provider is not only going to stay in business, but is likely to respect their commitment to providing said service should they get acquired. Which is admittedly true of desktop software, even if – by the way it’s deployed – it’s less brittle on a day-to-day basis.</p>
<p>Every cloud has a silver lining: I expect Facebook’s automatic photo tagging capabilities to get a lot better over the next year or so. ;-)</p>
<p>I decided to send Face.com an email, asking what they recommend for people considering projects such as mine. They responded very promptly, echoing advice I’d already seen <a href="https://developers.face.com/forums/general-talk-f13/face-com-shutting-down-commercial-api-now-what-t1202.html" rel="noopener" target="_blank">on their forum</a>:</p>
<blockquote>
<p><em>Following the Facebook acquisition the API is winding down and it&#39;s no longer possible to sign up and use it. </em></p>
<p><em>Re alternatives - </em><a href="http://opencv.willowgarage.com/wiki/FaceRecognition"><em>OpenCV</em></a><em> offers decent opensource face detection and face recognition, and there are commercial </em><a href="https://www.google.com/search?aq=f&amp;sugexp=chrome,mod=9&amp;sourceid=chrome&amp;ie=UTF-8&amp;q=face+recognition+sdk"><em>face recognition SDK options</em></a><em> available for integration. If you&#39;re developing a mobile app, check out iOS&#39; and Android&#39;s built in face detection functionality.</em></p>
</blockquote>
<p>This was actually pretty interesting, in the sense having local recognition would hopefully make the system more robust and (possibly) responsive.</p>
<p>I’ve used <a href="http://opencv.org" rel="noopener" target="_blank">OpenCV</a> in the past, but went ahead and installed it again on my Windows system along with <a href="http://www.shervinemami.info/faceRecognition.html" rel="noopener" target="_blank">a very decent sample application</a>, just to see that it works:</p>
<p><a href="http://through-the-interface.typepad.com/.a/6a00d83452464869e20176171dbf12970c-pi" rel="noopener" target="_blank"><img alt="I&#39;ve been recognised" border="0" height="244" src="/assets/image_378871.jpg" style="background-image: none; margin: 20px auto; padding-left: 0px; padding-right: 0px; display: block; float: none; padding-top: 0px; border-width: 0px;" title="I&#39;ve been recognised" width="324" /></a></p>
<p>It also seems <a href="http://mitchtech.net/raspberry-pi-opencv/" rel="noopener" target="_blank">OpenCV can be made to work on the Pi</a>, which gives me hope that I’ll be able to get this sample working there, too.</p>
<p>The sample detected me very promptly, although as I was the only person I’d trained it with, when my wife walked in the room she was detected as being me, also :-( :-). Hopefully it’ll give less false positives once I’ve worked out how to train it appropriately with a larger set of images.</p>
<p>I also haven’t given up on the Facebook integration side of things: right now I’m fooling around with the Facebook’s Graph API, using it to extract information on friends, as well as all the photos they’ve been tagged in. I haven’t yet found an effective way to use these photos to train the face database, but then it’s early days.</p>
<p>And the Pi is in the post, so I’ll soon be able to work with the actual device. Should be fun. :-)</p>
