---
layout: "post"
title: "Public symbols for AutoCAD 2012"
date: "2011-06-30 09:59:15"
author: "Kean Walmsley"
categories: []
original_url: "https://www.keanw.com/2011/06/public-symbols-for-autocad-2012.html "
typepad_basename: "public-symbols-for-autocad-2012"
typepad_status: "Publish"
---

<p>Better information when debugging .NET and ObjectARX applications has been a long-standing request from our developer community. I’m happy to say that this week we’ve posted a set of public debugging symbols (in the form of stripped PDB files) to our new corporate symbol server, <a href="http://symbols.autodesk.com/symbols">http://symbols.autodesk.com/symbols</a>. For now' we’ve posted the 32- and 64-bit PDBs for AutoCAD 2012, and will continue to update them with symbols for our public releases.</p>  <p>Before going too much further, it’s worth looking at <a href="http://msdn.microsoft.com/en-us/library/ms241613.aspx" target="_blank">some background information on debugging symbols</a> and <a href="http://msdn.microsoft.com/en-us/library/b8ttk8zy.aspx" target="_blank">how to make use of a symbol server from Visual Studio</a>.</p>  <p>Now let’s look at en example of debugging with and without the Autodesk symbol server added to your Visual Studio debugging options.</p>  <p>Without symbols, you have little visibility on the call stack beneath your own code:</p>  <p><a href="http://through-the-interface.typepad.com/.a/6a00d83452464869e20154335d6098970c-pi"><img style="background-image: none; border-right-width: 0px; margin: 20px auto; padding-left: 0px; padding-right: 0px; display: block; float: none; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="Debugging without symbols" border="0" alt="Debugging without symbols" src="/assets/image_371351.jpg" width="466" height="319" /></a></p>  <p>If we follow the process linked to above, we bring up the Visual Studio debugging options:</p>  <p><a href="http://through-the-interface.typepad.com/.a/6a00d83452464869e2014e897d6fc8970d-pi"><img style="background-image: none; border-right-width: 0px; margin: 20px auto; padding-left: 0px; padding-right: 0px; display: block; float: none; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="Visual Studio debugging options" border="0" alt="Visual Studio debugging options" src="/assets/image_754143.jpg" width="479" height="278" /></a></p>  <p>And then add our symbol server, accepting the default caching location:</p>  <p><a href="http://through-the-interface.typepad.com/.a/6a00d83452464869e20154335d60ec970c-pi"><img style="background-image: none; border-right-width: 0px; margin: 20px auto; padding-left: 0px; padding-right: 0px; display: block; float: none; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="Debugging options with symbol server added" border="0" alt="Debugging options with symbol server added" src="/assets/image_787347.jpg" width="479" height="277" /></a></p>  <p>Then when we next run a debugging session for our project, you’ll notice a lag while the various symbol files are downloaded locally. I also enabled unmanaged debugging in my project settings, so that we see the symbols for native code inside AutoCAD, too.</p>  <p><a href="http://through-the-interface.typepad.com/.a/6a00d83452464869e2014e897d7013970d-pi"><img style="background-image: none; border-right-width: 0px; margin: 20px auto; padding-left: 0px; padding-right: 0px; display: block; float: none; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="Debugging with symbols" border="0" alt="Debugging with symbols" src="/assets/image_354424.jpg" width="465" height="319" /></a></p>  <p>There doesn’t quite appear to be a complete stack – the symbols I’m seeing are in native code, so it may be the managed symbols were not fully resolved, I need to do some more checking – but we do have more than we had.</p>  <p>You may find the function names at times surprising: AutoCAD is a product with a complex (and often highly efficient) architecture, and it may not always be clear what functions are performing which functions. But this additional call-stack information should certainly be of help to you when troubleshooting coding problems (whether on your side or ours).</p>  <p><strong><em>Update</em></strong></p>  <p>A couple of additional notes:</p>  <p>You shouldn’t be surprised if you see a “<em>403 – Forbidden: Access is denied</em>” error when you try to load the symbol server link in a web browser. There is nothing publicly visible (“nothing to see here, folks” :-), as the content is just used by development environments that are able to make use of the PDB information.</p>  <p>The other point is about my call stack comment: the call stack is fairly complete – there may be a few calls missing – and the issue is not around managed calls. When I thought about it a bit more, I realised that with standard commands you would very rarely see managed calls above you in the call stack: you are called pretty directly by native code. Some UI framework code may exist above you if you’re inside a palette implementation (for instance), but otherwise I think it’s pretty rare you’ll see symbols from <em>AcMgd.dll</em> and <em>AcDbMgd.dll</em>.</p>  <p>You will probably find these symbols of use if analysing minidumps (which can be located on your system when AutoCAD crashes via the Error Reporting tool in AutoCAD without too much difficulty). Which would probably be a good topic for a subsequent post.</p>
