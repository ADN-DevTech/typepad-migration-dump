---
layout: "post"
title: "Creating a transparent movable panel inside the Forge viewer"
date: "2017-02-24 17:51:20"
author: "Kean Walmsley"
categories:
  - "APS (Forge)"
  - "Autodesk"
  - "Autodesk Research"
  - "IoT"
  - "User interface"
original_url: "https://www.keanw.com/2017/02/creating-a-transparent-movable-panel-inside-the-forge-viewer.html "
typepad_basename: "creating-a-transparent-movable-panel-inside-the-forge-viewer"
typepad_status: "Publish"
---

<p>As a follow-up from <a href="http://through-the-interface.typepad.com/through_the_interface/2017/02/scaling-html-canvases-for-hidpi-screens.html" target="_blank">Tuesday’s post</a>, I wanted to hide the title bar of the dialog showing the legend for our surface shading feature. It turned out to be really easy: we’re deriving from DockingPanel and we simply need to override the initialize() method and choose not to create either the title bar or the close button. All we do in the method is create “move handlers” that allow the dialog to be moved by clicking and dragging anywhere on it: very important if you no longer have a title bar on your dialog.</p> <p>Here’s the TypeScript class I ended up creating to do this – you could do the same by modifying the prototype in JavaScript, of course.</p> <div style="font-size: 8pt; font-family: courier new; background: white; color: black; line-height: 140%"> <p style="margin: 0px"><span style="color: green">/// &lt;reference path='../../../../typings/index.d.ts' /&gt;</span></p> <p style="margin: 0px">&nbsp;</p> <p style="margin: 0px"><span style="color: blue">export</span> <span style="color: blue">default</span> <span style="color: blue">class</span> TransparentDockingPanel <span style="color: blue">extends</span> Autodesk.Viewing.UI.DockingPanel {</p> <p style="margin: 0px">&nbsp; constructor(parentContainer: Element, id: string, title?: string, options?: any) {</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp; <span style="color: blue">super</span>(parentContainer, id, title, options);</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp; <span style="color: blue">this</span>.container.style.left = <span style="color: #a31515">'0px'</span>; <span style="color: green">// Just initing, docking will overwrite this</span></p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp; <span style="color: blue">this</span>.container.style.top = <span style="color: #a31515">'0px'</span>; <span style="color: green">// Just initing, docking will overwrite this</span></p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp; <span style="color: blue">this</span>.container.style.resize = <span style="color: #a31515">'both'</span>;</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp; <span style="color: blue">this</span>.container.style.height = (options.height || 100) + <span style="color: #a31515">'px'</span>;</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp; <span style="color: blue">this</span>.container.style.width = (options.width || 300) + <span style="color: #a31515">'px'</span>;</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp; <span style="color: blue">this</span>.container.style.minHeight = (options.minHeight || options.height || 100 ) + <span style="color: #a31515">'px'</span>;</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp; <span style="color: blue">this</span>.container.style.minWidth = (options.minWidth || options.width || 300) + <span style="color: #a31515">'px'</span>;</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp; <span style="color: blue">this</span>.container.dockRight = <span style="color: blue">true</span>;</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp; <span style="color: blue">this</span>.container.dockBottom = <span style="color: blue">true</span>;</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp; $(<span style="color: blue">this</span>.container).addClass(<span style="color: #a31515">'modelStructurePanel'</span>).addClass(<span style="color: #a31515">'docking-panel'</span>);</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp; <span style="color: blue">if</span> (options.classes &amp;&amp; <span style="color: blue">typeof</span> options.class === <span style="color: #a31515">'Array'</span>) {</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; options.classes.forEach((additionalClass: string) =&gt; {</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $(<span style="color: blue">this</span>.container).addClass(additionalClass);</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; });</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp; }</p> <p style="margin: 0px">&nbsp; }</p> <p style="margin: 0px">&nbsp;</p> <p style="margin: 0px">&nbsp; initialize(): <span style="color: blue">void</span> {</p> <p style="margin: 0px">&nbsp;</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp; <span style="color: green">// Don't create a title or close button, just allow movement on drag</span></p> <p style="margin: 0px">&nbsp;</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp; <span style="color: blue">this</span>.initializeMoveHandlers(<span style="color: blue">this</span>.container);</p> <p style="margin: 0px">&nbsp; };</p> <p style="margin: 0px">}</p> <p style="margin: 0px">&nbsp;</p></div> <p>And here’s the way the dialog looks now:</p> <p><a href="http://through-the-interface.typepad.com/.a/6a00d83452464869e201b8d26408ef970c-pi" target="_blank"><img title="Our movable legend with a transparent background" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; float: none; padding-top: 0px; padding-left: 0px; margin: 30px auto; display: block; padding-right: 0px; border-top-width: 0px" border="0" alt="Our movable legend with a transparent background" src="/assets/image_41587.jpg" width="500" height="337"></a></p>
