---
layout: "post"
title: "Autonomous drone navigation for Autodesk Photo on ReCap 360"
date: "2014-06-30 13:47:37"
author: "Kean Walmsley"
categories:
  - "Geo-location"
  - "Reality capture"
  - "Robotics"
  - "UAVs"
original_url: "https://www.keanw.com/2014/06/autonomous-drone-navigation-for-autodesk-photo-on-recap-360.html "
typepad_basename: "autonomous-drone-navigation-for-autodesk-photo-on-recap-360"
typepad_status: "Publish"
---

<p><a href="http://through-the-interface.typepad.com/.a/6a00d83452464869e201a73de330ea970d-pi" target="_blank"><img title="My new drone: the Quanum Nova from HobbyKing.com" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; float: none; padding-top: 0px; padding-left: 0px; margin: 20px auto; display: block; padding-right: 0px; border-top-width: 0px" border="0" alt="My new drone: the Quanum Nova from HobbyKing.com" src="/assets/image_378139.jpg" width="375" height="280" /></a></p>  <p>I’ve been getting very interested in the field of autonomous robot navigation, of late.</p>  <p>I own a couple of different robots: while I haven’t quite gotten around to buying a robotic vacuum cleaner, I’ve had <a href="http://through-the-interface.typepad.com/through_the_interface/2008/02/robotic-hatchin.html" target="_blank">an autonomous lawn mower</a> for several years, now, and bought <a href="http://through-the-interface.typepad.com/through_the_interface/2014/01/attack-of-the-robots.html" target="_blank">a simple LEGO-carrying programmable robot for my kids for Christmas</a>.</p>  <p>One of the reasons I find the field of autonomous robot navigation so interesting is that there’s a great deal of overlap with the algorithms and techniques needed for 3D reconstruction: robots need to sense their environment – often using photo or video input – and so there’s a great deal of image processing and computer vision involved. These algorithms are used heavily in Photo on ReCap 360, of course.</p>  <p>As mentioned <a href="http://through-the-interface.typepad.com/through_the_interface/2013/08/coursera-the-future-of-education.html" target="_blank">a</a> <a href="http://through-the-interface.typepad.com/through_the_interface/2014/02/autonomous-mobile-robots.html" target="_blank">few</a> <a href="http://through-the-interface.typepad.com/through_the_interface/2014/06/mountains-and-moocs.html" target="_blank">times</a> on this blog, I’ve followed a number of online courses to improve my knowledge of autonomous robot navigation. Here’s my “core curriculum”, which admittedly includes a fair amount of overlap (I’ve personally found this helps reinforce some of the core concepts):</p>  <ul>   <li><a href="https://www.coursera.org/course/matrix" target="_blank">Coding the Matrix: Linear Algebra through Computer Science Applications</a>       <ul>       <li>A solid refresher on linear algebra – very relevant to the subsequent classes </li>     </ul>   </li>    <li><a href="https://www.edx.org/course/uc-berkeleyx/uc-berkeleyx-eecs149-1x-cyber-physical-1629" target="_blank">Cyber-Physical Systems</a>       <ul>       <li>A class that looks at issues around embedded system design and implementation </li>     </ul>   </li>    <li><a href="https://www.edx.org/course/ethx/ethx-amrx-autonomous-mobile-robots-1342" target="_blank">Autonomous Mobile Robots</a>       <ul>       <li>A 15-week class taking a thorough look at the field of autonomous robot navigation </li>     </ul>   </li>    <li><a href="https://www.edx.org/course/tumx/tumx-autonavx-autonomous-navigation-1658" target="_blank">Autonomous Navigation for Flying Robots</a>       <ul>       <li>A shorter 8-week class that covers many of the same concepts in less depth with a particular focus on quadrocopter navigation </li>     </ul>   </li> </ul>  <p>With these classes under your belt, you should be feeling pretty good about the basics, having implemented a number of control algorithms in the various simulators provided with these classes. I came away excited about the field but with a strong desire to create something concrete that works on physical hardware.</p>  <p>Inspired by the last class, in particular, I decided on the following project concept: an autopilot for a <a href="http://en.wikipedia.org/wiki/Quadcopter" target="_blank">quadcopter</a> that captures a dataset tuned for use with the <a href="http://recap360.autodesk.com" target="_blank">Photo on ReCap 360 service</a> (much as we saw before with <a href="http://through-the-interface.typepad.com/through_the_interface/2013/10/running-drone-captured-data-through-recap-photo.html" target="_blank">this drone-captured dataset</a>).</p>  <p>To understand more about the process of capturing a 3D structure using a <a href="http://en.wikipedia.org/wiki/Unmanned_aerial_vehicle" target="_blank">UAV</a>, I recommend watching this webinar – one of <a href="http://through-the-interface.typepad.com/through_the_interface/2014/06/some-useful-webinars.html" target="_blank">a series I talked about recently</a> – which covers the core concepts and goes into some detail on <a href="http://through-the-interface.typepad.com/through_the_interface/2014/04/conceptual-modeling-in-a-drone-captured-environment.html" target="_blank">the conceptual modeling workflow we saw previously</a> as well as the existing, commercial, autonomous drone capture system that <a href="http://through-the-interface.typepad.com/through_the_interface/2014/06/recap-api-article-on-programmableweb.html" target="_blank">connects with the new ReCap Photo Web API</a>:</p>  <br /><iframe height="264" src="//www.youtube.com/embed/mgYQoFYH0V8?list=PLQOxJKbIe-77Y-1pLHsxOOM6IEJ6vVXUv" frameborder="0" width="470" allowfullscreen="allowfullscreen"></iframe>  <br />  <br />  <p>Assuming you don’t go with <a href="https://www.skycatch.com/#platform" target="_blank">Skycatch</a>’s high-end system, most of this workflow is still quite manual: my hope is to make it really easy to take a low-cost UAV and use it to capture a building (for instance) by just dropping it in from of it and have the drone use its sensors to navigate around the building, taking photos at the appropriate lateral and vertical intervals to properly feed Photo on ReCap 360 (integrating the new API, if that makes sense).</p>  <p>It wouldn’t need GPS waypoints to be added via flight-planning software: it would know where it was dropped and stop once it made its way back to the beginning, having completed a loop of the building taking pictures of it at various altitudes.</p>  <p>My next step, then, is to procure some hardware!</p>  <br />  <blockquote lang="en" class="twitter-tweet">   <p>So I went and bought a drone. A Quanum Nova, basically an Arducopter equivalent of the DJI Phantom. Importantly it's very hackable...</p> — Kean Walmsley (@keanw) <a href="https://twitter.com/keanw/statuses/480459424767946752">June 21, 2014</a></blockquote> <script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>  <br />  <p>I went with the <a href="http://www.hobbyking.com/hobbyking/store/__55108__quanum_nova_fpv_gps_waypoint_quadcopter_w_out_battery_mode_2_ready_to_fly_.html" target="_blank">Quanum Nova</a> mainly because it’s dirt cheap (~$300, although you’ll need to buy some batteries, a charger and a GoPro on top of that) and based on an <a href="http://en.wikipedia.org/wiki/ArduCopter" target="_blank">ArduCopter</a> board. ArduCopter is an open source hardware platform for UAVs, which means it’s much more likely to be possible to get in and hack its control algorithms.</p>  <p>I might probably have gone with the <a href="http://ardrone2.parrot.com/" target="_blank">AR.Drone 2</a>: the positive side of this drone is that it has a bunch of sensors that make autonomous navigation straightforward – the last course in the above list focuses on AR.Drone as the hardware platform – but the downside is around its ability to capture images: the in-built, downward-facing camera isn’t good enough (or angled appropriately) to feed ReCap and the drone isn’t well-suited to carrying a GoPro.</p>  <p>So I went with the Quanum Nova, even though I’m fairly sure it doesn’t have the sensors I need to detect the distance from the building it’s capturing and to avoid obstacles autonomously.</p>  <p>During my initial research, <a href="http://diydrones.com/forum/topics/programming-a-mapping-drone-for-3d-reconstruction" target="_blank">I posted to the DIY Drones forum</a> and reached out within Autodesk to see what’s going on in this space. The great news is that over the weekend I found out (from a couple of different sources) about work <a href="http://3drobotics.com" target="_blank">3D Robotics</a> is doing in this area.</p>  <p>It turns out 3DR has just introduced <a href="http://diydrones.com/profiles/blogs/how-to-do-one-button-building-mapping-with-droidplanner" target="_blank">a “one-button 3D mapping” feature</a> into <a href="https://play.google.com/store/apps/details?id=org.droidplanner&amp;hl=en" target="_blank">their DroidPlanner software</a>, an Android-based mission planner they provide to work with their ArduCopter drones. It seems that <a href="https://github.com/Droidplanner/droidplanner/wiki/FAQ" target="_blank">it’s possible to use DroidPlanner with non-3DR devices</a>, albeit without support. Hopefully I’ll <a href="http://through-the-interface.typepad.com/.a/6a00d83452464869e201a511d7cd57970c-pi" target="_blank"><img title="Droid planner flight-plan for autonomous 3D capture" style="border-top: 0px; border-right: 0px; background-image: none; border-bottom: 0px; float: right; padding-top: 0px; padding-left: 0px; margin: 20px 0px 20px 20px; border-left: 0px; display: inline; padding-right: 0px" border="0" alt="Droid planner flight-plan for autonomous 3D capture" src="/assets/image_581841.jpg" width="206" align="right" height="341" /></a>find a way to get it working with my Quanum Nova, once it arrives (it’s been on back-order for 10 days with no ETA), which at a minimum sounds like it’ll involve <a href="http://diydrones.com/profiles/blogs/adding-3dr-radio-telemetry-to-the-quanum-nova-apm-powered-copter" target="_blank">installing a telemetry module</a>.</p>  <p>The feature works on the basic of specifying an object to capture and a radius to fly around it (I wasn’t able to adjust the radius of the above flight-path, as I haven’t yet connected it to a UAV). The flight-path will keep the UAV pointed towards the centre of the object you’re capturing, of course, and you can specify additional “orbits” at different altitudes, should you so choose. The navigation is based on traditional GPS-waypoints, from what I can tell, as my (still very limited) understanding is that distance sensors are not part of the base ArduCopter system.</p>  <p>So there still seems to be some scope to do something that doesn’t even need a mission-planning application, but for now I’m going to take a look at this very interesting tool and see whether I need to go beyond it. I’m sure I’ll find another drone-related software project to help scratch this particular itch, in case. :-)</p>  <p>And who knows – maybe there’s a scenario that gives me the excuse to connect <a href="http://through-the-interface.typepad.com/through_the_interface/2014/06/attaching-geo-location-data-to-an-autocad-drawing-using-net.html" target="_blank">AutoCAD’s geo-location API</a> into the process? Hmm...</p>
