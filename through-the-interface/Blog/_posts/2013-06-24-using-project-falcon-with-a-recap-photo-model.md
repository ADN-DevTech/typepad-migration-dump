---
layout: "post"
title: "Using Project Falcon with a ReCap Photo model &ndash; Part 1"
date: "2013-06-24 06:53:00"
author: "Kean Walmsley"
categories:
  - "AutoCAD"
  - "Morgan"
  - "Point clouds"
  - "Reality capture"
original_url: "https://www.keanw.com/2013/06/using-project-falcon-with-a-recap-photo-model.html "
typepad_basename: "using-project-falcon-with-a-recap-photo-model"
typepad_status: "Publish"
---

<p>Here’s the thing. While it’s nice to be able to <a href="http://through-the-interface.typepad.com/through_the_interface/2013/06/comparing-123d-catch-with-recap-photo.html" target="_blank">capture interesting-looking models</a> with Autodesk ReCap Photo, what we really want is an output format that’s useable in other products.</p>
<p>In my case, what I personally wanted to do was first hinted at in <a href="http://through-the-interface.typepad.com/through_the_interface/2012/12/project-falcon-for-autocad.html" target="_blank">this post</a>: display a model of the Morgan 3 Wheeler in a virtual <a href="https://en.wikipedia.org/wiki/Wind_tunnel" target="_blank">wind tunnel</a> using <a href="http://labs.autodesk.com/utilities/falcon" target="_blank">Project Falcon</a> (a project on <a href="http://labs.autodesk.com" target="_blank">Autodesk Labs</a> which is – at the time of writing – scheduled to run until <strong>August 30, 2013</strong>).</p>
<p>So let’s take a look at the output formats of the ReCap Photo service and see how we might use them.</p>
<p>To start with, the main “output” of the ReCap Photo service is the .rcp file, which contains the project information but also some visualization information to allow it to be viewed (or previewed) via the WebGL control inside Autodesk 360. This is typically a proxy mesh with reduced resolution, as you’re notified of when you view the .rcp:<a href="http://through-the-interface.typepad.com/.a/6a00d83452464869e201901dac1f6b970b-pi" target="_blank"><img alt="Proxy mesh message from ReCap Photo" border="0" height="25" src="/assets/image_346108.jpg" style="background-image: none; margin: 20px auto; padding-left: 0px; padding-right: 0px; display: block; float: none; padding-top: 0px; border-width: 0px;" title="Proxy mesh message from ReCap Photo" width="470" /></a>The .3dp file – which can be loaded in 123D Catch – is actually there but hidden, in case you want to transfer the project across (although I’m not sure whether mesh generation would then be performed with the full resolution imagery, or not, in 123D Catch – presumably not).</p>
<p>If you’re working with either Standard or Maximum (rather than Draft) mesh quality in ReCap Photo, you can generate .rcs, .obj, .fbx and .ipm files.</p>
<p><a href="http://through-the-interface.typepad.com/.a/6a00d83452464869e2019103a232eb970c-pi" target="_blank"><img alt="Formats for export" border="0" height="433" src="/assets/image_253432.jpg" style="background-image: none; margin: 20px auto; padding-left: 0px; padding-right: 0px; display: block; float: none; padding-top: 0px; border-width: 0px;" title="Formats for export" width="470" /></a>RCS (for Reality Capture Scan) is the new PCG, in that it’s an optimized format for storing point cloud data. You can use it in Autodesk ReCap Studio or in AutoCAD 2014. Here’s the 600MB scan file attached as a point cloud in AutoCAD:</p>
<p><a href="http://through-the-interface.typepad.com/.a/6a00d83452464869e20192ab6aa6a4970d-pi" target="_blank"><img alt="The RCS file inside AutoCAD 2014" border="0" height="337" src="/assets/image_967980.jpg" style="background-image: none; margin: 20px auto; padding-left: 0px; padding-right: 0px; display: block; float: none; padding-top: 0px; border-width: 0px;" title="The RCS file inside AutoCAD 2014" width="444" /></a></p>
<p>Which looks great, but doesn’t get us closer to our goal of performing a wind tunnel simulation. I have the feeling that wind tunnels and point clouds don’t mix well. ;-)</p>
<p>Two of the other formats, .fbx and .obj, are mesh data formats (among other things: FBX also stores animation information, for instance), which should prove more useful for this particular situation.</p>
<p>Here’s the Standard quality mesh in the viewer provided with <a href="http://usa.autodesk.com/adsk/servlet/pc/item?id=10775855&amp;siteID=123112" target="_blank">the FBX Convertor tool</a> (this version of the mesh was 35MB – with about the same amount of texture data – rather than 110MB for the Maximum quality version [ditto for the textures]):</p>
<p><a href="http://through-the-interface.typepad.com/.a/6a00d83452464869e20192ab6aa71b970d-pi" target="_blank"><img alt="FBX Viewer showing the M3W FBX" border="0" height="335" src="/assets/image_938535.jpg" style="background-image: none; margin: 20px auto; padding-left: 0px; padding-right: 0px; display: block; float: none; padding-top: 0px; border-width: 0px;" title="FBX Viewer showing the M3W FBX" width="470" /></a></p>
<p>But the format I ended up finding most useful, for this particular workflow, was <a href="http://en.wikipedia.org/wiki/Wavefront_.obj_file" target="_blank">OBJ</a>.</p>
<p>I started by importing the 125MB .obj (which came with about 30MB of textures) into <a href="http://www.autodeskresearch.com/projects/meshmixer" target="_blank">meshmixer</a> (which can be downloaded from <a href="http://meshmixer.com" target="_blank">here</a>), with the idea of performing some basic cropping and healing operations on the mesh.</p>
<p><a href="http://through-the-interface.typepad.com/.a/6a00d83452464869e2019103a2340e970c-pi" target="_blank"><img alt="The cropped M3W in Autodesk meshmixer" border="0" height="330" src="/assets/image_979212.jpg" style="background-image: none; margin: 20px auto; padding-left: 0px; padding-right: 0px; display: block; float: none; padding-top: 0px; border-width: 0px;" title="The cropped M3W in Autodesk meshmixer" width="470" /></a></p>
<p>After making some simple modifications, I exported the model once again to .obj and brought it into the standalone version of Project Falcon. Even with the reduced file footprint of 75MB, the analysis took several minutes to complete.</p>
<p>For this post, I chose to use the standalone version of Project Falcon, as AutoCAD doesn’t have native .obj import (and FBXIMPORT ground to a halt with the unedited .fbx file created by ReCap Photo). In the next post we’ll take a look at options for using Project Falcon for AutoCAD, instead.</p>
<p>In any case, the standalone app is pretty neat, too, although you have to pay attention to the orientation of your model. :-)</p>
<p><a href="http://through-the-interface.typepad.com/.a/6a00d83452464869e201901dac2115970b-pi" target="_blank"><img alt="It&#39;s a wind tunnel, but not as we know it" border="0" height="374" src="/assets/image_472519.jpg" style="background-image: none; margin: 20px auto; padding-left: 0px; padding-right: 0px; display: block; float: none; padding-top: 0px; border-width: 0px;" title="It&#39;s a wind tunnel, but not as we know it" width="470" /></a></p>
<p>This attempt was better:</p>
<p><a href="http://through-the-interface.typepad.com/.a/6a00d83452464869e201901dac2142970b-pi" target="_blank"><img alt="M3W in the virtual wind tunnel" border="0" height="374" src="/assets/image_424333.jpg" style="background-image: none; margin: 20px auto; padding-left: 0px; padding-right: 0px; display: block; float: none; padding-top: 0px; border-width: 0px;" title="M3W in the virtual wind tunnel" width="470" /></a></p>
<p>And you can, of course, perform some more detailed pressure analysis and apply different flow visualizations:</p>
<p><a href="http://through-the-interface.typepad.com/.a/6a00d83452464869e20192ab6aa7e0970d-pi" target="_blank"><img alt="More analysis" border="0" height="374" src="/assets/image_830094.jpg" style="background-image: none; margin: 20px auto; padding-left: 0px; padding-right: 0px; display: block; float: none; padding-top: 0px; border-width: 0px;" title="More analysis" width="470" /></a></p>
<p>Now <a href="https://en.wikipedia.org/wiki/Computational_fluid_dynamics" target="_blank">CFD</a> isn’t my specialist field, by any stretch of the imagination, so I can’t say whether the results are either beneficial or of great interest. But it certainly looks cool!</p>
<p>Next time we’ll take a look at using ReCap Photo data in Project Falcon for AutoCAD.</p>
