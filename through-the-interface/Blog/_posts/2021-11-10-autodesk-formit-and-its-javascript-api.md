---
layout: "post"
title: "Autodesk FormIt and its JavaScript API"
date: "2021-11-10 10:00:00"
author: "Kean Walmsley"
categories:
  - "Autodesk"
  - "Autodesk Research"
  - "Dynamo"
  - "FormIt"
  - "VASA"
original_url: "https://www.keanw.com/2021/11/autodesk-formit-and-its-javascript-api.html "
typepad_basename: "autodesk-formit-and-its-javascript-api"
typepad_status: "Publish"
---

<p>A few weeks ago I started taking a closer look at <a href="https://formit.autodesk.com/" rel="noopener" target="_blank">Autodesk FormIt</a>, mainly with a view to understanding how it might integrate with <a href="https://www.keanw.com/2021/09/introducing-vasa-for-voxel-based-architectural-space-analysis.html" rel="noopener" target="_blank">VASA</a>. FormIt is a multi-platform (which I believe in this case means Windows, iOS and web) conceptual design and analysis tool. I haven’t really followed the development of FormIt, over the years, so if you’re interested in learning more about that then I suggested heading over to the <a href="https://formit.autodesk.com/blog/" rel="noopener" target="_blank">product team’s blog</a>. If you want to get started with using FormIt, then <a href="https://windows.help.formit.autodesk.com/formit-primer" rel="noopener" target="_blank">this Primer</a> seems helpful.</p>
<p>Two things in particular had me intrigued about FormIt: its <a href="https://formit.autodesk.com/page/formit-dynamo/" rel="noopener" target="_blank">integration with Dynamo</a> and its <a href="https://formit3d.github.io/FormItExamplePlugins/docs/FormItJSAPI/index.html" rel="noopener" target="_blank">JavaScript API</a>. These both seemed to be ways in which FormIt could talk to VASA: from chatting with Rhys Goldstein, it turned out he’d already tried using FormIt with VASA’s Dynamo package, and he shared a graph that I could use as the basis for that exploration (we’ll see that workflow in an upcoming post).</p>
<p>Today’s post is more about FormIt’s JavaScript API. FormIt doesn’t just have an extensive API, it also has some impressive tooling that lets you not only explore the API and its <a href="https://github.com/FormIt3D/FormItExamplePlugins" rel="noopener" target="_blank">sample projects</a>, but also publish your own plugins via a nifty GitHub integration. Oh, and the best thing of all? Your JavaScript plugins will work <em>across platforms</em>: I’ve built plugins in FormIt for Windows that work perfectly in FormIt in the browser, too.</p>
<p>FormIt’s JavaScript plugin API has two main areas (with equivalent namespaces): the <a href="https://formit3d.github.io/FormItExamplePlugins/docs/FormItJSAPI/group__mod__jsapi__formit.html" rel="noopener" target="_blank">core API for the FormIt application</a>, and the <a href="https://formit3d.github.io/FormItExamplePlugins/docs/FormItJSAPI/group__mod__jsapi__wsm.html" rel="noopener" target="_blank">WSM API for FormIt’s modelling kernel</a>. Both are reasonably easy to get to grips with, thanks to plugin samples you can explore from within FormIt itself:</p><p><a href="https://through-the-interface.typepad.com/.a/6a00d83452464869e202788056dbb6200d-pi" target="_blank"><img alt="FormIt&#39;s plugin manager" border="0" height="316" src="/assets/image_380545.jpg" style="margin: 30px auto; border: 0px currentcolor; border-image: none; float: none; display: block; background-image: none;" title="FormIt&#39;s plugin manager" width="500" /></a></p><p>You can load various sample plugins via the Plugin Manager, and also visit their GitHub repositories to check out their source.</p>
<p>Speaking of GitHub, you can connect your own GitHub account to FormIt, and any of your repositories that have been assigned the label ‘formit-plugin’ will be added to a list of plugins you can load directly into FormIt. Very neat.</p>
<p>There are a few ways to <a href="https://formit3d.github.io/FormItExamplePlugins/docs/HowToBuild.html" rel="noopener" target="_blank">build your own plugins for FormIt</a>…</p>
<p>For those just getting started, the <a href="https://formit3d.github.io/PluginPlayground/" rel="noopener" target="_blank">Plugin Playground</a> is itself a FormIt plugin, with <a href="https://github.com/FormIt3D/PluginPlayground" rel="noopener" target="_blank">source code provided</a>, that allows you to build your own plugins – by creating boilerplate HTML, CSS and JavaScript code that you can edit, right there in the FormIt environment – and then run them or save them back to your GitHub account. You can even use FormIt’s journalling mechanism to record code for operations you perform in the UI, which looks really handy. When you’re ready you can use the bullhorn icon to publish your plugin to the FormIt community. The FormIt team have clearly put a lot of thought (and work) into this mechanism. Nicely done!</p><p><a href="https://through-the-interface.typepad.com/.a/6a00d83452464869e20282e12f5889200b-pi" target="_blank"><img alt="Default code in the Plugin Playground" border="0" height="316" src="/assets/image_888705.jpg" style="margin: 30px auto; border: 0px currentcolor; border-image: none; float: none; display: block; background-image: none;" title="Default code in the Plugin Playground" width="500" /></a></p><p>For more advanced use-cases, it’s worth the effort of setting up your own local http server, and having that serve up your local plugin files for use in FormIt for Windows or FormIt for Web. I mostly found it easier to develop using FormIt for Windows, as it makes it really easy to “hard reload” the plugin from my web-server, whereas with FormIt for Web I found I sometimes needed to reload the page to pick up changes (I may have missed something that would have made this redundant, though).</p>
<p>But I’m not going to talk about my own efforts to develop FormIt plugins, today – that’s something I’ll talk a bit more about next week.</p>
<p>I’d been looking for an interesting plugin to highlight – and share the code for – when I stumbled across the perfect one. Some of our internal development teams participated recently in a “recharge sprint” where they could step away from their typically day-to-day development tasks and explore something new. When browsing the various projects that came out of this process, I found this <a href="https://github.com/garrisb82/Maze-Generator" rel="noopener" target="_blank">Maze Generator</a> by Brett Garrison, who recently joined the FormIt team in Boulder, Colorado. Brett decided to implement a <a href="https://en.wikipedia.org/wiki/Maze_generation_algorithm#Recursive_implementation" rel="noopener" target="_blank">depth-first search algorithm using backtracking</a> (it seems he used the iterative approach, maintaining a stack to avoid the (call-)stack overflow issues that you risk by doing it recursively).</p>
<p>Here’s how you load and run this neat little plugin:</p><p><a href="https://through-the-interface.typepad.com/.a/6a00d83452464869e20282e12f58a5200b-pi" target="_blank"><img alt="Loading the Maze Generator" height="315" src="/assets/image_714399.jpg" style="margin: 30px auto; float: none; display: block;" title="Loading the Maze Generator" width="500" /></a></p><p>Here’s a resultant, randomized maze as a static image:</p>
<p><a href="https://through-the-interface.typepad.com/.a/6a00d83452464869e202788056dbf8200d-pi" target="_blank"><img alt="A maze generated by Brett&#39;s plugin" border="0" height="316" src="/assets/image_953904.jpg" style="margin: 30px auto; border: 0px currentcolor; border-image: none; float: none; display: block; background-image: none;" title="A maze generated by Brett&#39;s plugin" width="500" /></a></p><p>This is actually a perfect initial project to introduce this series of posts: I chatted with Brett about the fact he’d mentioned a “future direction” as extending the plugin to solve mazes, not just generate them. This made me think of <a href="https://twitter.com/matthen2/status/1440443280827699206" rel="noopener" target="_blank">a tweet I saw recently</a> that used a simulation of gas dispersion inside a maze to solve it (backtracking the path of the “winning” particle to the entrance). I thought that might be a fun thing to integrate into FormIt.</p>
<p>But <em>then</em> I remembered a video by the Aussie BIM Guru himself – my fellow retro-enthusiast Gavin Crump – where <a href="https://youtu.be/qznCd__l6SU" rel="noopener" target="_blank">he used Dynamo and Space Analysis to solve a 2D maze</a>. Of course! The penny finally dropped: I could use VASA to solve this maze in 3D (even if it’s really just a 2D problem).</p>
<p>Over the coming posts we’re going to take a look at two different approaches for this: using Dynamo and VASA to solve a 3D maze – much as Gavin has done – and then using VASA directly from a JavaScript plugin (via its WebAsssembly package, something <a href="https://www.keanw.com/2021/10/streamlines-in-the-forge-viewer.html" rel="noopener" target="_blank">we saw recently</a>) to do the same thing in a slightly more automated workflow. This is going to be fun!</p>
