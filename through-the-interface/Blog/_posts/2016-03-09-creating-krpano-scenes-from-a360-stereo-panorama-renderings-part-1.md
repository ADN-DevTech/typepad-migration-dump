---
layout: "post"
title: "Creating krpano scenes from A360 stereo panorama renderings &ndash; Part 1"
date: "2016-03-09 16:44:25"
author: "Kean Walmsley"
categories:
  - "Virtual Reality"
original_url: "https://www.keanw.com/2016/03/creating-krpano-scenes-from-a360-stereo-panorama-renderings-part-1.html "
typepad_basename: "creating-krpano-scenes-from-a360-stereo-panorama-renderings-part-1"
typepad_status: "Publish"
---

<p>In these two <a href="http://through-the-interface.typepad.com/through_the_interface/2016/03/vr-for-design-visualization-part-1.html" target="_blank">recent</a> <a href="http://through-the-interface.typepad.com/through_the_interface/2016/03/vr-for-design-visualization-part-2.html" target="_blank">posts</a> we talked about my belief that untethered VR technologies, such as Google Cardboard and Samsung Gear VR, can be used to deliver really compelling design visualization experiences.</p>
<p>This series will focus specifically on how to create a multi-scene VR experience using A360 cloud rendering and a panorama viewer called <a href="http://krpano.com/" target="_blank">krpano</a>.</p>
<p>Let’s start by introducing krpano. This is a fairly powerful tool for creating, publishing and viewing panoramic experiences, whether 2D or 3D. The main focus appears to be 2D – the ability to work with VR scenes is (at the time of writing) only available in a<a href="http://krpano.com/download/?version=119pr3" target="_blank"> pre-release version</a> – but it’s nonetheless a very capable viewer for stereoscopic 3D scenes that works very well with Google Cardboard.</p>
<p>The viewer is based on either Flash or HTML5: you can choose which version to use. There are certain interesting features – such as directional sound – that only appear to be supported by the Flash version, but for maximum compatibility (especially on mobile) I’ve decided to stick with HTML5.</p>
<p>Scenes are defined in XML files: the file can be created in a text editor or using a front-end, graphical editing tool such as <a href="http://store.kolor.com/virtual-tour/software/virtual-tour-software/panotour-pro.html" target="_blank">Kolor Panotour Pro</a>. In this series of posts we’re going to generate the XML scene from code – along with the various supporting files it needs to display a 3D stereo panorama – so I went and bought a krpano license for €129, rather than the full Panotour Pro license for €399 (which does include a license for krpano, at least).</p>
<p>The concept for our application is fairly simple: we want to create an tool that lets us specify a number of stereo renderings from A360, out of which it’ll create an aggregate experience. Part of this is creating a panorama for each of the renderings – which we’ll look at in detail in the next post – but it’s also about creating a top-level experience where each of the panoramas has a thumbnail displayed: the VR user can then look at the thumbnail related to a scene to open it.</p>
<p><a href="http://keanw.com/a360vr" target="_blank">If you want to give the finished experience a try, click here.</a> If you’re on a desktop you’ll have to use a simulated VR mode – the best is to open the link on your mobile device, though.</p>
<p>Here are some screenshots I took on my own phone. We’ll start with the top-level view. This scene uses a sample panorama that ships with krpano, but the imagery is just perfect for cloud rendering!</p>
<p><a href="http://through-the-interface.typepad.com/.a/6a00d83452464869e201bb08c5e9f9970d-pi" target="_blank"><img alt="The top level view" border="0" height="286" src="/assets/image_149448.jpg" style="background-image: none; float: none; padding-top: 0px; padding-left: 0px; margin: 30px auto; display: block; padding-right: 0px; border: 0px;" title="The top level view" width="504" /></a></p>
<p>When you use gaze tracking to select the “Look here to start” button, it drops away showing the thumbnails for the various stereo panoramas we&#39;ve brought down from A360:</p>
<p><a href="http://through-the-interface.typepad.com/.a/6a00d83452464869e201b7c8215979970b-pi" target="_blank"><img alt="The thumbnails" border="0" height="286" src="/assets/image_236005.jpg" style="background-image: none; float: none; padding-top: 0px; padding-left: 0px; margin: 30px auto; display: block; padding-right: 0px; border: 0px;" title="The thumbnails" width="504" /></a></p>
<p>The gaze tracker highlights a thumbnail and lets us enter the scene.</p>
<p><a href="http://through-the-interface.typepad.com/.a/6a00d83452464869e201b7c8215984970b-pi" target="_blank"><img alt="Selecting one of them" border="0" height="286" src="/assets/image_650525.jpg" style="background-image: none; float: none; padding-top: 0px; padding-left: 0px; margin: 30px auto; display: block; padding-right: 0px; border: 0px;" title="Selecting one of them" width="504" /></a></p>
<p>Inside the scene we can clearly look around in 3D, albeit from a single viewpoint.</p>
<p><a href="http://through-the-interface.typepad.com/.a/6a00d83452464869e201b7c821598c970b-pi" target="_blank"><img alt="Inside the first panorama" border="0" height="286" src="/assets/image_490738.jpg" style="background-image: none; float: none; padding-top: 0px; padding-left: 0px; margin: 30px auto; display: block; padding-right: 0px; border: 0px;" title="Inside the first panorama" width="504" /></a></p>
<p>When we’re done, we can look down until we see a faded “Home” button float into view. Selecting this takes us home to the top-level view, predictably enough.</p>
<p><a href="http://through-the-interface.typepad.com/.a/6a00d83452464869e201b8d1abae27970c-pi" target="_blank"><img alt="Looking down shows a faded Home icon" border="0" height="286" src="/assets/image_439471.jpg" style="background-image: none; float: none; padding-top: 0px; padding-left: 0px; margin: 30px auto; display: block; padding-right: 0px; border: 0px;" title="Looking down shows a faded Home icon" width="504" /></a></p>
<p>Where we can, of course, enter another scene.</p>
<p><a href="http://through-the-interface.typepad.com/.a/6a00d83452464869e201b7c821599b970b-pi" target="_blank"><img alt="Once back home we can select another" border="0" height="286" src="/assets/image_991086.jpg" style="background-image: none; float: none; padding-top: 0px; padding-left: 0px; margin: 30px auto; display: block; padding-right: 0px; border: 0px;" title="Once back home we can select another" width="504" /></a></p>
<p>This one is more visually interesting.</p>
<p><a href="http://through-the-interface.typepad.com/.a/6a00d83452464869e201b7c82159a0970b-pi" target="_blank"><img alt="We can look around again" border="0" height="286" src="/assets/image_732899.jpg" style="background-image: none; float: none; padding-top: 0px; padding-left: 0px; margin: 30px auto; display: block; padding-right: 0px; border: 0px;" title="We can look around again" width="504" /></a></p>
<p>And the same mechanism exists to go back to the top-level view.</p>
<p><a href="http://through-the-interface.typepad.com/.a/6a00d83452464869e201bb08c5ea19970d-pi" target="_blank"><img alt="When we&#39;re done we can go home again" border="0" height="286" src="/assets/image_25990.jpg" style="background-image: none; float: none; padding-top: 0px; padding-left: 0px; margin: 30px auto; display: block; padding-right: 0px; border: 0px;" title="When we&#39;re done we can go home again" width="504" /></a></p>
<p>The tool that generates the set of files I’ve copied to my web-site (<a href="http://keanw.com/a360vr" target="_blank">here&#39;s that link again</a>)&#0160;is a simple .NET WinForms application written in C#. We could also have created a web site to do it – perhaps hosting the results directly – but initially it was simplest for me to throw together using C#. And as this is really just an admin tool I didn’t worry especially about aesthetics and usability.</p>
<p>The tool takes a title, a number of URLs and names, and then generates the resultant files in an “output” folder, ready to be copied to our web-site. Here it is in action, downloading a number of stereo scenes that were published to the <a href="https://gallery.autodesk.com/a360rendering/projects" target="_blank">A360 Rendering Gallery</a>:</p>
<p><a href="http://through-the-interface.typepad.com/.a/6a00d83452464869e201b7c82159a4970b-pi" target="_blank"><img alt="RaaS to krpano tool" height="412" src="/assets/image_277685.jpg" style="float: none; margin: 30px auto; display: block;" title="RaaS to krpano tool" width="500" /></a></p>
<p>While these stereo panoramas are all posted publicly, we&#39;ll see that the tool also works with panoramas that have been made&#0160;accessible via the &quot;Preview on my phone&quot; option.</p>
<p>Now that we’ve introduced the concept behind the application, we’re ready to dive into the implementation details. We’ll start that in the next post.</p>
