---
layout: "post"
title: "Sharing a hologram between multiple HoloLens devices &ndash; Part 2"
date: "2016-10-17 20:00:33"
author: "Kean Walmsley"
categories:
  - "Autodesk"
  - "HoloLens"
  - "Unity3D"
original_url: "https://www.keanw.com/2016/10/sharing-a-hologram-between-multiple-hololens-devices-part-2.html "
typepad_basename: "sharing-a-hologram-between-multiple-hololens-devices-part-2"
typepad_status: "Publish"
---

<p>It was an interesting week, last week, getting two HoloLens devices to coordinate. After talking about the network infrastructure, <a href="http://through-the-interface.typepad.com/through_the_interface/2016/10/sharing-a-hologram-between-multiple-hololens-devices-part-1.html" target="_blank">last time</a>, today we’re going to look at other levels of the problem.</p> <p>Logistically there’s a requirement to have two devices: it might be possible to get it all working with a mix of devices and emulators, but that seems like a stretch. And you’d need – in any case – to test with physical devices at some point. The good news is that HoloLens distribution is gradually opening up – with devices now <a href="https://blogs.windows.com/devices/?p=258014" target="_blank">available to pre-order in Australia, Ireland, France, Germany, New Zealand, and the United Kingdom</a> – so getting hold of multiple devices is becoming simpler (if still $3K a pop). </p> <p>From a physical (human) perspective, it’s been a hard thing to do when you have only one head: this is not the first – and probably won’t be the last – time I’ve been envious of <a href="https://en.wikipedia.org/wiki/Zaphod_Beeblebrox" target="_blank">Zaphod Beeblebrox</a>. It’s possible to have multiple “Mixed Reality Capture” dashboards showing in a browser – with the Live Preview showing each of the HoloLens streams – but there’s variable latency that makes it hard to tell whether the views are really synchronised.</p> <p>More often than not I found myself squinting through two devices at the same time.</p> <p><a href="http://through-the-interface.typepad.com/.a/6a00d83452464869e201bb094584b0970d-pi" target="_blank"><img title="Juggling two HoloLens devices" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; float: none; padding-top: 0px; padding-left: 0px; margin: 30px auto; display: block; padding-right: 0px; border-top-width: 0px" border="0" alt="Juggling two HoloLens devices" src="/assets/image_960175.jpg" width="412" height="281"></a></p> <p>Towards the end of the week I actually started to think I was seeing <a href="https://youtu.be/z_KmNZNT5xw" target="_blank">glitches in the matrix</a>. Perhaps <a href="http://boingboing.net/2016/10/10/is-this-base-reality-prob.html" target="_blank">this indeed isn’t base reality</a>, after all.</p> <p>I also had a headache for the entire week. initially it was probably due to the remnants of <a href="http://through-the-interface.typepad.com/through_the_interface/2016/09/jigging-an-autocad-leader-with-directional-text-using-net.html" target="_blank">the cold</a> that hadn’t properly gone away when <a href="http://through-the-interface.typepad.com/through_the_interface/2016/10/a-few-days-in-the-south-of-france.html" target="_blank">I went scuba-diving the week before</a> – and which definitely then came back – but it certainly wasn’t helped by fooling around with multiple HoloLens devices. Thankfully I had a break from the HoloFloor over the weekend, so I’m feeling much better now.</p> <p>From a software perspective… the HoloToolkit provides a lot of plumbing that helps. It’s not super-easy to implement it in your own app, but it is possible… I’m getting my (still slightly sore) head around it, now, but it took a while to understand what was happening. Here are some notes I’ve taken on how it appears to work:</p> <ul> <li>Each device maintains its own set of holograms  <ul> <li>This may seem an obvious point, but it’s worth spelling out  <li>Information on where holograms are and how they’re behaving can be shared, though</li></ul> <li>There is <a href="https://developer.microsoft.com/en-us/windows/holographic/coordinate_systems" target="_blank">no sense of a global coordinate system</a>: individual devices are mapping things out individually  <ul> <li>This is important: you’ll find you’re relating relatively (and to some degree, flexibly) to multiple coordinate spaces</li></ul> <li>You can create <a href="https://developer.microsoft.com/en-us/windows/holographic/world_anchor_in_unity" target="_blank">WorldAnchors</a> to fix positions in space to share between devices  <ul> <li>Be aware that the WorldAnchor goes and locks your object in space – which can make it difficult to manipulate collaboratively  <li>You can use the HoloToolkit’s “Import Export Anchor Manager” script to look at coordinating the position of holograms between sharing sessions  <ul> <li>It persists anchors in an anchor store, so subsequent sessions can also access this positional data </li></ul> <li>The anchor position can be decided manually or automatically  <ul> <li>I’m still working through which way it makes sense to go, here</li></ul></li></ul> <li>When operations or events happen that need to be shared between devices you can send custom messages  <ul> <li>For the robot app, I have a “robot positioning”, “robot scaling” and “part rotation” messages  <ul> <li>This seems to be enough to coordinate the various possible actions/movements, so far</li></ul></li></ul> <li>You also need to be aware of when other people/devices join your session  <ul> <li>When they do join you’ll need to send them information about your scene</li></ul></li></ul> <p>I feel as though I’m getting close… I have a number of operations shared between devices, but the positioning isn’t yet quite right. I’m confident I’ll have nailed it within another day or so, though.</p>
