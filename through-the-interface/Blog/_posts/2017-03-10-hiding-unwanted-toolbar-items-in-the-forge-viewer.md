---
layout: "post"
title: "Hiding unwanted toolbar items in the Forge viewer"
date: "2017-03-10 18:24:16"
author: "Kean Walmsley"
categories:
  - "APS (Forge)"
  - "Autodesk Research"
  - "HTML"
  - "JavaScript"
original_url: "https://www.keanw.com/2017/03/hiding-unwanted-toolbar-items-in-the-forge-viewer.html "
typepad_basename: "hiding-unwanted-toolbar-items-in-the-forge-viewer"
typepad_status: "Publish"
---

<p>Here’s a quick one to wrap up the week. Some time ago we decided that <a href="http://dasher360.com" target="_blank">Dasher 360</a> didn’t need to provide the option for users to do an unconstrained orbit: the default mode of turntable orbit would be perfectly adequate, especially as we deal mainly with building models.</p> <p>So it was that I created a simple extension to hide that particular toolbar button. It worked well enough, but after a while I saw the icon creep back into the UI. It turns out that the application resize event – which is called for lots of different reasons – was re-enabling the UI. Attaching our own event handler made it possible for us to re-hide the icon once re-enabled.</p> <p>Here’s the TypeScript implementation:</p> <div style="font-size: 8pt; font-family: courier new; background: white; color: black; line-height: 140%"> <p style="margin: 0px"><span style="color: green">/// &lt;reference path='../../../../../typings/lmv-client/lmv-client.d.ts' /&gt;</span></p> <p style="margin: 0px">&nbsp;</p> <p style="margin: 0px"><span style="color: blue">export</span> <span style="color: blue">default</span> <span style="color: blue">class</span> HideOrbitExtension <span style="color: blue">extends</span> Autodesk.Viewing.Extension {</p> <p style="margin: 0px">&nbsp;</p> <p style="margin: 0px">&nbsp; <span style="color: blue">private</span> _toolbarName = <span style="color: #a31515">'toolbar-orbitTools'</span>;</p> <p style="margin: 0px">&nbsp;</p> <p style="margin: 0px">&nbsp; constructor(viewer: Autodesk.Viewing.Private.GuiViewer3D, options: any) {</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp; <span style="color: blue">super</span>(viewer, options);</p> <p style="margin: 0px">&nbsp;</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp; <span style="color: blue">this</span>._toolbarName = options.toolbar || <span style="color: blue">this</span>._toolbarName;</p> <p style="margin: 0px">&nbsp; }</p> <p style="margin: 0px">&nbsp;</p> <p style="margin: 0px">&nbsp; load(): boolean {</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp; <span style="color: blue">this</span>.hide();</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp; <span style="color: blue">this</span>.viewer.addEventListener(Autodesk.Viewing.VIEWER_RESIZE_EVENT, <span style="color: blue">this</span>.hide);</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp; <span style="color: blue">return</span> <span style="color: blue">true</span>;</p> <p style="margin: 0px">&nbsp; }</p> <p style="margin: 0px">&nbsp;</p> <p style="margin: 0px">&nbsp; unload(): boolean {</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp; <span style="color: blue">this</span>.show();</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp; <span style="color: blue">this</span>.viewer.removeEventListener(Autodesk.Viewing.VIEWER_RESIZE_EVENT, <span style="color: blue">this</span>.hide);</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp; <span style="color: blue">return</span> <span style="color: blue">true</span>;</p> <p style="margin: 0px">&nbsp; }</p> <p style="margin: 0px">&nbsp;</p> <p style="margin: 0px">&nbsp; hide = () =&gt; {</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp; setTimeout(() =&gt; $(<span style="color: #a31515">'#'</span> + <span style="color: blue">this</span>._toolbarName).hide(), 0);</p> <p style="margin: 0px">&nbsp; }</p> <p style="margin: 0px">&nbsp;</p> <p style="margin: 0px">&nbsp; show = () =&gt; {</p> <p style="margin: 0px">&nbsp;&nbsp;&nbsp; $(<span style="color: #a31515">'#'</span> + <span style="color: blue">this</span>._toolbarName).show();</p> <p style="margin: 0px">&nbsp; }</p> <p style="margin: 0px">}</p> <p style="margin: 0px">&nbsp;</p></div> <p>Here’s a view of Dasher 360 with and without the extension loaded:</p> <p align="center"><a href="http://through-the-interface.typepad.com/.a/6a00d83452464869e201bb098221c4970d-pi"><img title="Dasher 360 with a hidden toolbar icon" style="margin: 30px 0px; display: inline" alt="Dasher 360 with a hidden toolbar icon" src="/assets/image_212297.jpg" width="500" height="378"></a></p> <p>A better scenario would – of course – be for the Forge viewer UI to be more configurable. That said, there will often be times when this kind of code (icky as it may seem) is needed, for one reason or another. Do with it what you will.</p> <p>Next week I’m going to talk some more about the immense fun I’ve been having implementing a “kiosk mode” for Dasher 360, whereby it starts doing things on its own if left inactive for a while.</p>
