---
layout: "post"
title: "9 years"
date: "2015-06-19 08:10:00"
author: "Kean Walmsley"
categories:
  - "AutoCAD"
  - "AutoCAD .NET"
  - "Virtual Reality"
  - "Weblogs"
original_url: "https://www.keanw.com/2015/06/9-years.html "
typepad_basename: "9-years"
typepad_status: "Publish"
---

<p><a href="http://through-the-interface.typepad.com/through_the_interface/2006/06/welcome.html" target="_blank">It’s</a> <a href="http://through-the-interface.typepad.com/through_the_interface/2007/06/one_year_wiser.html" target="_blank">insane</a> <a href="http://through-the-interface.typepad.com/through_the_interface/2008/06/two-years-and-c.html" target="_blank">how</a> <a href="http://through-the-interface.typepad.com/through_the_interface/2009/06/happy-birthday-to-me-happy-birthday-to-me.html" target="_blank">the</a> <a href="http://through-the-interface.typepad.com/through_the_interface/2011/06/5-years-of-through-the-interface.html" target="_blank">years</a> <a href="http://through-the-interface.typepad.com/through_the_interface/2013/06/7-years-and-a-day.html" target="_blank">tick</a>&#0160;<a href="http://through-the-interface.typepad.com/through_the_interface/2014/06/8-years.html" target="_blank">past</a>. Today marks the 9th anniversary of Through the Interface. For a bit of fun, I’ve added an Easter Egg (well, actually it’s more like a Birthday Cake) to <a href="http://vrok.it" target="_blank">Vrok.it</a>:</p>
<p><a href="http://through-the-interface.typepad.com/.a/6a00d83452464869e201bb08439f2e970d-pi" target="_blank"><img alt="Vrok-it model for TtIf&#39;s birthday" border="0" height="276" src="/assets/image_571329.jpg" style="background-image: none; float: none; padding-top: 0px; padding-left: 0px; margin: 20px auto; display: block; padding-right: 0px; border-width: 0px;" title="Vrok-it model for TtIf&#39;s birthday" width="400" /></a></p>
<p>Choose the “Cake” button on the left to view a Birthday Cake modelled completely using AutoCAD. If you connect to the session using the QR code, you can see the birthday cake in stereoscopic 3D on your smartphone using Google Cardboard. Or without it, if you’re good at squinting.</p>
<p>In case you’re interested, the mechanics of creating the 3D text in AutoCAD were quite fun: I started with ARCTEXT – drawing the text along arc concentric to the cake’s circumference – and exploded them to get individual letters as text objects. These were then exploded using TXTEXP, resulting in a bunch of old-style polylines that needed to be EXPLODEd and have segments erased before being JOINed (multiple times, to get a minimal set of closed, lightweight polylines) and then EXTRUDEd into 3D solids.</p>
<p>I ended up UNIONing the various letters into a single 3D solid – even if they’re disjoint – just because that stopped our web-based viewer from culling them as easily (otherwise they were dropping off the display list, for some reason). The flames of the candles still have this behaviour, but I actually like it: it’s as if they’re flickering (especially when one is visible for your left eye but not for your right, or vice-versa). Kinda cool, but it’ll probably be fixed by the time you try it.</p>
<p>The candles were easy: a CYLINDER for the wax and a REVSURF for the flame which are then ARRAYed in a polar configuration and EXPLODEd to give us better model structure.</p>
<p>Speaking of model structure, that was the really fun challenge… I found I needed to replace the drawing’s block hierarchy with Xrefs. The 3DDWFPUBLISH command has an option to “Group by Xref Hierarchy”, but this doesn’t apply to blocks. So I wrote some C# code to process the blocks inserted into modelspace, extracting them as separate drawings before reattaching them as Xrefs and pointing to these from the original BlockReferences. A slightly scary piece of code, but I’ll go ahead and post it in an upcoming post: someone’s likely to find it useful for a similar scenario.</p>
<p>It certainly generated some nice results when I uploaded the resultant DWF into Vrok-it:</p>
<p><a href="http://through-the-interface.typepad.com/.a/6a00d83452464869e201b8d128ed82970c-pi" target="_blank"><img alt="The model structure of our birthday cake" border="0" height="276" src="/assets/image_817383.jpg" style="background-image: none; float: none; padding-top: 0px; padding-left: 0px; margin: 20px auto; display: block; padding-right: 0px; border-width: 0px;" title="The model structure of our birthday cake" width="400" /></a></p>
<p>Anyway, that’s it for this anniversary post. Thanks, as ever, for your continued readership and the interactions that make it all worthwhile.</p>
<p>And with that, onwards to the big one! A full decade has to be worth baking a physical cake for. ;-)</p>
