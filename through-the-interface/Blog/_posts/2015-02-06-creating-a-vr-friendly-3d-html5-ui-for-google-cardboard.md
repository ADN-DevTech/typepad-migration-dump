---
layout: "post"
title: "Creating a VR-friendly 3D HTML5 UI for Google Cardboard"
date: "2015-02-06 11:32:54"
author: "Kean Walmsley"
categories:
  - "Android"
  - "Autodesk"
  - "PaaS"
  - "Virtual Reality"
original_url: "https://www.keanw.com/2015/02/creating-a-vr-friendly-3d-html5-ui-for-google-cardboard.html "
typepad_basename: "creating-a-vr-friendly-3d-html5-ui-for-google-cardboard"
typepad_status: "Publish"
---

<p>After building native Android apps for both <a href="http://through-the-interface.typepad.com/through_the_interface/2015/01/building-a-gear-vr-app-using-the-oculus-mobile-sdk.html" target="_blank">Gear VR</a> and <a href="http://through-the-interface.typepad.com/through_the_interface/2015/01/integrating-web-based-vr-samples-into-a-native-google-cardboard-app-using-the-cardboard-sdk-for-android.html" target="_blank">Google Cardboard</a> that embed our web-based VR samples using Autodesk’s View &amp; Data API, I really wanted to revisit the UI issue.</p>  <p>After seeing the 3D UI capabilities of Gear VR – courtesy of the Oculus Mobile SDK – my own UI that I <a href="http://safe-reef-1847.herokuapp.com/stereo-gear.html" target="_blank">implemented in HTML</a> felt, well, flat. The main problem seemed to be that it moved with your head, staying stuck to your view. It also suffered from the issue of visual degradation when the selection was away from the middle of the list.</p>  <br /><a href="http://through-the-interface.typepad.com/.a/6a00d83452464869e201bb07eb5a55970d-pi" target="_blank"><img title="The menu" style="float: none; margin-left: auto; display: block; margin-right: auto" alt="The menu" src="/assets/image_242211.jpg" width="280" height="168" /></a>   <br />  <br />  <p>All in all a fairly unsatisfying experience. But how to make it more 3D and visually appealing? Ideally I wanted the UI to stay in HTML5 – if I used native Oculus Mobile SDK capabilities to display a UI, that wouldn’t be easily portable to other platforms. Also keeping the UI in HTML5 meant I wouldn’t have to duplicate the menu information in the native app: when I add models to the HTML page they’ll just appear in the UI, too.</p>  <p>So I started with <a href="http://www.freshdesignweb.com/html5-css3-3d-examples-demo.html" target="_blank">this set of 3D HTML5 samples</a>, a few of which were of some interest. Getting <a href="http://ie.microsoft.com/testdrive/graphics/hands-on-css3/hands-on_3d-transforms.htm" target="_blank">a 3D perspective view on text</a> seemed part of the problem, while having <a href="http://hakim.se/experiments/css/holobox/" target="_blank">the view adjust according to the device tilting</a> seemed another. In the end I chose to take <a href="http://desandro.github.com/3dtransforms/examples/carousel-02-dynamic.html" target="_blank">this 3D carousel sample</a> as a basic for my UI implementation, with the primary additional feature being the addition of device tilt navigation.</p>  <p>This carousel has two orientation options… I was only really interested in the vertical mode, as our entries will consist of text (and would therefore be too long to display horizontally).</p>  <p><a href="http://through-the-interface.typepad.com/.a/6a00d83452464869e201b7c747be67970b-pi" target="_blank"><img title="The vertical carousel" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; float: none; padding-top: 0px; padding-left: 0px; margin: 20px auto; display: block; padding-right: 0px; border-top-width: 0px" border="0" alt="The vertical carousel" src="/assets/image_680762.jpg" width="307" height="260" /></a></p>  <p>My first step was to hardcode the entries I wanted, to see how it looked:</p>  <p><a href="http://through-the-interface.typepad.com/.a/6a00d83452464869e201b8d0d11ae0970c-pi" target="_blank"><img title="With our actual model items" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; float: none; padding-top: 0px; padding-left: 0px; margin: 20px auto; display: block; padding-right: 0px; border-top-width: 0px" border="0" alt="With our actual model items" src="/assets/image_161487.jpg" width="307" height="260" /></a></p>  <p>With a few more hours of work, I ended up replicating the carousel on both sides of the screen in a way that works well in VR. I even added a little perspective difference between the two eyes to enhance the 3D effect.</p>  <br /><a href="http://through-the-interface.typepad.com/.a/6a00d83452464869e201bb07eb5a57970d-pi" target="_blank"><img title="Carousel" style="float: none; margin-left: auto; display: block; margin-right: auto" alt="Carousel" src="/assets/image_893009.jpg" width="280" height="231" /></a>   <br />  <br />  <p>In <a href="http://safe-reef-1847.herokuapp.com/stereo-gear2.html" target="_blank">this version</a> you can see we click on the left and right of the screen to move the selection up and down, respectively. Adding device tilt support – for when the page is loaded on a mobile device – was actually fairly easy, at this point: if you look up or down a little then the selection changes by own item (in the direction you look in) and if you look up or down further it jumps by two items at a time, allowing you to scroll through more quickly.</p>  <p>Looking forward stops the selection from changing, at which point you can use the magnetic trigger button to open the selected model.</p>  <p>What I found interesting was that despite the carousel not being fixed in 3D space – with us looking around to find it, as is the case with Gear VR – I didn’t get the same feeling of nausea as I’d had with the 2D version. It seems that the fact the carousel adjusts to head movement – and the display is more 3D – is enough to stop the feeling of sickness.</p>  <p>Having the selection be driven by head movement also allowed me to remove the single- vs. double-click code from the Android app container: a single-click now opens a model. Another click closes it.</p>  <p>If you have an Android device and a Google Cardboard-compatible <a href="http://en.wikipedia.org/wiki/Head-mounted_display" target="_blank">HMD</a>, here’s <a href="http://through-the-interface.typepad.com/files/A360Cardboard.apk" target="_blank">the application installer for you to try</a> (you can also have it <a href="http://through-the-interface.typepad.com/through_the_interface/2015/01/using-nfc-to-launch-your-google-cardboard-app.html" target="_blank">auto-launch via NFC</a>, once you’ve installed it). If you do – literally! – take it for a spin, be sure to let me know what you think via this post’s comments. Especially if you have suggestions for how to improve the experience, which would be very welcome.</p>
