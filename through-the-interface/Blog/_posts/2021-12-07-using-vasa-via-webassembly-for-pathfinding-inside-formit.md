---
layout: "post"
title: "Using VASA via WebAssembly for pathfinding inside FormIt"
date: "2021-12-07 13:39:41"
author: "Kean Walmsley"
categories:
  - "Autodesk"
  - "Autodesk Research"
  - "FormIt"
  - "VASA"
  - "Web/Tech"
original_url: "https://www.keanw.com/2021/12/using-vasa-via-webassembly-for-pathfinding-inside-formit.html "
typepad_basename: "using-vasa-via-webassembly-for-pathfinding-inside-formit"
typepad_status: "Publish"
---

<p>As a quick recap, here are the posts we’ve seen in recent weeks on this topic:</p><ol><li><a href="https://www.keanw.com/2021/11/autodesk-formit-and-its-javascript-api.html" target="_blank">Autodesk FormIt and its JavaScript API</a></li><ul><li>Introductory look at FormIt and the Maze Generator plugin.</li></ul><li><a href="https://www.keanw.com/2021/11/using-vasa-with-formit-via-dynamo-part-1.html" target="_blank">Using VASA with FormIt via Dynamo – Part 1</a></li><ul><li>How VASA can be used within Dynamo for FormIt to solve mazes (etc.) in 3D.</li></ul><li><a href="https://www.keanw.com/2021/11/using-vasa-with-formit-via-dynamo-part-2.html" target="_blank">Using VASA with FormIt via Dynamo – Part 2</a></li><ul><li>Applying the same principle with urban scenes imported by the 3D Context Creator plugin.</li></ul></ol><p>In today’s post we look at the fact that <a href="https://www.keanw.com/2021/09/introducing-vasa-for-voxel-based-architectural-space-analysis.html" target="_blank">VASA</a> can also be used directly from a FormIt JavaScript plugin – via the WebAssembly package <a href="https://www.keanw.com/2021/10/streamlines-in-the-forge-viewer.html" target="_blank">we’ve already seen working inside the Forge viewer</a> – to have an even more streamlined experience. The WASM package for VASA hasn’t yet been made available publicly, so I won’t be sharing the plugin code at this stage, but conceptually the work it does is the same as the Dynamo graph we saw in link 2 above.</p><p>It was surprisingly straightforward (for me, anyway) to get a FormIt plugin to load a WASM package. I used this package to extend the capabilities of the plugin written by Brett Garrison to solve the mazes his code generates. What’s fantastic about this approach is that the workflow can be used in FormIt for Web – as well as for Windows – while the Dynamo-based approach is very much Windows-only.</p><p>You can see the new button in the UI of the modified plugin. Having the two in the same plugin means the solving code can also pick up the variables used to generate the maze.</p><p><a href="https://through-the-interface.typepad.com/.a/6a00d83452464869e20282e1366411200b-pi" target="_blank"><img width="500" height="358" title="The modified Maze Generator plugin, with solving by VASA" style="margin: 30px auto; border: 0px currentcolor; border-image: none; float: none; display: block; background-image: none;" alt="The modified Maze Generator plugin, with solving by VASA" src="/assets/image_302368.jpg" border="0"></a></p><p>Let’s start by generating a maze which we can then solve:</p><p><a href="https://through-the-interface.typepad.com/.a/6a00d83452464869e20282e1366419200b-pi" target="_blank"><img width="500" height="358" title="A generated maze" style="margin: 30px auto; border: 0px currentcolor; border-image: none; float: none; display: block; background-image: none;" alt="A generated maze" src="/assets/image_653795.jpg" border="0"></a></p><p>Clicking “Solve Maze” fires up VASA, which takes the triangles in the scene and voxelises them. (As we’re working in 3D, rather than 2D, we do need to add a base plate temporarily beneath the maze, but as we know the dimensions of the maze from the original plugin UI this is straightforward.)</p><p>The solution takes a matter of a few seconds – it’s surprisingly quick.</p><p><a href="https://through-the-interface.typepad.com/.a/6a00d83452464869e20278805de4c5200d-pi" target="_blank"><img width="500" height="358" title="A maze solved by VASA" style="margin: 30px auto; border: 0px currentcolor; border-image: none; float: none; display: block; background-image: none;" alt="A maze solved by VASA" src="/assets/image_211476.jpg" border="0"></a></p><p>This has been solved in 3D – and so could easily extend to a multi-level maze, if such things exist – and here’s a more 3D view of the same solved maze:</p><p><a href="https://through-the-interface.typepad.com/.a/6a00d83452464869e20278805de4c9200d-pi" target="_blank"><img width="500" height="358" title="The solved maze in 3D" style="margin: 30px auto; border: 0px currentcolor; border-image: none; float: none; display: block; background-image: none;" alt="The solved maze in 3D" src="/assets/image_922483.jpg" border="0"></a></p><p>For fun I went a created then solved a whole bunch of mazes inside FormIt. This animation shows 10 mazes that were generated randomly in exactly this order:</p><p><a href="https://through-the-interface.typepad.com/.a/6a00d83452464869e2026bdf060c86200c-pi" target="_blank"><img width="500" height="500" title="Mazes generated in FormIt and solved there by VASA" style="margin: 30px auto; float: none; display: block;" alt="Mazes generated in FormIt and solved there by VASA" src="/assets/image_962851.jpg"></a></p><p>Clearly solving mazes isn’t a particularly lofty goal, but it does illustrate some of the capabilities of this interesting package.</p><p>I do hope to be able to share the WebAssembly package for VASA, in due course, but in the meantime you should definitely play around with the Dynamo package to understand its potential.</p><p>We’re continuing to brainstorm use-cases for VASA, and have started to explore various scenarios. For instance, we’ve recently established that VASA does a pretty decent job of importing and then working with point clouds, which raises some really interesting possibilities.</p><p><strong><em>Many thanks to Brett Garrison, Josh Goldstein, Markus Bonn, Seth Allen, Jeff Hauswirth and (of course) Rhys Goldstein, who all contributed in some way to this implementation, whether by writing the original Maze Generator plugin or by giving me helpful pointers on integrating VASA with FormIt.</em></strong></p>
