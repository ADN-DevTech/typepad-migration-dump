---
layout: "post"
title: "Extracting help IDs for AutoCAD&rsquo;s UI Finder"
date: "2015-04-22 19:07:35"
author: "Kean Walmsley"
categories:
  - "AutoCAD"
  - "HTML"
  - "JavaScript"
  - "User interface"
original_url: "https://www.keanw.com/2015/04/extracting-help-ids-for-autocads-ui-finder.html "
typepad_basename: "extracting-help-ids-for-autocads-ui-finder"
typepad_status: "Publish"
---

<p>In the last post we looked at <a href="http://through-the-interface.typepad.com/through_the_interface/2015/04/invoking-autocads-ui-finder-from-javascript.html" target="_blank">some simple JavaScript code to automate AutoCAD’s UI Finder</a>, locating a sequence of commands in the ribbon. In this post we’re going to look at how to generate a more extensive list directly from AutoCAD’s documentation.</p>  <p>The first step I took was to download and install the <a href="http://www.autodesk.com/acd-2016-helpdownload-enu" target="_blank">offline help for AutoCAD 2016</a>. This gives us a set of HTML and JavaScript files in a local folder (<em>c:\Program Files\Autodesk\AutoCAD 2016 Help/English/Help</em> on my system). To parse the files I ended up using some old-school UNIX commands via my OS X environment (which shares the above folder via Parallels). I’m sure you can get these tools for Windows, too, but it seemed simplest (for me) to do it this way.</p>  <p>Here’s what I ended up writing to get the help IDs from the HTML source. I used <a href="http://unixhelp.ed.ac.uk/CGI/man-cgi?grep" target="_blank">grep</a> to identify the lines of interest – although as these files are ultimately a single line all this really does is identify and concatenate the files containing the search string – and then piped the data into <a href="http://unixhelp.ed.ac.uk/CGI/man-cgi?sed" target="_blank">sed</a>, allowing us to extract the help identifiers from the input.</p>  <p>To make it simpler to copy/paste the data into a JavaScript file, I surrounded each ID by double quotes and suffixed a comma.</p>  <div style="font-size: 8pt; font-family: courier new; background: white; color: black; line-height: 140%">   <p style="margin: 0px">grep -r '&lt;span class=\\&quot;uifinderbtn\\&quot; data-id=\\&quot;' * | \</p>    <p style="margin: 0px">sed 's/.*&lt;span class=\\&quot;uifinderbtn\\&quot; data-id=\\&quot;\([0-9A-Z_a-z ]*\)\\&quot;&gt;Find&lt;\/span&gt;.*/&quot;\1&quot;,/g' | \</p>    <p style="margin: 0px">sort | uniq</p> </div>  <p>From there I used <a href="http://unixhelp.ed.ac.uk/CGI/man-cgi?sort" target="_blank">sort</a> &amp; <a href="http://unixhelp.ed.ac.uk/CGI/man-cgi?uniq" target="_blank">uniq</a> to get rid of any duplicates from the list.</p>  <p>Looking for help topics was very similar – it’s only the attribute name that changes slightly:</p>  <div style="font-size: 8pt; font-family: courier new; background: white; color: black; line-height: 140%">   <p style="margin: 0px">grep -r '&lt;span class=\\&quot;uifinderbtn\\&quot; data-helptopic=\\&quot;' * | \</p>    <p style="margin: 0px">sed 's/.*&lt;span class=\\&quot;uifinderbtn\\&quot; data-helptopic=\\&quot;\([0-9A-Z_a-z ]*\)\\&quot;&gt;Find&lt;\/span&gt;.*/&quot;\1&quot;,/g' | \</p>    <p style="margin: 0px">sort | uniq</p> </div>  <p>I won’t post the list of IDs these two command sequences generated… suffice it to say that at 2 seconds per command I was waiting for several minutes watching the UI Finder do its thing. Which was cool in a very geeky way.</p>  <p>To take this series further, I’m going to need to spend some time writing a palette-based UI. I won’t be doing that immediately, though… today I managed to get side-tracked by an interesting project someone brought to me in desperation: for an internal team-building activity they need a 60-piece circular jigsaw puzzle (whether they end up 3D printing it or – and this was my suggestion – use a laser cutter to create it). So yes, this afternoon I spent some time writing a basic AutoCAD app to help generate jigsaw puzzles. Which we’ll look at next time. :-)</p>
