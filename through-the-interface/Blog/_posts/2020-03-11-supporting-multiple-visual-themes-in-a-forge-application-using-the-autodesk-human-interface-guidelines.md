---
layout: "post"
title: "Supporting multiple visual themes in a Forge application using the Autodesk Human Interface Guidelines"
date: "2020-03-11 10:00:05"
author: "Kean Walmsley"
categories:
  - "APS (Forge)"
  - "Autodesk Research"
  - "IoT"
original_url: "https://www.keanw.com/2020/03/supporting-multiple-visual-themes-in-a-forge-application-using-the-autodesk-human-interface-guidelines.html "
typepad_basename: "supporting-multiple-visual-themes-in-a-forge-application-using-the-autodesk-human-interface-guidelines"
typepad_status: "Publish"
---

<p>I mentioned in <a href="https://www.keanw.com/2020/03/knowing-when-operations-are-complete-in-the-forge-viewer.html" target="_blank">the last post</a> that I’ve been working on integrating a new timeline component into <a href="http://dasher360.com" target="_blank">Dasher</a>. By default the component supports a different visual theme than the one we’ve been using in Dasher: in order to make the look &amp; feel consistent, I had to include Autodesk’s HIG toolkit in the Dasher project.</p><p>HIG stands for Human Interface Guidelines, and it’s Autodesk’s effort to increase visual consistency across our products (especially those that are web-based). And the best thing is, <a href="https://github.com/Autodesk/hig" target="_blank">it’s open source</a> and available for anyone to integrate in their projects via npm or yarn. And if you find it doesn’t quite meet your needs, we’re <a href="https://github.com/Autodesk/hig/blob/development/CONTRIBUTING.md" target="_blank">open for contributions</a>, too.</p><p>The HIG toolkit comprises two main areas: a set of React components that adhere to our design standards and a set of visual themes that can be used to style your own components manually. You can pick and choose specific React components to use, or just pick up the theming, if that’s of more interest to you. In Dasher we don’t use React (yes, we’re a bit old school on that front) so we just consume the theming via @hig/theme-data.</p><p>We started by passing the “dark gray” theme data into the constructor for our TimeSlider control – which overrides the default “dark blue” theme – but after thinking about it for a while, I realised we could also pick and choose some of the theme data to allow Dasher to support multiple themes. We use <a href="https://sass-lang.com/" target="_blank">Sass</a> (via SCSS files) inside Dasher, so it was a simple matter to import the variables for a particular theme into our stylesheet:</p><p><div class="vscode" style="white-space: pre;"><div><span style="color: rgb(197, 134, 192);">@import</span><span style="color: rgb(212, 212, 212);">&nbsp;</span><span style="color: rgb(206, 145, 120);">'../../../node_modules/@hig/theme-data/build/scss/variables/_darkGrayHighDensityTheme.scss'</span><span style="color: rgb(212, 212, 212);">;</span></div><div><span style="color: rgb(215, 186, 125);"></span></div></div><p>From here it’s possible to use specific colours directly – such as via $basics-colors-autodeskBlue400 – or to use variables whose values will vary across themes – such as via $colorScheme-surfaceLevel300Color.<p>If you’re not using Sass you can also include these settings via LESS or as JSON objects or EcmaScript modules, so things are pretty flexible. <p>For now I used the SCSS approach to just support a couple of dark themes – dark blue and dark gray high density themes – but with enough effort we could use the same technique to support additional themes, too. We had to restyle a few built-in Forge viewer styles to make this work, but it seems to work well.<p>Here are a couple of “empty” views, using the respective themes:<p><a href="https://through-the-interface.typepad.com/.a/6a00d83452464869e2025d9b3b4d4b200c-pi" target="_blank"><img width="500" height="312" title="NEST gray empty" style="margin: 30px auto; border: 0px currentcolor; border-image: none; float: none; display: block; background-image: none;" alt="NEST gray empty" src="/assets/image_477323.jpg" border="0"></a><p><a href="https://through-the-interface.typepad.com/.a/6a00d83452464869e20240a4f0cb55200d-pi" target="_blank"><img width="500" height="312" title="NEST blue empty" style="margin: 30px auto; border: 0px currentcolor; border-image: none; float: none; display: block; background-image: none;" alt="NEST blue empty" src="/assets/image_349250.jpg" border="0"></a><p>Here are a couple of “full” views including some Dasher palettes:<p><a href="https://through-the-interface.typepad.com/.a/6a00d83452464869e2025d9b3b4d53200c-pi" target="_blank"><img width="500" height="312" title="NEST gray full" style="margin: 30px auto; border: 0px currentcolor; border-image: none; float: none; display: block; background-image: none;" alt="NEST gray full" src="/assets/image_331979.jpg" border="0"></a><a href="https://through-the-interface.typepad.com/.a/6a00d83452464869e20240a4f0cb61200d-pi" target="_blank"><img width="500" height="312" title="NEST blue full" style="margin: 30px auto; border: 0px currentcolor; border-image: none; float: none; display: block; background-image: none;" alt="NEST blue full" src="/assets/image_87330.jpg" border="0"></a><p>To help compare the differences, here are a couple of animations where the theme changes every couple of seconds (the differences are quite subtle, so watch closely!):<p><a href="https://through-the-interface.typepad.com/.a/6a00d83452464869e2025d9b3b4d64200c-pi" target="_blank"><img width="500" height="312" title="NEST empty" style="margin: 30px auto; float: none; display: block;" alt="NEST empty" src="/assets/image_326781.jpg"></a><a href="https://through-the-interface.typepad.com/.a/6a00d83452464869e20240a4f0cb65200d-pi" target="_blank"><img width="500" height="312" title="NEST full" style="margin: 30px auto; float: none; display: block;" alt="NEST full" src="/assets/image_962792.jpg"></a><p>I haven’t yet found a solid way to swap themes at runtime: for now it’s a build-time decision which theme to apply. I get the sense it might be required to import the SCSS data via a mixin that can be applied or accessed dynamically, but I admittedly haven’t explored this very deeply (and I also suspect this would require a change to the way HIG is built, although I could well be wrong).<p>If I come back to this at some point in the future, I’ll be sure to publish a follow-up post. In the meantime, be sure to check out the HIG and see what it can do for you!
