---
layout: "post"
title: "Blinking lights with a Digispark"
date: "2013-02-05 11:02:05"
author: "Kean Walmsley"
categories:
  - "Arduino"
  - "Kinect"
  - "Raspberry Pi"
  - "Retro computing"
original_url: "https://www.keanw.com/2013/02/blinking-lights-with-a-digispark.html "
typepad_basename: "blinking-lights-with-a-digispark"
typepad_status: "Publish"
---

<p>I talked about some of the fun I’ve been having with Arduino in <a href="http://through-the-interface.typepad.com/through_the_interface/2013/01/blinking-lights-and-other-revelations.html" target="_blank">this previous post</a>. I eventually added a pushbutton and a <a href="http://en.wikipedia.org/wiki/Potentiometer" target="_blank">potentiometer</a> to that particular circuit, modifying the code to watch for <a href="http://www.engblaze.com/we-interrupt-this-program-to-bring-you-a-tutorial-on-arduino-interrupts/" target="_blank">a hardware interrupt</a> – to blink the LEDs only when the button is pressed – but also to apply a variable delay to the blinking (speeding it up or slowing it down depending on the direction in which you turn the knob of the potentiometer).</p>  <p>I’ve now ordered <a href="http://www.ebay.co.uk/itm/Sinclair-Spectrum-ZX81-Edge-Connector-UNCUT-/260906239646" target="_blank">an edge connector that will fit my ZX Spectrum</a>: my next stage for the Arduino-based work is to try to apply signals through it to <a href="http://www.users.globalnet.co.uk/~jg27paw4/yr01/yr01_58.htm" target="_blank">simulate the pressing of keys on the ZX Spectrum’s membrane keyboard</a>. Once I’ve done that, I know I’ll be able to fire off keystrokes based on external conditions. At which point I’ll just have to see whether my newer 512Mb Raspberry Pi has enough capacity and horsepower to do something meaningful with the data coming from Kinect (via <a href="http://openkinect.org" target="_blank">libfreenect</a>, of course, which may make it tricky to get skeleton data… we’ll see if that ends up being a deal-breaker). I’m not sure whether I’ll be able to use the R-Pi directly for all this – it may well make sense to invest in a <a href="http://www.raspberrypi.org/archives/1734" target="_blank">Gertboard</a>… that looks like a handy add-on to have around, in any case.</p>  <p>So, assuming I can detect basic movements – left, right and jump – I’ll then be able to control <a href="http://en.wikipedia.org/wiki/Manic_Miner" target="_blank">Manic Miner</a> and <a href="http://en.wikipedia.org/wiki/Jet_Set_Willy" target="_blank">Jet Set Willy</a> (classic <a href="http://en.wikipedia.org/wiki/Platform_game" target="_blank">platform games</a>) on an original ZX Spectrum using Kinect. At least that’s the plan.</p>  <p>But in the meantime, I received a long-anticipated package through the post, yesterday. It contained three <a href="http://digistump.com/#digispark" target="_blank">Digisparks</a> and some laser-cut cases for them: the results of funding <a href="http://kck.st/MCd45z" target="_blank">a project on Kickstarter</a>.</p>  <p>The Digispark is a “<em>teeny tiny, Arduino-compatible, dirt cheap, USB development (and production) platform</em>”. And as you can see here, it really is tiny (trust me – I have fairly average-sized hands ;-).</p>  <p><a href="http://through-the-interface.typepad.com/.a/6a00d83452464869e2017c3699a174970b-pi" target="_blank"><img style="background-image: none; border-bottom: 0px; border-left: 0px; margin: 20px auto; padding-left: 0px; padding-right: 0px; display: block; float: none; border-top: 0px; border-right: 0px; padding-top: 0px" title="The Digispark - it&#39;s really tiny" border="0" alt="The Digispark - it&#39;s really tiny" src="/assets/image_226532.jpg" width="234" height="349" /></a></p>  <p>The chip itself is largely compatible with the Arduino standard and toolset: <a href="http://digistump.com/wiki/digispark/tutorials/connecting" target="_blank">the driver download</a> comes with the 1.0.3 version of the Arduino IDE (which I was already using for my Arduino projects – replacing it with this version also allows me to target the Digispark subset). The Digispark has an <a href="http://www.atmel.com/devices/ATTINY85.aspx" target="_blank">ATtiny85</a> microcontroller (while my Arduino Uno R3 has an <a href="http://www.atmel.com/devices/ATMEGA328P.aspx" target="_blank">ATmega328P</a>, for comparison), and in general clearly <a href="http://digistump.com/wiki/digispark/tutorials/digispark" target="_blank">has less capability than the full Arduino</a>.</p>  <p>But for small projects such as my blinking lights – this time with 6 LEDs, as there are fewer pins to work with – it does very well:</p>  <p><a href="http://through-the-interface.typepad.com/.a/6a00d83452464869e2017d40c8342b970c-pi"><img style="display: inline" title="Digispark blinking LEDs" alt="Digispark blinking LEDs" src="/assets/image_654180.jpg" width="470" height="264" /></a></p>    <p>You can see here that I’ve used a USB extension cable to avoid connecting the device directly to my PC: when developing with the Digispark you need to unplug the device before each compile and upload – plugging it back in only when this is has been done – which would certainly wear the connector if not using an extension to bear the brunt of this. This extra step makes it a bit fiddly, at first, but you soon get used to it. It’s also worth bearing in mind that given the nature of the Digispark, it’s naturally less robust than a full Arduino, so care should be taken when working with it: a short circuit could damage it irreparably, for instance.</p>  <p>I went ahead and assembled the laser-cut acrylic cases I ordered along with the Digisparks:</p>  <p><a href="http://through-the-interface.typepad.com/.a/6a00d83452464869e2017ee83cf8b5970d-pi" target="_blank"><img style="background-image: none; border-bottom: 0px; border-left: 0px; margin: 20px auto; padding-left: 0px; padding-right: 0px; display: block; float: none; border-top: 0px; border-right: 0px; padding-top: 0px" title="Building the laser-cut cases" border="0" alt="Building the laser-cut cases" src="/assets/image_590567.jpg" width="394" height="264" /></a></p>  <p>And then tried out a small one as part of this project:</p>  <p><a href="http://through-the-interface.typepad.com/.a/6a00d83452464869e2017c3699a5d5970b-pi" target="_blank"><img style="background-image: none; border-bottom: 0px; border-left: 0px; margin: 20px auto; padding-left: 0px; padding-right: 0px; display: block; float: none; border-top: 0px; border-right: 0px; padding-top: 0px" title="Inside one of the acrylic cases" border="0" alt="Inside one of the acrylic cases" src="/assets/image_70374.jpg" width="394" height="264" /></a></p>  <p>The fit was fairly good, although the modest amount of inexpert soldering I performed to attach the pin headers did mean the slot for the USB connector forced the Digispark to be at an angle. I could probably flatten the bottom by cutting the pins and soldering a bit more carefully, I expect.</p>
