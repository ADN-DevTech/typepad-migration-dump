---
layout: "post"
title: "Photo Scene Editor on Autodesk Labs"
date: "2010-07-22 17:49:00"
author: "Kean Walmsley"
categories:
  - "Point clouds"
  - "Reality capture"
original_url: "https://www.keanw.com/2010/07/photo-scene-editor-on-autodesk-labs.html "
typepad_basename: "photo-scene-editor-on-autodesk-labs"
typepad_status: "Publish"
---

<p>I am really very excited about this technology. For those of you who’ve found <a href="http://through-the-interface.typepad.com/through_the_interface/point-clouds" target="_blank">my investigations into Photosynth and computer vision/photogrammetry solutions</a> to be of interest, you’re in for a treat. :-)</p>
<p>As <a href="http://labs.blogs.com/its_alive_in_the_lab/2010/07/phase-1-of-project-photofly-now-available.html" target="_blank">Scott Sheppard has announced</a> over on his blog, <a href="http://labs.autodesk.com/utilities/photo_scene_editor" target="_blank">Photo Scene Editor</a> has just gone live on Autodesk Labs: a very interesting application, in itself, but also the first public client of the <a href="http://labs.autodesk.com/technologies/photofly" target="_blank">Photofly</a> web service (see <a href="http://through-the-interface.typepad.com/through_the_interface/2010/01/dwg-capable-2d-cad-on-the-web.html" target="_blank">this previous post</a> for some mention of other “*fly” technologies coming from Autodesk). Photo Scene Editor allows you to build, visualize, edit and analyse “scenes” from sets of photographs. The tool uploads sets of images to Photofly, which then analyses the camera positions (and other properties determined from the images) and generates a point cloud, packaging it up with other information about the scene to send back to the client application. The “editor” part of the tool now comes into play: you can manipulate the point cloud generated automatically by Photofly, removing extraneous points, as well as providing additional information to help “stitch” images into the scene that could not be positioned automatically. All of which helps build a 3D model representing the physical scene you’ve captured, with the use of <a href="http://en.wikipedia.org/wiki/Texture_splatting" target="_blank">splats</a> determined from the source images to make the scene appear more realistic.</p>
<p>It’s to some degree its post-upload manipulation capability that differentiates this technology from Microsoft’s excellent <a href="http://photosynth.net" target="_blank">Photosynth</a> service, but there is more. Photosynth’s focus is largely around coordinating photographs in 3D space, while the technology we’re developing is focused on capturing reality for use from a design perspective. Photosynth has some great point clouds that can be extracted – with a little effort – for use in design applications, but we’re building technology that is fully intended – in time, of course – for production use by businesses. Which means a focus on the ability to calibrate the photos, to generate accurate results and also to bring point clouds into Autodesk products.</p>
<p>Over time I expect this service to be used for further purposes, such as real-time positioning of an image relative to a model (think about the potential to determine the position of a smart-phone relative by its camera’s image-stream for augmented reality applications). But that’s for the future: what we have today is focused on capturing designs for the purposes of “as built” analysis and – in due course – design augmentation.</p>
<p>So let’s step through the installation and usage of the product. After logging into Labs, clicking the link and accepting the standard download agreement, you’ll start the install and get a EULA:</p>
<p><a href="http://through-the-interface.typepad.com/.a/6a00d83452464869e20134859d7314970c-pi"><img alt="Photo Scene Editor and Photofly EULA" border="0" height="380" src="/assets/image_872662.jpg" style="margin: 20px auto; display: block; float: none; border: 0px;" title="Photo Scene Editor and Photofly EULA" width="408" /></a></p>
<p>I found the summary useful to help understand the limits for using the technology, and didn’t especially object to having to click four checkboxes. :-)</p>
<p>From there we get a “welcome” page…</p>
<p><a href="http://through-the-interface.typepad.com/.a/6a00d83452464869e20133f2788766970b-pi"><img alt="Photo Scene Editor welcome page" border="0" height="320" src="/assets/image_37528.jpg" style="margin: 20px auto; display: block; float: none; border-width: 0px;" title="Photo Scene Editor welcome page" width="479" /></a></p>
<p>… from which we can either choose to create a new Photo Scene or open an existing one. When creating a new scene we simply have to select some photos Photofly will then use to create it.</p>
<p><a href="http://through-the-interface.typepad.com/.a/6a00d83452464869e20133f2788858970b-pi"><img alt="Create a photo scene" border="0" height="319" src="/assets/image_563151.jpg" style="margin: 20px auto; display: block; float: none; border-width: 0px;" title="Create a photo scene" width="479" /></a></p>
<p><span style="font-family: Calibri; font-size: small;">&#0160;</span></p>
<p>In my case I’ve gone ahead and selected the photos I used in <a href="http://through-the-interface.typepad.com/through_the_interface/2010/05/using-photosynth-to-generate-a-few-sparse-point-clouds.html" target="_blank">this previous post</a>:</p>
<p><a href="http://through-the-interface.typepad.com/.a/6a00d83452464869e20133f27888ea970b-pi"><img alt="Select some photos" border="0" height="272" src="/assets/image_201955.jpg" style="margin: 20px auto; display: block; float: none; border-width: 0px;" title="Select some photos" width="480" /></a></p>
<p>The images get read…</p>
<p><a href="http://through-the-interface.typepad.com/.a/6a00d83452464869e20134859d764a970c-pi"><img alt="Reading the images" border="0" height="319" src="/assets/image_972491.jpg" style="margin: 20px auto; display: block; float: none; border-width: 0px;" title="Reading the images" width="479" /></a> … and loaded into the editor for upload.</p>
<p><a href="http://through-the-interface.typepad.com/.a/6a00d83452464869e20133f2788a04970b-pi"><img alt="The loaded images" border="0" height="319" src="/assets/image_425156.jpg" style="margin: 20px auto; display: block; float: none; border-width: 0px;" title="The loaded images" width="479" /></a></p>
<p>By clicking on “Compute Photo Scene”, you start the upload and scene creation process. What’s interesting, here, is that the application really uses the cloud for the processing. While Photosynth’s client application does a fair amount of number crunching locally on the system (which has been described by the development team as <a href="http://en.wikipedia.org/wiki/Edge_computing" target="_blank">edge computing</a>, but actually has significant downsides when you want to use the web service from other clients, something we’ll discuss further in the next post), all of the scene creation marshaled by the Photo Scene Editor is done by Photofly, up there in the cloud.</p>
<p>A fair amount of optimization has also been done to avoid multiple upload/processing of the same image: each file’s <a href="http://en.wikipedia.org/wiki/Checksum" target="_blank">checksum</a> is used to identify it, and only images the server doesn’t already know about get uploaded and processed.</p>
<p><a href="http://through-the-interface.typepad.com/.a/6a00d83452464869e20134859d7817970c-pi"><img alt="Computing the scene" border="0" height="319" src="/assets/image_519416.jpg" style="margin: 20px auto; display: block; float: none; border-width: 0px;" title="Computing the scene" width="479" /></a>We can see that the online scene creation starts while the upload is ongoing. As we proceed through that stage, we get the ability to leave the application and to come back later for the results:</p>
<p><a href="http://through-the-interface.typepad.com/.a/6a00d83452464869e20134859d78ef970c-pi"><img alt="You can quite and resume" border="0" height="319" src="/assets/image_313478.jpg" style="margin: 20px auto; display: block; float: none; border-width: 0px;" title="You can quite and resume" width="479" /></a></p>
<p>Once we’re complete…</p>
<p><a href="http://through-the-interface.typepad.com/.a/6a00d83452464869e20134859d795d970c-pi"><img alt="All done" border="0" height="319" src="/assets/image_245525.jpg" style="margin: 20px auto; display: block; float: none; border-width: 0px;" title="All done" width="478" /></a></p>
<p>… we get to see the actual scene, locally in the client. The scene is communicated back from Photofly to the editor via an RZI file (more on this in the next post), an XML file that describes information about the scene and how the local images should be used to display it.</p>
<p><a href="http://through-the-interface.typepad.com/.a/6a00d83452464869e20133f2788c46970b-pi"><img alt="Our loaded scene" border="0" height="372" src="/assets/image_375327.jpg" style="margin: 20px auto; display: block; float: none; border-width: 0px;" title="Our loaded scene" width="479" /></a> There are various options enabled, at this stage. We see camera positions, as well as what appears to be a 3D model in the middle of it all.</p>
<p>We can disable some of these options (compare the toolbars in each image to understand the differences), to get the underlying point cloud:</p>
<p><a href="http://through-the-interface.typepad.com/.a/6a00d83452464869e20133f2788c87970b-pi"><img alt="My head as a point cloud" border="0" height="372" src="/assets/image_862039.jpg" style="margin: 20px auto; display: block; float: none; border-width: 0px;" title="My head as a point cloud" width="479" /></a></p>
<p>While the point cloud is interesting, one of the key features of the editor is the ability to apply splats – portions of the local raster images that get draped onto the point cloud:<a href="http://through-the-interface.typepad.com/.a/6a00d83452464869e20133f2788cc3970b-pi"><img alt="And now with splats" border="0" height="372" src="/assets/image_173635.jpg" style="margin: 20px auto; display: block; float: none; border-width: 0px;" title="And now with splats" width="479" /></a></p>
<p>Just to make sure it’s clear this is a 3D model, here’s a view from a different direction:</p>
<p><a href="http://through-the-interface.typepad.com/.a/6a00d83452464869e20134859d7b4d970c-pi"><img alt="Splatted me from a different angle" border="0" height="372" src="/assets/image_406222.jpg" style="margin: 20px auto; display: block; float: none; border-width: 0px;" title="Splatted me from a different angle" width="479" /></a>Now you’ve got your basic scene it’s worth re-enabling the point cloud, at which point you can select and edit (which typically means removing) extraneous points. You can also use the slider to adjust the splat size to something more appropriate.</p>
<p>I’m not going to talk about point cloud editing, today – I think the post has gone on long enough, already – but I do suggest playing around with it. If you’re interested in analysing the model, you can calibrate the scene using known distances (the width of my glasses, for instance), so that accurate measurements can be taken.</p>
<p>It should also be noted that while the results can look spookily realistic, there is not actually an underlying mesh to be accessed (at least not yet :-). There are certainly plans to take this technology a lot further – now is a great time to play around with it and let us know what you would want.</p>
<p>In the next post I’ll focus a little more on the underlying mechanics of the system and on some work I’ve been doing with the Photofly team, to develop a “proof of concept” application that uploads images to Photofly and brings the resultant point cloud back down into AutoCAD 2011.</p>
