---
layout: "post"
title: "Writing a Mental Ray shader for Maya and relate it to a Maya custom node"
date: "2015-07-23 18:28:55"
author: "Cheng Xi Li"
categories: []
original_url: "https://around-the-corner.typepad.com/adn/2015/07/writing-a-mental-ray-shader-for-maya-and-relate-it-to-a-maya-custom-node.html "
typepad_basename: "writing-a-mental-ray-shader-for-maya-and-relate-it-to-a-maya-custom-node"
typepad_status: "Draft"
---

<h2 style="margin: 13pt 0cm; text-justify: inter-ideograph; line-height: 28pt" align="justify"><span lang="EN-US" style="text-align: justify; text-justify: inter-ideograph"><font face="Calibri"><font style="font-size: 10.5pt" color="#000000">Mental Ray is the renderer shipped with Maya by default. To make your custom node working with Mental Ray becomes a natural question for every Maya developer.</font></font></span></h2>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-justify: inter-ideograph; line-height: normal" align="justify"><span lang="EN-US" style="text-align: justify; text-justify: inter-ideograph"><font face="Calibri"><font style="font-size: 10.5pt" color="#000000">&#160;</font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-justify: inter-ideograph; line-height: normal" align="justify"><span lang="EN-US" style="text-align: justify; text-justify: inter-ideograph"><font face="Calibri"><font style="font-size: 10.5pt" color="#000000">The Mental Ray renderer can use the Maya shader network, but because it is a different rendering system (provided by NVIDIA), it cannot use the shader node in Maya directly. For this reason, Autodesk has developed a shader bridge between Mental Ray and Maya.</font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-justify: inter-ideograph; line-height: normal" align="justify"><span lang="EN-US" style="text-align: justify; text-justify: inter-ideograph"><font face="Calibri"><font style="font-size: 10.5pt" color="#000000">&#160;</font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-justify: inter-ideograph; line-height: normal" align="justify"><span lang="EN-US" style="text-align: justify; text-justify: inter-ideograph"><font face="Calibri"><font style="font-size: 10.5pt" color="#000000">You can develop a Mental Ray shader easily and make it available in the Maya shader network without any effort. But it can’t be used directly by Maya or other renderers. That means you can’t preview it in the viewport.</font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-justify: inter-ideograph; line-height: normal" align="justify"><span lang="EN-US" style="text-align: justify; text-justify: inter-ideograph"><font face="Calibri"><font style="font-size: 10.5pt" color="#000000">&#160;</font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-justify: inter-ideograph; line-height: normal" align="justify"><span lang="EN-US" style="text-align: justify; text-justify: inter-ideograph"><font face="Calibri"><font style="font-size: 10.5pt" color="#000000">For an end user, if you want your custom shader to be both accessed by Maya and Mental Ray, you have to develop both versions. There is plenty of information about how to develop a plug-in for Maya, so, we will skip the Maya part and focus on the Mental Ray side.</font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-justify: inter-ideograph; line-height: normal" align="justify"><span lang="EN-US" style="text-align: justify; text-justify: inter-ideograph"><font face="Calibri"><font style="font-size: 10.5pt" color="#000000">&#160;</font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-justify: inter-ideograph; line-height: normal" align="justify"><span lang="EN-US" style="text-align: justify; text-justify: inter-ideograph"><font face="Calibri"><font style="font-size: 10.5pt" color="#000000">Since Maya 2013, you can relate a Maya custom shaders to a Mental Ray custom shaders for Maya by creating the Mental Ray shader and Maya custom shaders with the same name. Therefore they can use the same shader network.</font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-justify: inter-ideograph; line-height: normal" align="justify"><span lang="EN-US" style="text-align: justify; text-justify: inter-ideograph"><font face="Calibri"><font style="font-size: 10.5pt" color="#000000">&#160;</font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-justify: inter-ideograph; line-height: normal" align="justify"><span lang="EN-US" style="text-align: justify; text-justify: inter-ideograph"><font face="Calibri"><font style="font-size: 10.5pt" color="#000000">In this article, we’ll create a Mental Ray shader for the fileTexture sample from the Maya devkit.</font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-justify: inter-ideograph; line-height: normal" align="justify"><span lang="EN-US" style="text-align: justify; text-justify: inter-ideograph"><font face="Calibri"><font style="font-size: 10.5pt" color="#000000">A Mental Ray shader has two parts: the ‘mi’ include file and the ‘dll’ binary file. During Mental Ray initialization, Mental Ray will check the include file first and then loads the corresponding dll file. The include file must be encoded with ASCII or it will fail to load. To make this tutorial simple, we will put the include file and the dll file in the default path, which is the shaders and shaders/include folder inside the Mental Ray directory structure.</font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-justify: inter-ideograph; line-height: normal" align="justify"><span lang="EN-US" style="text-align: justify; text-justify: inter-ideograph"><font face="Calibri"><font style="font-size: 10.5pt" color="#000000">&#160;</font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-justify: inter-ideograph; line-height: normal" align="justify"><span lang="EN-US" style="text-align: justify; text-justify: inter-ideograph"><font face="Calibri"><font style="font-size: 10.5pt" color="#000000">First, let’s take a look at the mi include file </font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-justify: inter-ideograph; line-height: normal" align="justify"><span lang="EN-US" style="text-align: justify; text-justify: inter-ideograph"><font face="Calibri"><font style="font-size: 10.5pt" color="#000000">&#160;</font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-justify: inter-ideograph; line-height: normal" align="justify"><span lang="EN-US" style="font-family: ; text-align: justify; text-justify: inter-ideograph"><font face="Courier New"><font style="font-size: 10.5pt" color="#000000">declare shader</font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-justify: inter-ideograph; line-height: normal" align="justify"><span lang="EN-US" style="font-family: ; text-align: justify; text-justify: inter-ideograph"><font face="Courier New"><font color="#000000"><span style="text-align: justify; text-justify: inter-ideograph; mso-spacerun: yes"><font style="font-size: 10.5pt">&#160;&#160; </font></span><font style="font-size: 10.5pt">struct {</font></font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-justify: inter-ideograph; line-height: normal" align="justify"><span lang="EN-US" style="font-family: ; text-align: justify; text-justify: inter-ideograph"><font face="Courier New"><font color="#000000"><span style="text-align: justify; text-justify: inter-ideograph; mso-spacerun: yes"><font style="font-size: 10.5pt">&#160;&#160;&#160;&#160;&#160; </font></span><font style="font-size: 10.5pt">color<span style="text-align: justify; text-justify: inter-ideograph; mso-tab-count: 1"> </span>&quot;outColor&quot;,</font></font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-justify: inter-ideograph; line-height: normal" align="justify"><span lang="EN-US" style="font-family: ; text-align: justify; text-justify: inter-ideograph"><font face="Courier New"><font color="#000000"><span style="text-align: justify; text-justify: inter-ideograph; mso-spacerun: yes"><font style="font-size: 10.5pt">&#160;&#160;&#160;&#160;&#160; </font></span><font style="font-size: 10.5pt">scalar<span style="text-align: justify; text-justify: inter-ideograph; mso-tab-count: 1">&#160;&#160; </span>&quot;outAlpha&quot;</font></font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-justify: inter-ideograph; line-height: normal" align="justify"><span lang="EN-US" style="font-family: ; text-align: justify; text-justify: inter-ideograph"><font face="Courier New"><font color="#000000"><span style="text-align: justify; text-justify: inter-ideograph; mso-spacerun: yes"><font style="font-size: 10.5pt">&#160; </font></span><font style="font-size: 10.5pt">} &quot;fileTexture&quot; (</font></font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-justify: inter-ideograph; line-height: normal" align="justify"><span lang="EN-US" style="font-family: ; text-align: justify; text-justify: inter-ideograph"><font face="Courier New"><font color="#000000"><span style="text-align: justify; text-justify: inter-ideograph; mso-spacerun: yes"><font style="font-size: 10.5pt">&#160;&#160;&#160;&#160;&#160; </font></span><font style="font-size: 10.5pt">string<span style="text-align: justify; text-justify: inter-ideograph; mso-tab-count: 1">&#160;&#160; </span>&quot;fileName&quot;,</font></font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-justify: inter-ideograph; line-height: normal" align="justify"><span lang="EN-US" style="font-family: ; text-align: justify; text-justify: inter-ideograph"><font face="Courier New"><font color="#000000"><span style="text-align: justify; text-justify: inter-ideograph; mso-spacerun: yes"><font style="font-size: 10.5pt">&#160;&#160;&#160;&#160;&#160; </font></span><font style="font-size: 10.5pt">vector<span style="text-align: justify; text-justify: inter-ideograph; mso-tab-count: 1">&#160;&#160; </span>&quot;uvCoord&quot;</font></font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-justify: inter-ideograph; line-height: normal" align="justify"><span lang="EN-US" style="font-family: ; text-align: justify; text-justify: inter-ideograph"><font face="Courier New"><font color="#000000"><span style="text-align: justify; text-justify: inter-ideograph; mso-spacerun: yes"><font style="font-size: 10.5pt">&#160; </font></span><font style="font-size: 10.5pt">)</font></font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-justify: inter-ideograph; line-height: normal" align="justify"><span lang="EN-US" style="font-family: ; text-align: justify; text-justify: inter-ideograph"><font face="Courier New"><font color="#000000"><span style="text-align: justify; text-justify: inter-ideograph; mso-spacerun: yes"><font style="font-size: 10.5pt">&#160; </font></span><font style="font-size: 10.5pt">version 1</font></font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-justify: inter-ideograph; line-height: normal" align="justify"><span lang="EN-US" style="font-family: ; text-align: justify; text-justify: inter-ideograph"><font face="Courier New"><font color="#000000"><span style="text-align: justify; text-justify: inter-ideograph; mso-spacerun: yes"><font style="font-size: 10.5pt">&#160; </font></span><font style="font-size: 10.5pt">apply texture</font></font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-justify: inter-ideograph; line-height: normal" align="justify"><span lang="EN-US" style="font-family: ; text-align: justify; text-justify: inter-ideograph"><font face="Courier New"><font style="font-size: 10.5pt" color="#000000">end declare</font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-justify: inter-ideograph; line-height: normal" align="justify"><span lang="EN-US" style="text-align: justify; text-justify: inter-ideograph"><font face="Calibri"><font style="font-size: 10.5pt" color="#000000">&#160;</font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-justify: inter-ideograph; line-height: normal" align="justify"><span lang="EN-US" style="text-align: justify; text-justify: inter-ideograph"><font face="Calibri"><font style="font-size: 10.5pt" color="#000000">declare shader is the beginning of a Mental Ray shader definition and end declare is the finish. They are always in pairs. </font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-justify: inter-ideograph; line-height: normal" align="justify"><span lang="EN-US" style="text-align: justify; text-justify: inter-ideograph"><font face="Calibri"><font style="font-size: 10.5pt" color="#000000">&#160;</font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-justify: inter-ideograph; line-height: normal" align="justify"><span lang="EN-US" style="text-align: justify; text-justify: inter-ideograph"><font face="Calibri"><font style="font-size: 10.5pt" color="#000000">&quot;fileTexture&quot; is the name of the Mental Ray shader. In this case, we want to relate it to our Maya fileTexture custom node and they must be identical.</font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-justify: inter-ideograph; line-height: normal" align="justify"><span lang="EN-US" style="text-align: justify; text-justify: inter-ideograph"><font face="Calibri"><font style="font-size: 10.5pt" color="#000000">&#160;</font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-justify: inter-ideograph; line-height: normal" align="justify"><span lang="EN-US" style="text-align: justify; text-justify: inter-ideograph"><font face="Calibri"><font style="font-size: 10.5pt" color="#000000">Before &quot;fileTexture&quot; is the output of the shader and they should be the same as the Maya version.</font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-justify: inter-ideograph; line-height: normal" align="justify"><span lang="EN-US" style="font-family: ; text-align: justify; text-justify: inter-ideograph"><font face="Courier New"><font color="#000000"><span style="text-align: justify; text-justify: inter-ideograph; mso-spacerun: yes"><font style="font-size: 10.5pt">&#160;&#160; </font></span><font style="font-size: 10.5pt">struct {</font></font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-justify: inter-ideograph; line-height: normal" align="justify"><span lang="EN-US" style="font-family: ; text-align: justify; text-justify: inter-ideograph"><font face="Courier New"><font color="#000000"><span style="text-align: justify; text-justify: inter-ideograph; mso-spacerun: yes"><font style="font-size: 10.5pt">&#160;&#160;&#160;&#160;&#160; </font></span><font style="font-size: 10.5pt">color<span style="text-align: justify; text-justify: inter-ideograph; mso-tab-count: 1"> </span>&quot;outColor&quot;,</font></font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-justify: inter-ideograph; line-height: normal" align="justify"><span lang="EN-US" style="font-family: ; text-align: justify; text-justify: inter-ideograph"><font face="Courier New"><font color="#000000"><span style="text-align: justify; text-justify: inter-ideograph; mso-spacerun: yes"><font style="font-size: 10.5pt">&#160;&#160;&#160;&#160;&#160; </font></span><font style="font-size: 10.5pt">scalar<span style="text-align: justify; text-justify: inter-ideograph; mso-tab-count: 1">&#160;&#160; </span>&quot;outAlpha&quot;</font></font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-justify: inter-ideograph; line-height: normal; text-indent: 10.2pt" align="justify"><span lang="EN-US" style="font-family: ; text-align: justify; text-justify: inter-ideograph"><font face="Courier New"><font style="font-size: 10.5pt" color="#000000">}</font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-justify: inter-ideograph; line-height: normal" align="justify"><span lang="EN-US" style="text-align: justify; text-justify: inter-ideograph"><font face="Calibri"><font style="font-size: 10.5pt" color="#000000">&#160;</font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-justify: inter-ideograph; line-height: normal" align="justify"><span lang="EN-US" style="text-align: justify; text-justify: inter-ideograph"><font face="Calibri"><font style="font-size: 10.5pt" color="#000000">Following the &quot;fileTexture&quot; is the input of the shader</font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-justify: inter-ideograph; line-height: normal" align="justify"><span lang="EN-US" style="font-family: ; text-align: justify; text-justify: inter-ideograph"><font face="Courier New"><font style="font-size: 10.5pt" color="#000000">&quot;fileTexture&quot; (</font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-justify: inter-ideograph; line-height: normal" align="justify"><span lang="EN-US" style="font-family: ; text-align: justify; text-justify: inter-ideograph"><font face="Courier New"><font color="#000000"><span style="text-align: justify; text-justify: inter-ideograph; mso-spacerun: yes"><font style="font-size: 10.5pt">&#160;&#160;&#160;&#160; </font></span><font style="font-size: 10.5pt"><span style="text-align: justify; text-justify: inter-ideograph; mso-spacerun: yes">&#160;</span>string<span style="text-align: justify; text-justify: inter-ideograph; mso-tab-count: 1">&#160;&#160; </span>&quot;fileName&quot;,</font></font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-justify: inter-ideograph; line-height: normal" align="justify"><span lang="EN-US" style="font-family: ; text-align: justify; text-justify: inter-ideograph"><font face="Courier New"><font color="#000000"><span style="text-align: justify; text-justify: inter-ideograph; mso-spacerun: yes"><font style="font-size: 10.5pt">&#160;&#160;&#160;&#160;&#160; </font></span><font style="font-size: 10.5pt">vector<span style="text-align: justify; text-justify: inter-ideograph; mso-tab-count: 1">&#160;&#160; </span>&quot;uvCoord&quot;</font></font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-justify: inter-ideograph; line-height: normal" align="justify"><span lang="EN-US" style="font-family: ; text-align: justify; text-justify: inter-ideograph"><font face="Courier New"><font color="#000000"><span style="text-align: justify; text-justify: inter-ideograph; mso-spacerun: yes"><font style="font-size: 10.5pt">&#160; </font></span><font style="font-size: 10.5pt">)</font></font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-justify: inter-ideograph; line-height: normal" align="justify"><span lang="EN-US" style="text-align: justify; text-justify: inter-ideograph"><font face="Calibri"><font style="font-size: 10.5pt" color="#000000">Notice that, the Maya version has only two child parameters for uvCoord. There is no corresponding type for uvCoord, so you can use the vector type instead in Mental Ray.</font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-justify: inter-ideograph; line-height: normal" align="justify"><span lang="EN-US" style="text-align: justify; text-justify: inter-ideograph"><font face="Calibri"><font style="font-size: 10.5pt" color="#000000">&#160;</font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-justify: inter-ideograph; line-height: normal" align="justify"><span lang="EN-US" style="text-align: justify; text-justify: inter-ideograph"><font face="Calibri"><font style="font-size: 10.5pt" color="#000000">“version 1” tells Mental Ray the version of this shader and “apply texture” tells Mental Ray this is a texture shader. To simplify the sample, we removed $ifndef for preventing repeat loading, but you should add it later.</font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-justify: inter-ideograph; line-height: normal" align="justify"><span lang="EN-US" style="text-align: justify; text-justify: inter-ideograph"><font face="Calibri"><font style="font-size: 10.5pt" color="#000000">&#160;</font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-justify: inter-ideograph; line-height: normal" align="justify"><span lang="EN-US" style="text-align: justify; text-justify: inter-ideograph"><font face="Calibri"><font style="font-size: 10.5pt" color="#000000">Next, we’ll start to write the Mental Ray shader. The Mental Ray shader is a C DLL file. I’ve already put the code inside an extern “C” block to simplify the example.</font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-justify: inter-ideograph; line-height: normal" align="justify"><span lang="EN-US" style="text-align: justify; text-justify: inter-ideograph"><font face="Calibri"><font style="font-size: 10.5pt" color="#000000">&#160;</font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-justify: inter-ideograph; line-height: normal" align="justify"><span lang="EN-US" style="text-align: justify; text-justify: inter-ideograph"><font face="Calibri"><font style="font-size: 10.5pt" color="#000000">The naming principle for Mental Ray shader code is a combination of your shader name and function name with a ‘_’. In this case, our shader’s name is fileTexture, so the version function of our shader will be fileShader_version.</font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-justify: inter-ideograph; line-height: normal" align="justify"><span lang="EN-US" style="text-align: justify; text-justify: inter-ideograph"><font face="Calibri"><font style="font-size: 10.5pt" color="#000000">&#160;</font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-justify: inter-ideograph; line-height: normal" align="justify"><span lang="EN-US" style="text-align: justify; text-justify: inter-ideograph"><font face="Calibri"><font style="font-size: 10.5pt" color="#000000">According to the Mental Ray manual, the calling order of our fileTexture shader, during rendering in a frame the first time will be:</font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-justify: inter-ideograph; line-height: normal" align="justify"><span lang="EN-US" style="text-align: justify; text-justify: inter-ideograph"><font face="Calibri"><font style="font-size: 10.5pt" color="#000000">&#160;</font></font></span></p>  <p class="MsoListParagraph" style="margin: 0cm 0cm 0pt 18pt; text-justify: inter-ideograph; line-height: normal; text-indent: -18pt; mso-char-indent-count: 0; mso-list: l0 level1 lfo1" align="justify"><font color="#000000"><span lang="EN-US" style="text-align: justify; text-justify: inter-ideograph; mso-fareast-font-family: calibri; mso-fareast-theme-font: minor-latin; mso-bidi-font-family: calibri; mso-bidi-theme-font: minor-latin"><span style="text-align: justify; text-justify: inter-ideograph; mso-list: ignore"><font face="Calibri"><font style="font-size: 10.5pt">1.</font></font><span style="font-family: ; text-align: justify; text-justify: inter-ideograph; line-height: normal"><font face="Times New Roman"><font style="font-size: 7pt">&#160;&#160;&#160;&#160;&#160;&#160; </font></font></span></span></span><span lang="EN-US" style="text-align: justify; text-justify: inter-ideograph"><font face="Calibri"><font style="font-size: 10.5pt">fileTexture _init with a null parameter argument</font></font></span></font></p>  <p class="MsoListParagraph" style="margin: 0cm 0cm 0pt 18pt; text-justify: inter-ideograph; line-height: normal; text-indent: -18pt; mso-char-indent-count: 0; mso-list: l0 level1 lfo1" align="justify"><font color="#000000"><span lang="EN-US" style="text-align: justify; text-justify: inter-ideograph; mso-fareast-font-family: calibri; mso-fareast-theme-font: minor-latin; mso-bidi-font-family: calibri; mso-bidi-theme-font: minor-latin"><span style="text-align: justify; text-justify: inter-ideograph; mso-list: ignore"><font face="Calibri"><font style="font-size: 10.5pt">2.</font></font><span style="font-family: ; text-align: justify; text-justify: inter-ideograph; line-height: normal"><font face="Times New Roman"><font style="font-size: 7pt">&#160;&#160;&#160;&#160;&#160;&#160; </font></font></span></span></span><span lang="EN-US" style="text-align: justify; text-justify: inter-ideograph"><font face="Calibri"><font style="font-size: 10.5pt">fileTexture _init with non-null parameter arguments</font></font></span></font></p>  <p class="MsoListParagraph" style="margin: 0cm 0cm 0pt 18pt; text-justify: inter-ideograph; line-height: normal; text-indent: -18pt; mso-char-indent-count: 0; mso-list: l0 level1 lfo1" align="justify"><font color="#000000"><span lang="EN-US" style="text-align: justify; text-justify: inter-ideograph; mso-fareast-font-family: calibri; mso-fareast-theme-font: minor-latin; mso-bidi-font-family: calibri; mso-bidi-theme-font: minor-latin"><span style="text-align: justify; text-justify: inter-ideograph; mso-list: ignore"><font face="Calibri"><font style="font-size: 10.5pt">3.</font></font><span style="font-family: ; text-align: justify; text-justify: inter-ideograph; line-height: normal"><font face="Times New Roman"><font style="font-size: 7pt">&#160;&#160;&#160;&#160;&#160;&#160; </font></font></span></span></span><span lang="EN-US" style="text-align: justify; text-justify: inter-ideograph"><font face="Calibri"><font style="font-size: 10.5pt">fileTexture itself with the same non-null parameter arguments</font></font></span></font></p>  <p class="MsoListParagraph" style="margin: 0cm 0cm 0pt 18pt; text-justify: inter-ideograph; line-height: normal; text-indent: -18pt; mso-char-indent-count: 0; mso-list: l0 level1 lfo1" align="justify"><font color="#000000"><span lang="EN-US" style="text-align: justify; text-justify: inter-ideograph; mso-fareast-font-family: calibri; mso-fareast-theme-font: minor-latin; mso-bidi-font-family: calibri; mso-bidi-theme-font: minor-latin"><span style="text-align: justify; text-justify: inter-ideograph; mso-list: ignore"><font face="Calibri"><font style="font-size: 10.5pt">4.</font></font><span style="font-family: ; text-align: justify; text-justify: inter-ideograph; line-height: normal"><font face="Times New Roman"><font style="font-size: 7pt">&#160;&#160;&#160;&#160;&#160;&#160; </font></font></span></span></span><span lang="EN-US" style="text-align: justify; text-justify: inter-ideograph"><font face="Calibri"><font style="font-size: 10.5pt">more calls to fileTexture with the same parameter arguments, and calls to other instances of fileTexture _init and fileTexture with different parameter arguments,</font></font></span></font></p>  <p class="MsoListParagraph" style="margin: 0cm 0cm 0pt 18pt; text-justify: inter-ideograph; line-height: normal; text-indent: -18pt; mso-char-indent-count: 0; mso-list: l0 level1 lfo1" align="justify"><font color="#000000"><span lang="EN-US" style="text-align: justify; text-justify: inter-ideograph; mso-fareast-font-family: calibri; mso-fareast-theme-font: minor-latin; mso-bidi-font-family: calibri; mso-bidi-theme-font: minor-latin"><span style="text-align: justify; text-justify: inter-ideograph; mso-list: ignore"><font face="Calibri"><font style="font-size: 10.5pt">5.</font></font><span style="font-family: ; text-align: justify; text-justify: inter-ideograph; line-height: normal"><font face="Times New Roman"><font style="font-size: 7pt">&#160;&#160;&#160;&#160;&#160;&#160; </font></font></span></span></span><span lang="EN-US" style="text-align: justify; text-justify: inter-ideograph"><font face="Calibri"><font style="font-size: 10.5pt">one fileTexture_exit with a non-null parameter arguments for each corresponding fileTexture_init</font></font></span></font></p>  <p class="MsoListParagraph" style="margin: 0cm 0cm 0pt 18pt; text-justify: inter-ideograph; line-height: normal; text-indent: -18pt; mso-char-indent-count: 0; mso-list: l0 level1 lfo1" align="justify"><font color="#000000"><span lang="EN-US" style="text-align: justify; text-justify: inter-ideograph; mso-fareast-font-family: calibri; mso-fareast-theme-font: minor-latin; mso-bidi-font-family: calibri; mso-bidi-theme-font: minor-latin"><span style="text-align: justify; text-justify: inter-ideograph; mso-list: ignore"><font face="Calibri"><font style="font-size: 10.5pt">6.</font></font><span style="font-family: ; text-align: justify; text-justify: inter-ideograph; line-height: normal"><font face="Times New Roman"><font style="font-size: 7pt">&#160;&#160;&#160;&#160;&#160;&#160; </font></font></span></span></span><span lang="EN-US" style="text-align: justify; text-justify: inter-ideograph"><font face="Calibri"><font style="font-size: 10.5pt">finally one fileTexture _exit with a null parameter arguments.</font></font></span></font></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-justify: inter-ideograph; line-height: normal" align="justify"><span lang="EN-US" style="text-align: justify; text-justify: inter-ideograph"><font face="Calibri"><font style="font-size: 10.5pt" color="#000000">&#160;</font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-justify: inter-ideograph; line-height: normal" align="justify"><span lang="EN-US" style="text-align: justify; text-justify: inter-ideograph"><font face="Calibri"><font style="font-size: 10.5pt" color="#000000">Like the Maya fileTexture sample, our shader node only passes the color through. But we don’t want to open and close the file every time our shader is called. So we need to load the file during the init and clean it up during the exit. We’ll create a user data struct to store necessary data.</font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-justify: inter-ideograph; line-height: normal" align="justify"><span lang="EN-US" style="text-align: justify; text-justify: inter-ideograph"><font face="Calibri"><font style="font-size: 10.5pt" color="#000000">&#160;</font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-justify: inter-ideograph; line-height: normal" align="justify"><span lang="EN-US" style="text-align: justify; text-justify: inter-ideograph"><font face="Calibri"><font style="font-size: 10.5pt" color="#000000">First is the version part:</font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Consolas"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><span style="mso-tab-count: 1"><font color="#000000"><font style="font-size: 9.5pt">&#160;&#160;&#160; </font></font></span></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font style="font-size: 9.5pt" color="#008000">// Version</font></span></font><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Consolas"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><span style="mso-tab-count: 1"><font color="#000000"><font style="font-size: 9.5pt">&#160;&#160;&#160; </font></font></span></span><font style="font-size: 9.5pt"><i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#6f008a">DLLEXPORT</font></span></i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000"> </font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#0000ff">int</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000"> </font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#880000">fileTexture_version</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">(</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#0000ff">void</font></span></font><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font style="font-size: 9.5pt" color="#000000">) {</font></span></font></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Consolas"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><span style="mso-tab-count: 2"><font color="#000000"><font style="font-size: 9.5pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></font></span></span><font style="font-size: 9.5pt"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#0000ff">return</font></span></font><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font style="font-size: 9.5pt" color="#000000">(1);</font></span></font></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-justify: inter-ideograph; line-height: normal" align="justify"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; text-align: justify; text-justify: inter-ideograph; mso-font-kerning: 0pt; mso-highlight: white"><font face="Consolas"><font color="#000000"><span style="text-align: justify; text-justify: inter-ideograph; mso-tab-count: 1"><font style="font-size: 9.5pt">&#160;&#160;&#160; </font></span><font style="font-size: 9.5pt">}</font></font></font></span><span lang="EN-US" style="text-align: justify; text-justify: inter-ideograph"></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-justify: inter-ideograph; line-height: normal" align="justify"><span lang="EN-US" style="text-align: justify; text-justify: inter-ideograph"><font face="Calibri"><font style="font-size: 10.5pt" color="#000000">It is very simple: just return the version number of this shader.</font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-justify: inter-ideograph; line-height: normal" align="justify"><span lang="EN-US" style="text-align: justify; text-justify: inter-ideograph"><font face="Calibri"><font style="font-size: 10.5pt" color="#000000">&#160;</font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-justify: inter-ideograph; line-height: normal" align="justify"><span lang="EN-US" style="text-align: justify; text-justify: inter-ideograph"><font face="Calibri"><font style="font-size: 10.5pt" color="#000000">Next, let’s define the input, output and user data.</font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Consolas"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><span style="mso-tab-count: 1"><font color="#000000"><font style="font-size: 9.5pt">&#160;&#160;&#160; </font></font></span></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font style="font-size: 9.5pt" color="#008000">// Define fileTexture input</font></span></font><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Consolas"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><span style="mso-tab-count: 1"><font color="#000000"><font style="font-size: 9.5pt">&#160;&#160;&#160; </font></font></span></span><font style="font-size: 9.5pt"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#0000ff">typedef</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000"> </font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#0000ff">struct</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000"> </font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#216f85">fileTexture_Paras</font></span></font><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font style="font-size: 9.5pt" color="#000000"> {</font></span></font></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Consolas"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><span style="mso-tab-count: 2"><font color="#000000"><font style="font-size: 9.5pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></font></span></span><font style="font-size: 9.5pt"><i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#216f85">miTag</font></span></i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000"> </font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">fileName</font></span></font><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font style="font-size: 9.5pt" color="#000000">;</font></span></font></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Consolas"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><span style="mso-tab-count: 2"><font color="#000000"><font style="font-size: 9.5pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></font></span></span><font style="font-size: 9.5pt"><i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#216f85">miVector</font></span></i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000"> </font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">uvCoord</font></span></font><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font style="font-size: 9.5pt" color="#000000">;</font></span></font></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Consolas"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000"><span style="mso-tab-count: 1"><font style="font-size: 9.5pt">&#160;&#160;&#160; </font></span><font style="font-size: 9.5pt">} </font></font></span><font style="font-size: 9.5pt"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#216f85">fileTexture_Paras</font></span></font><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font style="font-size: 9.5pt" color="#000000">;</font></span></font></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font face="Consolas"><font style="font-size: 9.5pt" color="#000000">&#160;</font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Consolas"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><span style="mso-tab-count: 1"><font color="#000000"><font style="font-size: 9.5pt">&#160;&#160;&#160; </font></font></span></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font style="font-size: 9.5pt" color="#008000">// Define fileTexture result</font></span></font><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Consolas"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><span style="mso-tab-count: 1"><font color="#000000"><font style="font-size: 9.5pt">&#160;&#160;&#160; </font></font></span></span><font style="font-size: 9.5pt"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#0000ff">typedef</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000"> </font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#0000ff">struct</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000"> </font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#216f85">fileTexture_Results</font></span></font><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font style="font-size: 9.5pt" color="#000000"> {</font></span></font></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Consolas"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><span style="mso-tab-count: 2"><font color="#000000"><font style="font-size: 9.5pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></font></span></span><font style="font-size: 9.5pt"><i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#216f85">miColor</font></span></i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000"> </font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">outColor</font></span></font><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font style="font-size: 9.5pt" color="#000000">;</font></span></font></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Consolas"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><span style="mso-tab-count: 2"><font color="#000000"><font style="font-size: 9.5pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></font></span></span><font style="font-size: 9.5pt"><i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#216f85">miScalar</font></span></i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000"> </font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">outAlpha</font></span></font><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font style="font-size: 9.5pt" color="#000000">;</font></span></font></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Consolas"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000"><span style="mso-tab-count: 1"><font style="font-size: 9.5pt">&#160;&#160;&#160; </font></span><font style="font-size: 9.5pt">} </font></font></span><font style="font-size: 9.5pt"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#216f85">fileTexture_Results</font></span></font><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font style="font-size: 9.5pt" color="#000000">;</font></span></font></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font face="Consolas"><font style="font-size: 9.5pt" color="#000000">&#160;</font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Consolas"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><span style="mso-tab-count: 1"><font color="#000000"><font style="font-size: 9.5pt">&#160;&#160;&#160; </font></font></span></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font style="font-size: 9.5pt" color="#008000">// Define userdata</font></span></font><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Consolas"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><span style="mso-tab-count: 1"><font color="#000000"><font style="font-size: 9.5pt">&#160;&#160;&#160; </font></font></span></span><font style="font-size: 9.5pt"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#0000ff">typedef</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000"> </font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#0000ff">struct</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000"> </font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#216f85">fileTexture_Userdata</font></span></font><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000"><font style="font-size: 9.5pt"><span style="mso-tab-count: 1"> </span>{</font></font></span></font></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Consolas"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><span style="mso-tab-count: 2"><font color="#000000"><font style="font-size: 9.5pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></font></span></span><font style="font-size: 9.5pt"><i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#216f85">miImg_file</font></span></i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><span style="mso-spacerun: yes"><font color="#000000">&#160;&#160; </font></span></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">ifp</font></span></font><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font style="font-size: 9.5pt" color="#000000">;</font></span></font></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Consolas"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><span style="mso-tab-count: 2"><font color="#000000"><font style="font-size: 9.5pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></font></span></span><font style="font-size: 9.5pt"><i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#216f85">miImg_image</font></span></i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000"> *</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">image</font></span></font><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font style="font-size: 9.5pt" color="#000000">;</font></span></font></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-justify: inter-ideograph; line-height: normal" align="justify"><font face="Consolas"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; text-align: justify; text-justify: inter-ideograph; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000"><span style="text-align: justify; text-justify: inter-ideograph; mso-tab-count: 1"><font style="font-size: 9.5pt">&#160;&#160;&#160; </font></span><font style="font-size: 9.5pt">} </font></font></span><font style="font-size: 9.5pt"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; text-align: justify; text-justify: inter-ideograph; mso-font-kerning: 0pt; mso-highlight: white"><font color="#216f85">fileTexture_Userdata</font></span></font><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; text-align: justify; text-justify: inter-ideograph; mso-font-kerning: 0pt; mso-highlight: white"><font style="font-size: 9.5pt" color="#000000">;</font></span></font><span lang="EN-US" style="text-align: justify; text-justify: inter-ideograph"></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-justify: inter-ideograph; line-height: normal" align="justify"><span lang="EN-US" style="text-align: justify; text-justify: inter-ideograph"><font face="Calibri"><font style="font-size: 10.5pt" color="#000000">&#160;</font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-justify: inter-ideograph; line-height: normal" align="justify"><span lang="EN-US" style="text-align: justify; text-justify: inter-ideograph"><font face="Calibri"><font style="font-size: 10.5pt" color="#000000">Pretty straight forward, huh? The only thing that needs to be explained here is the miTag. It works like the HANDLE of win32. You get the miTag and retrieve the data with corresponding function. We’ll see it later in the init code.</font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-justify: inter-ideograph; line-height: normal" align="justify"><span lang="EN-US" style="text-align: justify; text-justify: inter-ideograph"><font face="Calibri"><font style="font-size: 10.5pt" color="#000000">&#160;</font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-justify: inter-ideograph; line-height: normal" align="justify"><span lang="EN-US" style="text-align: justify; text-justify: inter-ideograph"><font face="Calibri"><font style="font-size: 10.5pt" color="#000000">The following is the init and cleanup functions. First, init:</font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-justify: inter-ideograph; line-height: normal" align="justify"><span lang="EN-US" style="text-align: justify; text-justify: inter-ideograph"><font face="Calibri"><font style="font-size: 10.5pt" color="#000000">&#160;</font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Consolas"><i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#6f008a"><font style="font-size: 9.5pt">DLLEXPORT</font></font></span></i><font style="font-size: 9.5pt"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000"> </font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#0000ff">void</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000"> </font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#880000">fileTexture_init</font></span></font><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font style="font-size: 9.5pt" color="#000000">(</font></span></font></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Consolas"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><span style="mso-spacerun: yes"><font color="#000000"><font style="font-size: 9.5pt">&#160; </font></font></span></span><font style="font-size: 9.5pt"><i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#216f85">miState</font></span></i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000"><span style="mso-spacerun: yes">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span>*</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">state</font></span></font><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font style="font-size: 9.5pt" color="#000000">, </font></span></font></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Consolas"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><span style="mso-spacerun: yes"><font color="#000000"><font style="font-size: 9.5pt">&#160; </font></font></span></span><font style="font-size: 9.5pt"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#0000ff">struct</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000"> </font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#216f85">fileTexture_Paras</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000"> *</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">paras</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">,<span style="mso-spacerun: yes">&#160;&#160;&#160;&#160; </span></font></span></font><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font style="font-size: 9.5pt"><font color="#008000">// </font><a style="name: ole_link2"></a></font><a style="name: ole_link1"><span style="mso-bookmark: ole_link2"><font style="font-size: 9.5pt" color="#008000"><font style="text-decoration: none">Our parameter</font></font></span></a></span></font><span style="mso-bookmark: ole_link2"></span><span style="mso-bookmark: ole_link1"></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Consolas"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><span style="mso-spacerun: yes"><font color="#000000"><font style="font-size: 9.5pt">&#160; </font></font></span></span><font style="font-size: 9.5pt"><i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#216f85">miBoolean</font></span></i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000"><span style="mso-spacerun: yes">&#160;&#160;&#160;&#160;&#160;&#160; </span>*</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">inst_req</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">)<span style="mso-spacerun: yes">&#160; </span></font></span></font><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font style="font-size: 9.5pt"><font color="#008000">// </font><a style="name: ole_link4"></a></font><a style="name: ole_link3"><span style="mso-bookmark: ole_link4"><font style="font-size: 9.5pt" color="#008000"><font style="text-decoration: none">need instance init?</font></font></span></a></span></font><span style="mso-bookmark: ole_link4"></span><span style="mso-bookmark: ole_link3"></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font face="Consolas"><font style="font-size: 9.5pt" color="#000000">{</font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Consolas"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><span style="mso-tab-count: 2"><font color="#000000"><font style="font-size: 9.5pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></font></span></span><font style="font-size: 9.5pt"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#0000ff">if</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000"> (!</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">paras</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">) {<span style="mso-spacerun: yes">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span></font></span></font><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font style="font-size: 9.5pt"><font color="#008000">// </font><a style="name: ole_link6"></a></font><a style="name: ole_link5"><span style="mso-bookmark: ole_link6"><font style="font-size: 9.5pt" color="#008000"><font style="text-decoration: none">first without paras</font></font></span></a></span></font><span style="mso-bookmark: ole_link6"></span><span style="mso-bookmark: ole_link5"></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Consolas"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000"><span style="mso-tab-count: 3"><font style="font-size: 9.5pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></span><font style="font-size: 9.5pt">*</font></font></span><font style="font-size: 9.5pt"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">inst_req</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000"> = </font></span><i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#6f008a">miTRUE</font></span></i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">; </font></span></font><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font style="font-size: 9.5pt"><font color="#008000">// </font><a style="name: ole_link8"></a></font><a style="name: ole_link7"><span style="mso-bookmark: ole_link8"><font style="font-size: 9.5pt" color="#008000"><font style="text-decoration: none">We have parameters for our instance, so we want instance init.</font></font></span></a></span></font><span style="mso-bookmark: ole_link7"><span style="mso-bookmark: ole_link8"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"></span></span></span></p> <span style="line-height: normal; mso-bookmark: ole_link8"></span><span style="line-height: normal; mso-bookmark: ole_link7"></span>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font face="Consolas"><font style="font-size: 9.5pt" color="#000000">&#160;</font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Consolas"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000"><span style="mso-tab-count: 2"><font style="font-size: 9.5pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></span><font style="font-size: 9.5pt">} </font></font></span><font style="font-size: 9.5pt"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#0000ff">else</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000"> {<span style="mso-spacerun: yes">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span></font></span></font></font><font style="font-size: 9.5pt"><a style="name: ole_link10"></a><a style="name: ole_link9"><span style="mso-bookmark: ole_link10"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#008000"><font style="text-decoration: none" face="Consolas">// para is not null, instance init.</font></font></span></span></a><span style="mso-bookmark: ole_link10"></span><span style="mso-bookmark: ole_link9"></span></font><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><span style="mso-tab-count: 3"><font face="Consolas"><font style="font-size: 9.5pt" color="#000000">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></font></span></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Consolas"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><span style="mso-tab-count: 3"><font color="#000000"><font style="font-size: 9.5pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></font></span></span><font style="font-size: 9.5pt"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#0000ff">void</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000"> **</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">user</font></span></font><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font style="font-size: 9.5pt" color="#000000">;</font></span></font></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Consolas"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><span style="mso-tab-count: 3"><font color="#000000"><font style="font-size: 9.5pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></font></span></span><font style="font-size: 9.5pt"><i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#216f85">miTag</font></span></i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000"> </font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">imageTag</font></span></font><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font style="font-size: 9.5pt" color="#000000"> = 0;</font></span></font></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Consolas"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><span style="mso-tab-count: 3"><font color="#000000"><font style="font-size: 9.5pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></font></span></span><font style="font-size: 9.5pt"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#216f85">fileTexture_Userdata</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000"> *</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">data</font></span></font><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font style="font-size: 9.5pt" color="#000000"> = 0;</font></span></font></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font face="Consolas"><font style="font-size: 9.5pt" color="#000000">&#160;</font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Consolas"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><span style="mso-tab-count: 3"><font color="#000000"><font style="font-size: 9.5pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></font></span></span><font style="font-size: 9.5pt"><i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#880000">mi_query</font></span></i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">(</font></span><i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#6f008a">miQ_FUNC_USERPTR</font></span></i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">, </font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">state</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">, 0, &amp;</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">user</font></span></font><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font style="font-size: 9.5pt" color="#000000">);</font></span></font></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Consolas"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000"><span style="mso-tab-count: 2"><font style="font-size: 9.5pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></span><font style="font-size: 9.5pt"><span style="mso-tab-count: 1">&#160;&#160;&#160; </span>*</font></font></span><font style="font-size: 9.5pt"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">user</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000"> = </font></span><i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#6f008a">mi_mem_allocate</font></span></i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">(</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#0000ff">sizeof</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">(</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#216f85">fileTexture_Userdata</font></span></font><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font style="font-size: 9.5pt" color="#000000">));</font></span></font></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Consolas"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><span style="mso-tab-count: 3"><font color="#000000"><font style="font-size: 9.5pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></font></span></span><font style="font-size: 9.5pt"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#0000ff">if</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">(*</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">user</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000"> != </font></span><i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#6f008a">NULL</font></span></i></font><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font style="font-size: 9.5pt" color="#000000">)</font></span></font></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font face="Consolas"><font color="#000000"><span style="mso-tab-count: 3"><font style="font-size: 9.5pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></span><font style="font-size: 9.5pt">{</font></font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Consolas"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><span style="mso-tab-count: 4"><font color="#000000"><font style="font-size: 9.5pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></font></span></span><font style="font-size: 9.5pt"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">data</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000"> = (</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#216f85">fileTexture_Userdata</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000"> *)*</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">user</font></span></font><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font style="font-size: 9.5pt" color="#000000">;</font></span></font></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font face="Consolas"><font style="font-size: 9.5pt" color="#000000">&#160;</font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Consolas"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><span style="mso-tab-count: 4"><font color="#000000"><font style="font-size: 9.5pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></font></span></span><font style="font-size: 9.5pt"><i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#880000">memset</font></span></i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">(</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">data</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">, 0, </font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#0000ff">sizeof</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">(</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#216f85">fileTexture_Userdata</font></span></font><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font style="font-size: 9.5pt" color="#000000">));</font></span></font></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Consolas"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><span style="mso-tab-count: 4"><font color="#000000"><font style="font-size: 9.5pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></font></span></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font style="font-size: 9.5pt" color="#008000">// Try to get image filename</font></span></font><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Consolas"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><span style="mso-tab-count: 4"><font color="#000000"><font style="font-size: 9.5pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></font></span></span><font style="font-size: 9.5pt"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">imageTag</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000"> = *</font></span><i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#6f008a">mi_eval_tag</font></span></i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">(&amp;</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">paras</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">-&gt;</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">fileName</font></span></font><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font style="font-size: 9.5pt" color="#000000">);</font></span></font></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Consolas"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><span style="mso-tab-count: 4"><font color="#000000"><font style="font-size: 9.5pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></font></span></span><font style="font-size: 9.5pt"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#0000ff">char</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000"> *</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">fileName</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000"> = (</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#0000ff">char</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">*)</font></span><i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#880000">mi_db_access</font></span></i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">(</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">imageTag</font></span></font><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font style="font-size: 9.5pt" color="#000000">);</font></span></font></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font face="Consolas"><font style="font-size: 9.5pt" color="#000000">&#160;</font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Consolas"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><span style="mso-tab-count: 4"><font color="#000000"><font style="font-size: 9.5pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></font></span></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font style="font-size: 9.5pt" color="#008000">// Open and read image.</font></span></font><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Consolas"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><span style="mso-tab-count: 4"><font color="#000000"><font style="font-size: 9.5pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></font></span></span><font style="font-size: 9.5pt"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#0000ff">if</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000"> (!(</font></span><i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#880000">mi_img_open</font></span></i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">(&amp;(</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">data</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">-&gt;</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">ifp</font></span></font><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font style="font-size: 9.5pt" color="#000000">),</font></span></font></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Consolas"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><span style="mso-tab-count: 5"><font color="#000000"><font style="font-size: 9.5pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></font></span></span><font style="font-size: 9.5pt"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">fileName</font></span></font><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font style="font-size: 9.5pt" color="#000000">,</font></span></font></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Consolas"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><span style="mso-tab-count: 5"><font color="#000000"><font style="font-size: 9.5pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></font></span></span><font style="font-size: 9.5pt"><i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#6f008a">miIMG_TYPE_RGBA</font></span></i></font><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font style="font-size: 9.5pt" color="#000000">)))</font></span></font></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Consolas"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><span style="mso-tab-count: 5"><font color="#000000"><font style="font-size: 9.5pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></font></span></span><font style="font-size: 9.5pt"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#0000ff">return</font></span></font><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font style="font-size: 9.5pt" color="#000000">;</font></span></font></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Consolas"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><span style="mso-tab-count: 4"><font color="#000000"><font style="font-size: 9.5pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></font></span></span><font style="font-size: 9.5pt"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#0000ff">if</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000"> (!(</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">data</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">-&gt;</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">image</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000"> = </font></span><i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#880000">mi_img_image_alloc</font></span></i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">(&amp;(</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">data</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">-&gt;</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">ifp</font></span></font><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font style="font-size: 9.5pt" color="#000000">)))) {</font></span></font></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Consolas"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><span style="mso-tab-count: 5"><font color="#000000"><font style="font-size: 9.5pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></font></span></span><font style="font-size: 9.5pt"><i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#880000">mi_img_close</font></span></i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">(&amp;(</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">data</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">-&gt;</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">ifp</font></span></font><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font style="font-size: 9.5pt" color="#000000">));</font></span></font></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Consolas"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><span style="mso-tab-count: 5"><font color="#000000"><font style="font-size: 9.5pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></font></span></span><font style="font-size: 9.5pt"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#0000ff">return</font></span></font><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font style="font-size: 9.5pt" color="#000000">;</font></span></font></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font face="Consolas"><font color="#000000"><span style="mso-tab-count: 4"><font style="font-size: 9.5pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></span><font style="font-size: 9.5pt">}</font></font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Consolas"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><span style="mso-tab-count: 4"><font color="#000000"><font style="font-size: 9.5pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></font></span></span><font style="font-size: 9.5pt"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#0000ff">if</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000"> (!(</font></span><i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#880000">mi_img_image_read</font></span></i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">(&amp;(</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">data</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">-&gt;</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">ifp</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">), </font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">data</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">-&gt;</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">image</font></span></font><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font style="font-size: 9.5pt" color="#000000">))) {</font></span></font></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Consolas"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><span style="mso-tab-count: 5"><font color="#000000"><font style="font-size: 9.5pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></font></span></span><font style="font-size: 9.5pt"><i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#6f008a">mi_mem_release</font></span></i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">(</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">data</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">-&gt;</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">image</font></span></font><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font style="font-size: 9.5pt" color="#000000">);</font></span></font></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Consolas"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><span style="mso-tab-count: 5"><font color="#000000"><font style="font-size: 9.5pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></font></span></span><font style="font-size: 9.5pt"><i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#880000">mi_img_close</font></span></i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">(&amp;(</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">data</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">-&gt;</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">ifp</font></span></font><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font style="font-size: 9.5pt" color="#000000">));</font></span></font></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Consolas"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><span style="mso-tab-count: 5"><font color="#000000"><font style="font-size: 9.5pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></font></span></span><font style="font-size: 9.5pt"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#0000ff">return</font></span></font><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font style="font-size: 9.5pt" color="#000000">;</font></span></font></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font face="Consolas"><font color="#000000"><span style="mso-tab-count: 4"><font style="font-size: 9.5pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></span><font style="font-size: 9.5pt">}</font></font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font face="Consolas"><font color="#000000"><span style="mso-tab-count: 3"><font style="font-size: 9.5pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></span><font style="font-size: 9.5pt">}</font></font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font face="Consolas"><font color="#000000"><span style="mso-tab-count: 2"><font style="font-size: 9.5pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></span><font style="font-size: 9.5pt">}</font></font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font face="Consolas"><font color="#000000"><span style="mso-tab-count: 1"><font style="font-size: 9.5pt">&#160;&#160;&#160; </font></span><font style="font-size: 9.5pt">}</font></font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-justify: inter-ideograph; line-height: normal" align="justify"><span lang="EN-US" style="text-align: justify; text-justify: inter-ideograph"><font face="Calibri"><font style="font-size: 10.5pt" color="#000000">&#160;</font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-justify: inter-ideograph; line-height: normal" align="justify"><span lang="EN-US" style="text-align: justify; text-justify: inter-ideograph"><font face="Calibri"><font style="font-size: 10.5pt" color="#000000">Mental Ray will first init with no parameters, and then after the inst_req is set to TRUE, it will call the init with parameters. So we can open the file during the second call. </font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-justify: inter-ideograph; line-height: normal" align="justify"><span lang="EN-US" style="text-align: justify; text-justify: inter-ideograph"><font face="Calibri"><font style="font-size: 10.5pt" color="#000000">&#160;</font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-justify: inter-ideograph; line-height: normal" align="justify"><span lang="EN-US" style="text-align: justify; text-justify: inter-ideograph"><font face="Calibri"><font style="font-size: 10.5pt" color="#000000">First, let’s create user data in this shader context.</font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Consolas"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><span style="mso-tab-count: 1"><font color="#000000"><font style="font-size: 9.5pt">&#160;&#160;&#160; </font></font></span></span><font style="font-size: 9.5pt"><i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#880000">mi_query</font></span></i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">(</font></span><i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#6f008a">miQ_FUNC_USERPTR</font></span></i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">, </font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">state</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">, 0, &amp;</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">user</font></span></font><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font style="font-size: 9.5pt" color="#000000">);</font></span></font></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Consolas"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000"><span style="mso-tab-count: 1"><font style="font-size: 9.5pt">&#160;&#160;&#160; </font></span><font style="font-size: 9.5pt">*</font></font></span><font style="font-size: 9.5pt"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">user</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000"> = </font></span><i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#6f008a">mi_mem_allocate</font></span></i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">(</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#0000ff">sizeof</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">(</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#216f85">fileTexture_Userdata</font></span></font><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font style="font-size: 9.5pt" color="#000000">));</font></span></font></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-justify: inter-ideograph; line-height: normal" align="justify"><span lang="EN-US" style="text-align: justify; text-justify: inter-ideograph"><font face="Calibri"><font style="font-size: 10.5pt" color="#000000">&#160;</font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-justify: inter-ideograph; line-height: normal" align="justify"><span lang="EN-US" style="text-align: justify; text-justify: inter-ideograph"><font face="Calibri"><font style="font-size: 10.5pt" color="#000000">If everything goes correctly, we’ll then try to get the filename with the miTag:</font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Consolas"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><span style="mso-tab-count: 4"><font color="#000000"><font style="font-size: 9.5pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></font></span></span><font style="font-size: 9.5pt"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">imageTag</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000"> = *</font></span><i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#6f008a">mi_eval_tag</font></span></i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">(&amp;</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">paras</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">-&gt;</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">fileName</font></span></font><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font style="font-size: 9.5pt" color="#000000">);</font></span></font></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Consolas"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><span style="mso-tab-count: 4"><font color="#000000"><font style="font-size: 9.5pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></font></span></span><font style="font-size: 9.5pt"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#0000ff">char</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000"> *</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">fileName</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000"> = (</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#0000ff">char</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">*)</font></span><i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#880000">mi_db_access</font></span></i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">(</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">imageTag</font></span></font><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font style="font-size: 9.5pt" color="#000000">);</font></span></font></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-justify: inter-ideograph; line-height: normal" align="justify"><span lang="EN-US" style="text-align: justify; text-justify: inter-ideograph"><font face="Calibri"><font style="font-size: 10.5pt" color="#000000">&#160;</font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-justify: inter-ideograph; line-height: normal" align="justify"><span lang="EN-US" style="text-align: justify; text-justify: inter-ideograph"><font face="Calibri"><font style="font-size: 10.5pt" color="#000000">The rest of the code is trying to load the image file. For more details, please reference to the Mental Ray manual. </font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-justify: inter-ideograph; line-height: normal" align="justify"><span lang="EN-US" style="text-align: justify; text-justify: inter-ideograph"><font face="Calibri"><font style="font-size: 10.5pt" color="#000000">&#160;</font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-justify: inter-ideograph; line-height: normal" align="justify"><span lang="EN-US" style="text-align: justify; text-justify: inter-ideograph"><font face="Calibri"><font style="font-size: 10.5pt" color="#000000">The cleanup code:</font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Consolas"><i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#6f008a"><font style="font-size: 9.5pt">DLLEXPORT</font></font></span></i><font style="font-size: 9.5pt"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000"> </font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#0000ff">void</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000"> </font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#880000">fileTexture_exit</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">(<span style="mso-spacerun: yes">&#160; </span></font></span><i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#216f85">miState</font></span></i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000"><span style="mso-spacerun: yes">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span>*</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">state</font></span></font><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000"><font style="font-size: 9.5pt">,</font><span style="mso-spacerun: yes"><font style="font-size: 9.5pt">&#160;&#160;&#160;&#160; </font></span></font></span></font></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Consolas"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000"><span style="mso-tab-count: 9"><font style="font-size: 9.5pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></span><font style="font-size: 9.5pt"><span style="mso-spacerun: yes">&#160; </span></font></font></span><font style="font-size: 9.5pt"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#0000ff">struct</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000"> </font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#2b91af">myshader</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000"> *</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">paras</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">)<span style="mso-spacerun: yes">&#160;&#160;&#160;&#160; </span></font></span></font><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font style="font-size: 9.5pt" color="#008000">// for instance </font></span></font><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font face="Consolas"><font color="#000000"><span style="mso-tab-count: 1"><font style="font-size: 9.5pt">&#160;&#160;&#160; </font></span><font style="font-size: 9.5pt">{</font></font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Consolas"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><span style="mso-tab-count: 2"><font color="#000000"><font style="font-size: 9.5pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></font></span></span><font style="font-size: 9.5pt"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#0000ff">if</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000"> (!</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">paras</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">) {<span style="mso-spacerun: yes">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span></font></span></font><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font style="font-size: 9.5pt" color="#008000">// the final step</font></span></font><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><span style="mso-tab-count: 3"><font face="Consolas"><font style="font-size: 9.5pt" color="#000000">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></font></span></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Consolas"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000"><span style="mso-tab-count: 2"><font style="font-size: 9.5pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></span><font style="font-size: 9.5pt">} </font></font></span><font style="font-size: 9.5pt"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#0000ff">else</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000"> {<span style="mso-spacerun: yes">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span></font></span></font><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font style="font-size: 9.5pt" color="#008000">// shader instance exit.</font></span></font><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Consolas"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><span style="mso-tab-count: 3"><font color="#000000"><font style="font-size: 9.5pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></font></span></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font style="font-size: 9.5pt" color="#008000">// Get user data and close the file</font></span></font><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Consolas"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><span style="mso-tab-count: 3"><font color="#000000"><font style="font-size: 9.5pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></font></span></span><font style="font-size: 9.5pt"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#0000ff">void</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000"> **</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">user</font></span></font><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000"><font style="font-size: 9.5pt">;</font><span style="mso-spacerun: yes"><font style="font-size: 9.5pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></span></font></span></font></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Consolas"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><span style="mso-tab-count: 3"><font color="#000000"><font style="font-size: 9.5pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></font></span></span><font style="font-size: 9.5pt"><i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#880000">mi_query</font></span></i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">(</font></span><i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#6f008a">miQ_FUNC_USERPTR</font></span></i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">, </font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">state</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">, 0, &amp;</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">user</font></span></font><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font style="font-size: 9.5pt" color="#000000">);</font></span></font></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Consolas"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><span style="mso-tab-count: 3"><font color="#000000"><font style="font-size: 9.5pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></font></span></span><font style="font-size: 9.5pt"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#0000ff">if</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">(*</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">user</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000"> != </font></span><i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#6f008a">NULL</font></span></i></font><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font style="font-size: 9.5pt" color="#000000">)</font></span></font></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font face="Consolas"><font color="#000000"><span style="mso-tab-count: 3"><font style="font-size: 9.5pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></span><font style="font-size: 9.5pt">{<span style="mso-tab-count: 2">&#160;&#160;&#160;&#160;&#160;&#160; </span></font><span style="mso-tab-count: 5"><font style="font-size: 9.5pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></span></font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Consolas"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><span style="mso-tab-count: 4"><font color="#000000"><font style="font-size: 9.5pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></font></span></span><font style="font-size: 9.5pt"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#216f85">fileTexture_Userdata</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">* </font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">data</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000"> = (</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#216f85">fileTexture_Userdata</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">*)*</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">user</font></span></font><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font style="font-size: 9.5pt" color="#000000">;</font></span></font></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Consolas"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><span style="mso-tab-count: 4"><font color="#000000"><font style="font-size: 9.5pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></font></span></span><font style="font-size: 9.5pt"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#0000ff">if</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">(</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">data</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">-&gt;</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">image</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000"> != </font></span><i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#6f008a">NULL</font></span></i></font><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font style="font-size: 9.5pt" color="#000000">)</font></span></font></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font face="Consolas"><font color="#000000"><span style="mso-tab-count: 4"><font style="font-size: 9.5pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></span><font style="font-size: 9.5pt">{</font></font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Consolas"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><span style="mso-tab-count: 5"><font color="#000000"><font style="font-size: 9.5pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></font></span></span><font style="font-size: 9.5pt"><i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#6f008a">mi_mem_release</font></span></i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">(</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">data</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">-&gt;</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">image</font></span></font><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font style="font-size: 9.5pt" color="#000000">);</font></span></font></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Consolas"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><span style="mso-tab-count: 5"><font color="#000000"><font style="font-size: 9.5pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></font></span></span><font style="font-size: 9.5pt"><i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#880000">mi_img_close</font></span></i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">(&amp;(</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">data</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">-&gt;</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">ifp</font></span></font><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font style="font-size: 9.5pt" color="#000000">));</font></span></font></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font face="Consolas"><font color="#000000"><span style="mso-tab-count: 4"><font style="font-size: 9.5pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></span><font style="font-size: 9.5pt">}</font><span style="mso-tab-count: 6"><font style="font-size: 9.5pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></span></font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Consolas"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><span style="mso-tab-count: 4"><font color="#000000"><font style="font-size: 9.5pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></font></span></span><font style="font-size: 9.5pt"><i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#6f008a">mi_mem_release</font></span></i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">(*</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">user</font></span></font><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000"><font style="font-size: 9.5pt">);</font><span style="mso-spacerun: yes"><font style="font-size: 9.5pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></span></font></span></font></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font face="Consolas"><font color="#000000"><span style="mso-tab-count: 3"><font style="font-size: 9.5pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></span><font style="font-size: 9.5pt">}</font></font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font face="Consolas"><font color="#000000"><span style="mso-tab-count: 2"><font style="font-size: 9.5pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></span><font style="font-size: 9.5pt">}</font></font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-justify: inter-ideograph; line-height: normal" align="justify"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; text-align: justify; text-justify: inter-ideograph; mso-font-kerning: 0pt; mso-highlight: white"><font face="Consolas"><font color="#000000"><span style="text-align: justify; text-justify: inter-ideograph; mso-tab-count: 1"><font style="font-size: 9.5pt">&#160;&#160;&#160; </font></span><font style="font-size: 9.5pt">}</font></font></font></span><span lang="EN-US" style="font-family: ; color: ; text-align: justify; text-justify: inter-ideograph; mso-font-kerning: 0pt"></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-justify: inter-ideograph; line-height: normal" align="justify"><span lang="EN-US" style="font-family: ; color: ; text-align: justify; text-justify: inter-ideograph; mso-font-kerning: 0pt"><font face="Consolas"><font style="font-size: 9.5pt" color="#000000">&#160;</font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-justify: inter-ideograph; line-height: normal" align="justify"><span lang="EN-US" style="text-align: justify; text-justify: inter-ideograph"><font face="Calibri"><font style="font-size: 10.5pt" color="#000000">Just check whether file is loaded properly and do the cleanup job.</font></font></span><span lang="EN-US" style="font-family: ; color: ; text-align: justify; text-justify: inter-ideograph; mso-font-kerning: 0pt"></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-justify: inter-ideograph; line-height: normal" align="justify"><span lang="EN-US" style="font-family: ; color: ; text-align: justify; text-justify: inter-ideograph; mso-font-kerning: 0pt"><font face="Consolas"><font style="font-size: 9.5pt" color="#000000">&#160;</font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-justify: inter-ideograph; line-height: normal" align="justify"><span lang="EN-US" style="text-align: justify; text-justify: inter-ideograph"><font face="Calibri"><font style="font-size: 10.5pt" color="#000000">Finally our fileTexture shader code.</font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-justify: inter-ideograph; line-height: normal" align="justify"><span lang="EN-US" style="text-align: justify; text-justify: inter-ideograph"><font face="Calibri"><font style="font-size: 10.5pt" color="#000000">&#160;</font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Consolas"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#0000ff"><font style="font-size: 9.5pt">#define</font></font></span><font style="font-size: 9.5pt"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000"> </font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#6f008a">MAYA_CONNECTED</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">(</font></span><i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">p</font></span></i></font><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font style="font-size: 9.5pt" color="#000000">) \</font></span></font></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Consolas"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000"><span style="mso-tab-count: 1"><font style="font-size: 9.5pt">&#160;&#160;&#160; </font></span><font style="font-size: 9.5pt">(</font></font></span><font style="font-size: 9.5pt"><i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#6f008a">mi_has_connections</font></span></i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">(</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">state</font></span></font><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font style="font-size: 9.5pt" color="#000000">) &amp;&amp; \</font></span></font></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-justify: inter-ideograph; line-height: normal" align="justify"><font face="Consolas"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; text-align: justify; text-justify: inter-ideograph; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000"><span style="text-align: justify; text-justify: inter-ideograph; mso-tab-count: 1"><font style="font-size: 9.5pt">&#160;&#160;&#160; </font></span><font style="font-size: 9.5pt">!</font></font></span><font style="font-size: 9.5pt"><i style="text-align: justify; text-justify: inter-ideograph"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; text-align: justify; text-justify: inter-ideograph; mso-font-kerning: 0pt; mso-highlight: white"><font color="#6f008a">mi_is_nonshader_tag</font></span></i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; text-align: justify; text-justify: inter-ideograph; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">(</font></span><i style="text-align: justify; text-justify: inter-ideograph"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; text-align: justify; text-justify: inter-ideograph; mso-font-kerning: 0pt; mso-highlight: white"><font color="#6f008a">mi_get_ghost</font></span></i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; text-align: justify; text-justify: inter-ideograph; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">(</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; text-align: justify; text-justify: inter-ideograph; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">state</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; text-align: justify; text-justify: inter-ideograph; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">,</font></span><i style="text-align: justify; text-justify: inter-ideograph"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; text-align: justify; text-justify: inter-ideograph; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">p</font></span></i></font><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; text-align: justify; text-justify: inter-ideograph; mso-font-kerning: 0pt; mso-highlight: white"><font style="font-size: 9.5pt" color="#000000">)))</font></span></font><span lang="EN-US" style="text-align: justify; text-justify: inter-ideograph"></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-justify: inter-ideograph; line-height: normal" align="justify"><span lang="EN-US" style="text-align: justify; text-justify: inter-ideograph"><font face="Calibri"><font style="font-size: 10.5pt" color="#000000">&#160;</font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Consolas"><i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#6f008a"><font style="font-size: 9.5pt">DLLEXPORT</font></font></span></i><font style="font-size: 9.5pt"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000"> </font></span><i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#216f85">miBoolean</font></span></i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000"> </font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#880000">fileTexture</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000"> ( </font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#216f85">fileTexture_Results</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000"> *</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">result</font></span></font><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font style="font-size: 9.5pt" color="#000000">,</font></span></font></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Consolas"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000"><span style="mso-tab-count: 9"><font style="font-size: 9.5pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></span><font style="font-size: 9.5pt"><span style="mso-spacerun: yes">&#160; </span></font></font></span><font style="font-size: 9.5pt"><i><span lang="FR" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white; mso-ansi-language: fr"><font color="#216f85">miState</font></span></i><span lang="FR" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white; mso-ansi-language: fr"><font color="#000000"><span style="mso-tab-count: 1">&#160;&#160; </span>*</font></span><span lang="FR" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white; mso-ansi-language: fr"><font color="#000080">state</font></span></font><span lang="FR" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white; mso-ansi-language: fr"><font style="font-size: 9.5pt" color="#000000">,</font></span></font></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Consolas"><span lang="FR" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white; mso-ansi-language: fr"><font color="#000000"><span style="mso-tab-count: 9"><font style="font-size: 9.5pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></span><font style="font-size: 9.5pt"><span style="mso-spacerun: yes">&#160; </span></font></font></span><font style="font-size: 9.5pt"><span lang="FR" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white; mso-ansi-language: fr"><font color="#216f85">fileTexture_Paras</font></span><span lang="FR" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white; mso-ansi-language: fr"><font color="#000000"> *</font></span><span lang="FR" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white; mso-ansi-language: fr"><font color="#000080">paras</font></span></font><span lang="FR" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white; mso-ansi-language: fr"><font style="font-size: 9.5pt" color="#000000">) {</font></span></font></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Consolas"><span lang="FR" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white; mso-ansi-language: fr"><span style="mso-tab-count: 3"><font color="#000000"><font style="font-size: 9.5pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></font></span></span><font style="font-size: 9.5pt"><i><span lang="FR" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white; mso-ansi-language: fr"><font color="#216f85">miImg_image</font></span></i><span lang="FR" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white; mso-ansi-language: fr"><font color="#000000"> *</font></span><span lang="FR" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white; mso-ansi-language: fr"><font color="#000080">image</font></span></font><span lang="FR" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white; mso-ansi-language: fr"><font style="font-size: 9.5pt" color="#000000"> = 0;</font></span></font></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Consolas"><span lang="FR" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white; mso-ansi-language: fr"><span style="mso-tab-count: 3"><font color="#000000"><font style="font-size: 9.5pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></font></span></span><font style="font-size: 9.5pt"><span lang="FR" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white; mso-ansi-language: fr"><font color="#0000ff">void</font></span><span lang="FR" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white; mso-ansi-language: fr"><font color="#000000"> **</font></span><span lang="FR" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white; mso-ansi-language: fr"><font color="#000080">user</font></span></font><span lang="FR" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white; mso-ansi-language: fr"><font style="font-size: 9.5pt" color="#000000">;</font></span></font></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Consolas"><span lang="FR" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white; mso-ansi-language: fr"><span style="mso-tab-count: 3"><font color="#000000"><font style="font-size: 9.5pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></font></span></span><font style="font-size: 9.5pt"><span lang="FR" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white; mso-ansi-language: fr"><font color="#216f85">fileTexture_Paras</font></span><span lang="FR" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white; mso-ansi-language: fr"><font color="#000000"> *</font></span><span lang="FR" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white; mso-ansi-language: fr"><font color="#000080">data</font></span></font><span lang="FR" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white; mso-ansi-language: fr"><font style="font-size: 9.5pt" color="#000000"> = 0;</font></span></font></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><span lang="FR" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white; mso-ansi-language: fr"><font face="Consolas"><font style="font-size: 9.5pt" color="#000000">&#160;</font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Consolas"><span lang="FR" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white; mso-ansi-language: fr"><span style="mso-tab-count: 3"><font color="#000000"><font style="font-size: 9.5pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></font></span></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font style="font-size: 9.5pt" color="#008000">// Get coord to read from image</font></span></font><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Consolas"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><span style="mso-tab-count: 3"><font color="#000000"><font style="font-size: 9.5pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></font></span></span><font style="font-size: 9.5pt"><i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#216f85">miVector</font></span></i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000"> </font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">coord</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000"> = (</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#6f008a">MAYA_CONNECTED</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">(&amp;</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">paras</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">-&gt;</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">uvCoord</font></span></font><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font style="font-size: 9.5pt" color="#000000">)) ?</font></span></font></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Consolas"><font color="#000000"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><span style="mso-tab-count: 4"><font style="font-size: 9.5pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></span></span><font style="font-size: 9.5pt"><span lang="FR" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white; mso-ansi-language: fr">*</span></font></font><font style="font-size: 9.5pt"><i><span lang="FR" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white; mso-ansi-language: fr"><font color="#6f008a">mi_eval_vector</font></span></i><span lang="FR" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white; mso-ansi-language: fr"><font color="#000000">(&amp;</font></span><span lang="FR" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white; mso-ansi-language: fr"><font color="#000080">paras</font></span><span lang="FR" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white; mso-ansi-language: fr"><font color="#000000">-&gt;</font></span><span lang="FR" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white; mso-ansi-language: fr"><font color="#000080">uvCoord</font></span></font><span lang="FR" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white; mso-ansi-language: fr"><font style="font-size: 9.5pt" color="#000000">) :</font></span></font></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Consolas"><span lang="FR" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white; mso-ansi-language: fr"><span style="mso-tab-count: 4"><font color="#000000"><font style="font-size: 9.5pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></font></span></span><font style="font-size: 9.5pt"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">state</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">-&gt;</font></span><i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">tex_list</font></span></i></font><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font style="font-size: 9.5pt" color="#000000">[0];</font></span></font></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font face="Consolas"><font style="font-size: 9.5pt" color="#000000">&#160;</font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Consolas"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><span style="mso-tab-count: 3"><font color="#000000"><font style="font-size: 9.5pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></font></span></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font style="font-size: 9.5pt" color="#008000">// Get user data</font></span></font><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Consolas"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><span style="mso-tab-count: 3"><font color="#000000"><font style="font-size: 9.5pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></font></span></span><font style="font-size: 9.5pt"><i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#880000">mi_query</font></span></i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">(</font></span><i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#6f008a">miQ_FUNC_USERPTR</font></span></i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">, </font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">state</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">, 0, &amp;</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">user</font></span></font><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font style="font-size: 9.5pt" color="#000000">);</font></span></font></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Consolas"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><span style="mso-tab-count: 3"><font color="#000000"><font style="font-size: 9.5pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></font></span></span><font style="font-size: 9.5pt"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#0000ff">if</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">(*</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">user</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000"> != </font></span><i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#6f008a">NULL</font></span></i></font><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font style="font-size: 9.5pt" color="#000000">)</font></span></font></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font face="Consolas"><font color="#000000"><span style="mso-tab-count: 3"><font style="font-size: 9.5pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></span><font style="font-size: 9.5pt">{</font></font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Consolas"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><span style="mso-tab-count: 4"><font color="#000000"><font style="font-size: 9.5pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></font></span></span><font style="font-size: 9.5pt"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#216f85">fileTexture_Userdata</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">* </font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">data</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000"> = (</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#216f85">fileTexture_Userdata</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">*)*</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">user</font></span></font><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font style="font-size: 9.5pt" color="#000000">;</font></span></font></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Consolas"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><span style="mso-tab-count: 4"><font color="#000000"><font style="font-size: 9.5pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></font></span></span><font style="font-size: 9.5pt"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">image</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000"> = </font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">data</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">-&gt;</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">image</font></span></font><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000"><font style="font-size: 9.5pt">;</font><span style="mso-tab-count: 4"><font style="font-size: 9.5pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></span></font></span></font></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Consolas"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><span style="mso-tab-count: 4"><font color="#000000"><font style="font-size: 9.5pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></font></span></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font style="font-size: 9.5pt" color="#008000">// If image opened successful, read image </font></span></font><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Consolas"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><span style="mso-tab-count: 4"><font color="#000000"><font style="font-size: 9.5pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></font></span></span><font style="font-size: 9.5pt"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#0000ff">if</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000"> (</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">image</font></span></font><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000"><font style="font-size: 9.5pt">)</font><span style="mso-tab-count: 4"><font style="font-size: 9.5pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></span></font></span></font></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font face="Consolas"><font color="#000000"><span style="mso-tab-count: 4"><font style="font-size: 9.5pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></span><font style="font-size: 9.5pt">{</font></font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Consolas"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><span style="mso-tab-count: 5"><font color="#000000"><font style="font-size: 9.5pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></font></span></span><font style="font-size: 9.5pt"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#0000ff">if</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000"> (</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">coord</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">.</font></span><i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">x</font></span></i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000"> &lt; 0.0f || </font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">coord</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">.</font></span><i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">x</font></span></i></font><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font style="font-size: 9.5pt" color="#000000"> &gt; 1.0f)</font></span></font></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Consolas"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><span style="mso-tab-count: 6"><font color="#000000"><font style="font-size: 9.5pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></font></span></span><font style="font-size: 9.5pt"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">coord</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">.</font></span><i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">x</font></span></i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000"> -= </font></span><i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#6f008a">floorf</font></span></i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">(</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">coord</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">.</font></span><i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">x</font></span></i></font><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font style="font-size: 9.5pt" color="#000000">);</font></span></font></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Consolas"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><span style="mso-tab-count: 5"><font color="#000000"><font style="font-size: 9.5pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></font></span></span><font style="font-size: 9.5pt"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#0000ff">if</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000"> (</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">coord</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">.</font></span><i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">y</font></span></i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000"> &lt; 0.0f || </font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">coord</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">.</font></span><i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">y</font></span></i></font><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font style="font-size: 9.5pt" color="#000000"> &gt; 1.0f)</font></span></font></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Consolas"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><span style="mso-tab-count: 6"><font color="#000000"><font style="font-size: 9.5pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></font></span></span><font style="font-size: 9.5pt"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">coord</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">.</font></span><i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">y</font></span></i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000"> -= </font></span><i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#6f008a">floorf</font></span></i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">(</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">coord</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">.</font></span><i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">y</font></span></i></font><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font style="font-size: 9.5pt" color="#000000">);</font></span></font></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Consolas"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><span style="mso-tab-count: 5"><font color="#000000"><font style="font-size: 9.5pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></font></span></span><font style="font-size: 9.5pt"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#0000ff">int</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000"> </font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">width</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000"> = </font></span><i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#880000">mi_img_get_width</font></span></i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">(</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">image</font></span></font><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font style="font-size: 9.5pt" color="#000000">);</font></span></font></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Consolas"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><span style="mso-tab-count: 5"><font color="#000000"><font style="font-size: 9.5pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></font></span></span><font style="font-size: 9.5pt"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#0000ff">int</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000"> </font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">height</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000"> = </font></span><i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#880000">mi_img_get_height</font></span></i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">(</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">image</font></span></font><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font style="font-size: 9.5pt" color="#000000">);</font></span></font></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font face="Consolas"><font style="font-size: 9.5pt" color="#000000">&#160;</font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Consolas"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><span style="mso-tab-count: 5"><font color="#000000"><font style="font-size: 9.5pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></font></span></span><font style="font-size: 9.5pt"><i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#880000">mi_img_get_color</font></span></i></font><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font style="font-size: 9.5pt" color="#000000">(</font></span></font></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Consolas"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><span style="mso-tab-count: 6"><font color="#000000"><font style="font-size: 9.5pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></font></span></span><font style="font-size: 9.5pt"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">image</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">, &amp;</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">result</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">-&gt;</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">outColor</font></span></font><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font style="font-size: 9.5pt" color="#000000">,</font></span></font></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Consolas"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000"><span style="mso-tab-count: 6"><font style="font-size: 9.5pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></span><font style="font-size: 9.5pt">(</font></font></span><font style="font-size: 9.5pt"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#0000ff">int</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">)(</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">width</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">*</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">coord</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">.</font></span><i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">x</font></span></i></font><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font style="font-size: 9.5pt" color="#000000">),</font></span></font></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Consolas"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000"><span style="mso-tab-count: 6"><font style="font-size: 9.5pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></span><font style="font-size: 9.5pt">(</font></font></span><font style="font-size: 9.5pt"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#0000ff">int</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">)(</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">height</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">*</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">coord</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">.</font></span><i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">y</font></span></i></font><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font style="font-size: 9.5pt" color="#000000">));</font></span></font></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font face="Consolas"><font style="font-size: 9.5pt" color="#000000">&#160;</font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Consolas"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><span style="mso-tab-count: 5"><font color="#000000"><font style="font-size: 9.5pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></font></span></span><font style="font-size: 9.5pt"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">result</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">-&gt;</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">outAlpha</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000"> = </font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">result</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">-&gt;</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">outColor</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">.</font></span><i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">a</font></span></i></font><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font style="font-size: 9.5pt" color="#000000">;</font></span></font></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font face="Consolas"><font style="font-size: 9.5pt" color="#000000">&#160;</font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Consolas"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><span style="mso-tab-count: 5"><font color="#000000"><font style="font-size: 9.5pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></font></span></span><font style="font-size: 9.5pt"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#0000ff">return</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000"> </font></span><i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#6f008a">miTRUE</font></span></i></font><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font style="font-size: 9.5pt" color="#000000">;</font></span></font></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font face="Consolas"><font color="#000000"><span style="mso-tab-count: 4"><font style="font-size: 9.5pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></span><font style="font-size: 9.5pt">}</font></font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font face="Consolas"><font color="#000000"><span style="mso-tab-count: 3"><font style="font-size: 9.5pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></span><font style="font-size: 9.5pt">}</font></font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font face="Consolas"><font style="font-size: 9.5pt" color="#000000">&#160;</font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Consolas"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><span style="mso-tab-count: 3"><font color="#000000"><font style="font-size: 9.5pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></font></span></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font style="font-size: 9.5pt" color="#008000">// Default routine, output black</font></span></font><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Consolas"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><span style="mso-tab-count: 3"><font color="#000000"><font style="font-size: 9.5pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></font></span></span><font style="font-size: 9.5pt"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">result</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">-&gt;</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">outColor</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">.</font></span><i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">a</font></span></i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000"> = </font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">result</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">-&gt;</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">outColor</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">.</font></span><i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">r</font></span></i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000"> = </font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">result</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">-&gt;</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">outColor</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">.</font></span><i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">g</font></span></i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000"> = </font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">result</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">-&gt;</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">outColor</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">.</font></span><i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">b</font></span></i></font><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font style="font-size: 9.5pt" color="#000000"> = 0.0f;</font></span></font></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Consolas"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><span style="mso-tab-count: 3"><font color="#000000"><font style="font-size: 9.5pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></font></span></span><font style="font-size: 9.5pt"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">result</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">-&gt;</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">outColor</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">.</font></span><i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">a</font></span></i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000"> = </font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">result</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">-&gt;</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">outAlpha</font></span></font><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font style="font-size: 9.5pt" color="#000000"> = 1.0f;</font></span></font></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Consolas"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><span style="mso-tab-count: 3"><font color="#000000"><font style="font-size: 9.5pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></font></span></span><font style="font-size: 9.5pt"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#0000ff">return</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000"> </font></span><i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#6f008a">miFALSE</font></span></i></font><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font style="font-size: 9.5pt" color="#000000">;</font></span></font></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-justify: inter-ideograph; line-height: normal" align="justify"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; text-align: justify; text-justify: inter-ideograph; mso-font-kerning: 0pt; mso-highlight: white"><font face="Consolas"><font color="#000000"><span style="text-align: justify; text-justify: inter-ideograph; mso-tab-count: 1"><font style="font-size: 9.5pt">&#160;&#160;&#160; </font></span><font style="font-size: 9.5pt">}</font></font></font></span><span lang="EN-US" style="text-align: justify; text-justify: inter-ideograph"></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font face="Consolas"><font style="font-size: 9.5pt" color="#000000">&#160;</font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><span lang="EN-US"><font face="Calibri"><font style="font-size: 10.5pt" color="#000000">First get the uv coordinate. We use the macro to decide which one should be use.</font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Consolas"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><span style="mso-tab-count: 3"><font color="#000000"><font style="font-size: 9.5pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></font></span></span><font style="font-size: 9.5pt"><i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#216f85">miVector</font></span></i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000"> </font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">coord</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000"> = (</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#6f008a">MAYA_CONNECTED</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">(&amp;</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">paras</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">-&gt;</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">uvCoord</font></span></font><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font style="font-size: 9.5pt" color="#000000">)) ?</font></span></font></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Consolas"><font color="#000000"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><span style="mso-tab-count: 4"><font style="font-size: 9.5pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></span></span><font style="font-size: 9.5pt"><span lang="FR" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white; mso-ansi-language: fr">*</span></font></font><font style="font-size: 9.5pt"><i><span lang="FR" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white; mso-ansi-language: fr"><font color="#6f008a">mi_eval_vector</font></span></i><span lang="FR" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white; mso-ansi-language: fr"><font color="#000000">(&amp;</font></span><span lang="FR" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white; mso-ansi-language: fr"><font color="#000080">paras</font></span><span lang="FR" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white; mso-ansi-language: fr"><font color="#000000">-&gt;</font></span><span lang="FR" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white; mso-ansi-language: fr"><font color="#000080">uvCoord</font></span></font><span lang="FR" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white; mso-ansi-language: fr"><font style="font-size: 9.5pt" color="#000000">) :</font></span></font></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Consolas"><span lang="FR" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white; mso-ansi-language: fr"><span style="mso-tab-count: 4"><font color="#000000"><font style="font-size: 9.5pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></font></span></span><font style="font-size: 9.5pt"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">state</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">-&gt;</font></span><i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">tex_list</font></span></i></font><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font style="font-size: 9.5pt" color="#000000">[0];</font></span></font></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-justify: inter-ideograph; line-height: normal" align="justify"><span lang="EN-US" style="text-align: justify; text-justify: inter-ideograph"><font face="Calibri"><font style="font-size: 10.5pt" color="#000000">&#160;</font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-justify: inter-ideograph; line-height: normal" align="justify"><span lang="EN-US" style="text-align: justify; text-justify: inter-ideograph"><font face="Calibri"><font style="font-size: 10.5pt" color="#000000">Then get the image file from the user data</font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Consolas"><i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#880000"><font style="font-size: 9.5pt">mi_query</font></font></span></i><font style="font-size: 9.5pt"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">(</font></span><i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#6f008a">miQ_FUNC_USERPTR</font></span></i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">, </font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">state</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">, 0, &amp;</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">user</font></span></font><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font style="font-size: 9.5pt" color="#000000">);</font></span></font></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Consolas"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><span style="mso-tab-count: 3"><font color="#000000"><font style="font-size: 9.5pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></font></span></span><font style="font-size: 9.5pt"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#0000ff">if</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">(*</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">user</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000"> != </font></span><i><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#6f008a">NULL</font></span></i></font><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font style="font-size: 9.5pt" color="#000000">)</font></span></font></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font face="Consolas"><font color="#000000"><span style="mso-tab-count: 3"><font style="font-size: 9.5pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></span><font style="font-size: 9.5pt">{</font></font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: normal; text-autospace: ; mso-layout-grid-align: none" align="left"><font face="Consolas"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><span style="mso-tab-count: 4"><font color="#000000"><font style="font-size: 9.5pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></font></span></span><font style="font-size: 9.5pt"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#216f85">fileTexture_Userdata</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">* </font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">data</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000"> = (</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#216f85">fileTexture_Userdata</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">*)*</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">user</font></span></font><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-highlight: white"><font style="font-size: 9.5pt" color="#000000">;</font></span></font></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-justify: inter-ideograph; line-height: normal" align="justify"><font face="Consolas"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; text-align: justify; text-justify: inter-ideograph; mso-font-kerning: 0pt; mso-highlight: white"><span style="text-align: justify; text-justify: inter-ideograph; mso-tab-count: 4"><font color="#000000"><font style="font-size: 9.5pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></font></span></span><font style="font-size: 9.5pt"><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; text-align: justify; text-justify: inter-ideograph; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">image</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; text-align: justify; text-justify: inter-ideograph; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000"> = </font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; text-align: justify; text-justify: inter-ideograph; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">data</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; text-align: justify; text-justify: inter-ideograph; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000">-&gt;</font></span><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; text-align: justify; text-justify: inter-ideograph; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000080">image</font></span></font><span lang="EN-US" style="font-family: ; background-image: none; background-repeat: repeat; background-attachment: scroll; background-position: 0% 0%; color: ; text-align: justify; text-justify: inter-ideograph; mso-font-kerning: 0pt; mso-highlight: white"><font color="#000000"><font style="font-size: 9.5pt">;</font><span style="text-align: justify; text-justify: inter-ideograph; mso-tab-count: 4"><font style="font-size: 9.5pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></span></font></span></font><span lang="EN-US" style="font-family: ; color: ; text-align: justify; text-justify: inter-ideograph; mso-font-kerning: 0pt"></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-justify: inter-ideograph; line-height: normal" align="justify"><span lang="EN-US" style="text-align: justify; text-justify: inter-ideograph"><font face="Calibri"><font style="font-size: 10.5pt" color="#000000">&#160;</font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-justify: inter-ideograph; line-height: normal" align="justify"><span lang="EN-US" style="text-align: justify; text-justify: inter-ideograph"><font face="Calibri"><font style="font-size: 10.5pt" color="#000000">The rest of the code is pretty much as the same as the fileTexture::compute, you will read the color from image and output.</font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-justify: inter-ideograph; line-height: normal" align="justify"><span lang="EN-US" style="text-align: justify; text-justify: inter-ideograph"><font face="Calibri"><font style="font-size: 10.5pt" color="#000000">&#160;</font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-justify: inter-ideograph; line-height: normal" align="justify"><span lang="EN-US" style="text-align: justify; text-justify: inter-ideograph"><font face="Calibri"><font style="font-size: 10.5pt" color="#000000">Compile it and put the mi and dll file to the Mental Ray folder, and your fileTexture can be rendered in both the Viewport and Mental Ray now. </font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-justify: inter-ideograph; line-height: normal" align="justify"><span lang="EN-US" style="text-align: justify; text-justify: inter-ideograph"><font color="#000000" face="Calibri"></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-justify: inter-ideograph; line-height: normal" align="justify"><span lang="EN-US" style="text-align: justify; text-justify: inter-ideograph"><font color="#000000" face="Calibri">You can get the source code from my github: <a title="https://github.com/iamsleepy/fileTextureMentalRay" href="https://github.com/iamsleepy/fileTextureMentalRay">https://github.com/iamsleepy/fileTextureMentalRay</a></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-justify: inter-ideograph; line-height: normal" align="justify"><span lang="EN-US" style="text-align: justify; text-justify: inter-ideograph"><font face="Calibri"><font style="font-size: 10.5pt" color="#000000">&#160;</font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-justify: inter-ideograph; line-height: normal" align="justify"><span lang="EN-US" style="text-align: justify; text-justify: inter-ideograph"><font face="Calibri"><font style="font-size: 10.5pt" color="#000000">If your plug-in is loaded after your Mental Ray shader, you’ll need to create a mel script for loading it properly. You can find it in the “Relate Maya custom shaders to Mental Ray for Maya custom shaders” on our website.</font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-justify: inter-ideograph; line-height: normal" align="justify"><span lang="EN-US" style="text-align: justify; text-justify: inter-ideograph"><font color="#000000" face="Calibri"></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-justify: inter-ideograph; line-height: normal" align="justify"><span lang="EN-US" style="text-align: justify; text-justify: inter-ideograph"><font face="Calibri"><font style="font-size: 10.5pt" color="#000000">&#160;</font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-justify: inter-ideograph; line-height: normal" align="justify"><span lang="EN-US" style="text-align: justify; text-justify: inter-ideograph"><font face="Calibri"><font style="font-size: 10.5pt" color="#000000">References:</font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-justify: inter-ideograph; line-height: normal" align="justify"><span lang="EN-US" style="text-align: justify; text-justify: inter-ideograph"><font face="Calibri"><font style="font-size: 10.5pt" color="#000000">Relate Maya custom shaders to Mental Ray for Maya custom shaders: </font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-justify: inter-ideograph; line-height: normal" align="justify"><span lang="EN-US" style="text-align: justify; text-justify: inter-ideograph"><a style="text-align: justify; text-justify: inter-ideograph" href="http://help.autodesk.com/view/MAYAUL/2015/ENU/?guid=GUID-0966E345-CA9E-4C6D-B17A-0D0DA186A2A0"><font color="#0000ff" face="Calibri"><font style="font-size: 10.5pt">http://help.autodesk.com/view/MAYAUL/2015/ENU/?guid=GUID-0966E345-CA9E-4C6D-B17A-0D0DA186A2A0</font></font></a><font face="Calibri"><font style="font-size: 10.5pt" color="#000000"> </font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-justify: inter-ideograph; line-height: normal" align="justify"><span lang="EN-US" style="text-align: justify; text-justify: inter-ideograph"><font face="Calibri"><font style="font-size: 10.5pt" color="#000000">Mental Ray standalone manual: </font></font></span></p>  <p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-justify: inter-ideograph; line-height: normal" align="justify"><span lang="EN-US" style="text-align: justify; text-justify: inter-ideograph"><a style="text-align: justify; text-justify: inter-ideograph" href="http://docs.autodesk.com/MENTALRAY/2015/ENU/mental-ray-help/"><font color="#0000ff" face="Calibri"><font style="font-size: 10.5pt">http://docs.autodesk.com/MENTALRAY/2015/ENU/mental-ray-help/</font></font></a><font face="Calibri"><font style="font-size: 10.5pt" color="#000000"> </font></font></span></p>
