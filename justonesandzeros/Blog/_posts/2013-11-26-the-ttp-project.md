---
layout: "post"
title: "The TTP Project"
date: "2013-11-26 16:39:45"
author: "Doug Redmond"
categories:
  - "PLM 360"
  - "Sample Applications"
original_url: "https://justonesandzeros.typepad.com/blog/2013/11/the-ttp-project.html "
typepad_basename: "the-ttp-project"
typepad_status: "Publish"
---

<p><img alt="" src="/assets/PLM4.png" /> <br /><img alt="" src="/assets/SampleApp4.png" /></p>
<p><strong>Update:</strong>&#0160; A <a href="http://justonesandzeros.typepad.com/blog/2014/03/the-ttp-project-update-1.html" target="_self">new version</a> is out.&#0160; Many cool new featues.</p>
<p>There is a belief among cloud evangelists that the web interface is going to completely dominate all software.&#0160; In the future, we will all be using the web browsers for everything.&#0160; I, for one, hope that day never comes.&#0160; There is something I just like about the feel of a desktop app.&#0160; I’m used to things like right-clicking, drag-and-drop, keyboard shortcuts.&#0160; The desktop app is something I’ve missed since moving to the PLM 360 team.&#0160; With that in mind I decided to create (<em>dun-dun-DUNNNN</em>) <strong>The TTP Project</strong>.</p>
<p><img alt="" src="/assets/MainScreen.png" /></p>
<p>Actually, a working desktop app was a secondary goal of mine, one which I didn’t quite achieve.&#0160; Although the app works, it’s not something an end user would find useful in it’s current state.&#0160; Maybe that will change in the future.</p>
<p>My main goal was to come up with a <strong>prototype SDK library</strong> for the PLM REST API.&#0160; That goal came out much better.&#0160; The PLM360Utils project has some goodies for .NET developers.&#0160; For example, with a few lines of code, you can completely bypass steps 1-7 of the <a href="http://help.autodesk.com/view/PLM/ENU/?url=/cloudhelp/ENU/PLM-360-REST-APIv2/files/GUID-1F1639DF-F8A6-45EE-885F-950C29FF1DBE.htm" target="_blank">Authentication process</a>.&#0160; The DLL does all the OAuth stuff for you so that you don’t have to.&#0160; Other features include wrappers for some REST calls and an easy mechanism for defining wrappers that I didn’t include.</p>
<p>Keep in mind this isn’t an official library or anything.&#0160; It’s just something I’m playing around with.&#0160; So let me know what you think.</p>
<hr noshade="noshade" style="color: #013181;" />
<p>Requirements:</p>
<ul>
<li>PLM 360</li>
<li>Windows OS</li>
<li>.NET 4.5</li>
</ul>
<p><a href="http://justonesandzeros.typepad.com/Apps/TTP/TheTTPProject-1.0.1.0-bin.zip">Click here to download the application</a> <br /><a href="http://justonesandzeros.typepad.com/Apps/TTP/TheTTPProject-1.0.1.0-src.zip">Click here to download the source code</a></p>
<p><span style="font-size: xx-small;">As with all the samples on this site, the </span><a href="http://justonesandzeros.typepad.com/blog/disclaimer.html"><span style="font-size: xx-small;">legal disclaimer</span></a><span style="font-size: xx-small;"> applies. </span></p>
<hr noshade="noshade" style="color: #013181;" />
<p>To use:</p>
<ul>
<li>Download, install and run</li>
<li>Go to Edit-&gt;Settings to set the PLM 360 site you want to work with.</li>
<li>Go to File-&gt;Login to log in to PLM 360.</li>
<li>Browse a workspace by clicking on the workspace name on the left pane.</li>
<li>Add or edit an item by running the commands under the Edit menu.</li>
</ul>
<p>&#0160;</p>
<p><img alt="" src="/assets/EditWindow.png" /></p>
<hr noshade="noshade" style="color: #013181;" />
<p>For .NET developers, here are some highlights from the PLM360Utils.</p>
<p>You can log in with just a few lines of code... <br /><span style="font-family: Consolas;"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-highlight: white;"><span style="color: #2b91af;"><span style="font-size: 9pt;">LoginSettings</span></span></span><span style="font-size: 9pt;"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-highlight: white;"><span style="color: #000000;"> settings = </span></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-highlight: white;"><span style="color: #0000ff;">new </span></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-highlight: white;"><span style="color: #2b91af;">LoginSettings</span></span></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-highlight: white;"><span style="font-size: 9pt; color: #000000;">( <br />&#0160;&#0160; clientId, plmUri, oxygenConsumerKey); <br /></span></span></span><span style="font-family: Consolas;"><span style="background-image: none; line-height: 10pt; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-highlight: white; mso-fareast-font-family: calibri; mso-fareast-theme-font: minor-latin; mso-ansi-language: en-us; mso-fareast-language: en-us; mso-bidi-language: ar-sa;"><span style="color: #000000;"><span style="font-size: 9pt;">m_conn = PLM360Utils.</span></span></span><span style="font-size: 9pt;"><span style="background-image: none; line-height: 10pt; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-highlight: white; mso-fareast-font-family: calibri; mso-fareast-theme-font: minor-latin; mso-ansi-language: en-us; mso-fareast-language: en-us; mso-bidi-language: ar-sa;"><span style="color: #2b91af;">Library</span></span></span><span style="background-image: none; line-height: 10pt; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-highlight: white; mso-fareast-font-family: calibri; mso-fareast-theme-font: minor-latin; mso-ansi-language: en-us; mso-fareast-language: en-us; mso-bidi-language: ar-sa;"><span style="font-size: 9pt; color: #000000;">.Login(settings);</span></span></span></p>
<p>The library will pop up UI to the user that takes them to the Autodesk single-sign-on page.</p>
<p><img alt="" src="/assets/loginScreen.png" /></p>
<p>&#0160;</p>
<p>If the login succeeds, you get back a Connection object.&#0160; Connections are mainly for running Operations.&#0160; Each Operation object represents a single REST API call.&#0160; Here is an example.</p>
<p><span style="font-family: Consolas;"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-highlight: white;"><span style="color: #2b91af;"><span style="font-size: 9pt;">GetWorkspaceCollection</span></span></span><span style="font-size: 9pt;"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-highlight: white;"><span style="color: #000000;"> operation = </span></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-highlight: white;"><span style="color: #0000ff;">new </span></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-highlight: white;"><span style="color: #2b91af;">GetWorkspaceCollection</span></span></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-highlight: white;"><span style="font-size: 9pt; color: #000000;">();<br /></span></span></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-highlight: white;"><span style="font-family: Consolas;"><span style="font-size: 9pt; color: #000000;">m_conn.RunOperation(operation);<br /></span></span></span><span style="font-family: Consolas;"><span style="background-image: none; line-height: 10pt; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-highlight: white; mso-fareast-font-family: calibri; mso-fareast-theme-font: minor-latin; mso-ansi-language: en-us; mso-fareast-language: en-us; mso-bidi-language: ar-sa;"><span style="color: #2b91af;"><span style="font-size: 9pt;">PagedCollection</span></span></span><span style="font-size: 9pt;"><span style="background-image: none; line-height: 10pt; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-highlight: white; mso-fareast-font-family: calibri; mso-fareast-theme-font: minor-latin; mso-ansi-language: en-us; mso-fareast-language: en-us; mso-bidi-language: ar-sa;"><span style="color: #000000;">&lt;</span></span><span style="background-image: none; line-height: 10pt; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-highlight: white; mso-fareast-font-family: calibri; mso-fareast-theme-font: minor-latin; mso-ansi-language: en-us; mso-fareast-language: en-us; mso-bidi-language: ar-sa;"><span style="color: #2b91af;">Workspace</span></span></span><span style="background-image: none; line-height: 10pt; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-highlight: white; mso-fareast-font-family: calibri; mso-fareast-theme-font: minor-latin; mso-ansi-language: en-us; mso-fareast-language: en-us; mso-bidi-language: ar-sa;"><span style="font-size: 9pt; color: #000000;">&gt; workspaces = operation.OutputPayload;</span></span></span></p>
<p>PagedCollection and Workspace are Payload objects.&#0160; PLM360Utils takes care of the JSON serialization.&#0160;</p>
<p>&#0160;</p>
<p>If you want to use a REST endpoint that doesn’t yet have an Operation object, you can easily create your own.&#0160; Just follow the pattern from the existing classes.&#0160; For example, here is the entire Operation class for updating an item.</p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt; mso-layout-grid-align: none;"><span style="font-family: Consolas;"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-highlight: white;"><span style="color: #0000ff;"><span style="font-size: 9pt;">public</span></span></span><span style="font-size: 9pt;"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-highlight: white;"><span style="color: #0000ff;">class</span></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-highlight: white;"><span style="color: #2b91af;">UpdateWorkspaceItem</span></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-highlight: white;"><span style="color: #000000;"> : </span></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-highlight: white;"><span style="color: #2b91af;">Operation</span></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-highlight: white;"><span style="color: #000000;">&lt;</span></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-highlight: white;"><span style="color: #2b91af;">ItemDetail</span></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-highlight: white;"><span style="color: #000000;">, </span></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-highlight: white;"><span style="color: #2b91af;">ItemDetail</span></span></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-highlight: white;"><span style="font-size: 9pt; color: #000000;">&gt;</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt; mso-layout-grid-align: none;"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-highlight: white;"><span style="font-family: Consolas;"><span style="font-size: 9pt; color: #000000;">{</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt; mso-layout-grid-align: none;"><span style="font-family: Consolas;"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-highlight: white;"><span style="mso-spacerun: yes;"><span style="color: #000000;"><span style="font-size: 9pt;">&#0160;&#0160;&#0160; </span></span></span></span><span style="font-size: 9pt;"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-highlight: white;"><span style="color: #0000ff;">public</span></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-highlight: white;"><span style="color: #000000;"> UpdateWorkspaceItem(</span></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-highlight: white;"><span style="color: #0000ff;">long</span></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-highlight: white;"><span style="color: #000000;"> workspaceId, </span></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-highlight: white;"><span style="color: #0000ff;">long</span></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-highlight: white;"><span style="color: #000000;"> itemId, </span></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-highlight: white;"><span style="color: #2b91af;">ItemDetail</span></span></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-highlight: white;"><span style="font-size: 9pt; color: #000000;"> update)</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt; mso-layout-grid-align: none;"><span style="font-family: Consolas;"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-highlight: white;"><span style="color: #000000;"><span style="mso-spacerun: yes;"><span style="font-size: 9pt;">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160; </span></span><span style="font-size: 9pt;">: </span></span></span><span style="font-size: 9pt;"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-highlight: white;"><span style="color: #0000ff;">base</span></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-highlight: white;"><span style="color: #000000;">(</span></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-highlight: white;"><span style="color: #2b91af;">HttpMethod</span></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-highlight: white;"><span style="color: #000000;">.Put, </span></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-highlight: white;"><span style="color: #0000ff;">string</span></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-highlight: white;"><span style="color: #000000;">.Format( <br />&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160; </span></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-highlight: white;"><span style="color: #a31515;">&quot;/api/v2/workspaces/{0}/items/{1}&quot;</span></span></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-highlight: white;"><span style="font-size: 9pt; color: #000000;">, <br />&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160; workspaceId, itemId), update)</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt; mso-layout-grid-align: none;"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-highlight: white;"><span style="font-family: Consolas;"><span style="color: #000000;"><span style="mso-spacerun: yes;"><span style="font-size: 9pt;">&#0160;&#0160;&#0160; </span></span><span style="font-size: 9pt;">{<span style="mso-spacerun: yes;">&#0160;&#0160; </span>}</span></span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt; mso-layout-grid-align: none;"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-highlight: white;"><span style="font-family: Consolas;"><span style="font-size: 9pt; color: #000000;">&#0160;</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt; mso-layout-grid-align: none;"><span style="font-family: Consolas;"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-highlight: white;"><span style="mso-spacerun: yes;"><span style="color: #000000;"><span style="font-size: 9pt;">&#0160;&#0160;&#0160; </span></span></span></span><span style="font-size: 9pt;"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-highlight: white;"><span style="color: #0000ff;">public</span></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-highlight: white;"><span style="color: #000000;"> UpdateWorkspaceItem(</span></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-highlight: white;"><span style="color: #2b91af;">Uri</span></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-highlight: white;"><span style="color: #000000;"> fullUri, </span></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-highlight: white;"><span style="color: #2b91af;">ItemDetail</span></span></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-highlight: white;"><span style="font-size: 9pt; color: #000000;"> update)</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt; mso-layout-grid-align: none;"><span style="font-family: Consolas;"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-highlight: white;"><span style="color: #000000;"><span style="mso-spacerun: yes;"><span style="font-size: 9pt;">&#0160;&#0160;&#0160;&#0160;&#0160;&#0160;&#0160; </span></span><span style="font-size: 9pt;">: </span></span></span><span style="font-size: 9pt;"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-highlight: white;"><span style="color: #0000ff;">base</span></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-highlight: white;"><span style="color: #000000;">(</span></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-highlight: white;"><span style="color: #2b91af;">HttpMethod</span></span></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-highlight: white;"><span style="font-size: 9pt; color: #000000;">.Put, fullUri, update)</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt; mso-layout-grid-align: none;"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-highlight: white;"><span style="font-family: Consolas;"><span style="color: #000000;"><span style="mso-spacerun: yes;"><span style="font-size: 9pt;">&#0160;&#0160;&#0160; </span></span><span style="font-size: 9pt;">{ }</span></span></span></span></p>
<p><span style="background-image: none; line-height: 10pt; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%; mso-highlight: white; mso-fareast-font-family: calibri; mso-fareast-theme-font: minor-latin; mso-ansi-language: en-us; mso-fareast-language: en-us; mso-bidi-language: ar-sa;"><span style="font-family: Consolas;"><span style="font-size: 9pt; color: #000000;">}</span></span></span></p>
<p>There is not much code because the Operation base class does most of the work.&#0160; The subclass just has to define things like the input type, the output type, the http verb and the URL.</p>
<p>&#0160;</p>
<p>Complex REST calls, like ones that involve binary data, are not yet supported by PLM360Utils.&#0160; So you will have to get the HttpClient from the Connection and make the REST calls directly.</p>
<hr noshade="noshade" style="color: #013181;" />
