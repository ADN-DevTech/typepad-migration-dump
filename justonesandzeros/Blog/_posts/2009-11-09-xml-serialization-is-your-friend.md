---
layout: "post"
title: "XML Serialization is Your Friend"
date: "2009-11-09 08:20:15"
author: "Doug Redmond"
categories:
  - "Tips and Tricks"
original_url: "https://justonesandzeros.typepad.com/blog/2009/11/xml-serialization-is-your-friend.html "
typepad_basename: "xml-serialization-is-your-friend"
typepad_status: "Publish"
---

<p><img src="/assets/TipsAndTricks2.png" /> </p>
<p>One thing you might not be aware of is that all the API classes are XML Serializable.&#0160; This means that it’s very easy to convert on object to XML text and vice versa.&#0160; </p>
<p>There many uses for this feature.&#0160; For example…</p>
<ul>
<li>It can help you in debugging.&#0160; If you have a large object with lots of data, it’s sometimes helpful to have an XML view of that object.&#0160; Have a look at this <a href="http://justonesandzeros.typepad.com/Files/flex.xml.html" target="_blank">example file</a> of a LfCycDef object. 
<li>If you are logging a case with ADN, you can include serialized objects as part of your problem description. 
<li>Store information for later use.&#0160; Just keep in mind that the class might change in the next release. 
<li>Use it as a way to check if things have been changed.&#0160; For example, you&#0160;may write&#0160;a program that requires a very specific lifecycle setup.&#0160; You want your program to detect if somebody comes along and tampers with the settings.&#0160; You can easily perform that check by serializing to XML.</li>
</li></li></li></ul>
<p>Here is some sample code to go along with my last example.</p>
<p>C#:</p>
<table border="1" cellpadding="1" cellspacing="0" width="450">
<tbody>
<tr>
<td valign="top" width="450">
<p><span style="FONT-SIZE: 10pt; COLOR: blue; FONT-FAMILY: &#39;Courier New&#39;; mso-no-proof: yes">private</span><span style="FONT-SIZE: 10pt; FONT-FAMILY: &#39;Courier New&#39;; mso-no-proof: yes"> <span style="COLOR: blue">bool</span> DidItChange(<span style="COLOR: #2b91af">LfCycDef</span> def) <br /></span><span style="FONT-SIZE: 10pt; FONT-FAMILY: &#39;Courier New&#39;; mso-no-proof: yes">{&#0160; <br /></span><span style="FONT-SIZE: 10pt; FONT-FAMILY: &#39;Courier New&#39;; mso-no-proof: yes"><span style="mso-spacerun: yes">&#0160;&#0160;&#0160; </span><span style="COLOR: green">// serialize the object&#0160; <br /></span></span><span style="FONT-SIZE: 10pt; FONT-FAMILY: &#39;Courier New&#39;; mso-no-proof: yes"><span style="mso-spacerun: yes">&#0160;&#0160;&#0160; </span><span style="COLOR: #2b91af">StringBuilder</span> currentXML = <span style="COLOR: blue">new</span> <span style="COLOR: #2b91af">StringBuilder</span>();&#0160; <br /></span><span style="FONT-SIZE: 10pt; FONT-FAMILY: &#39;Courier New&#39;; mso-no-proof: yes"><span style="mso-spacerun: yes">&#0160;&#0160;&#0160; </span><span style="COLOR: #2b91af">XmlSerializer</span> serializer = <span style="COLOR: blue">new</span> <span style="COLOR: #2b91af">XmlSerializer</span>(<span style="COLOR: blue">typeof</span>(DocEx.<span style="COLOR: #2b91af">LfCycDef</span>));&#0160; <br /></span><span style="FONT-SIZE: 10pt; FONT-FAMILY: &#39;Courier New&#39;; mso-no-proof: yes"><span style="mso-spacerun: yes"></span></span></p>
<p><span style="FONT-SIZE: 10pt; FONT-FAMILY: &#39;Courier New&#39;; mso-no-proof: yes"><span style="mso-spacerun: yes">&#0160;&#0160;&#0160; </span><span style="COLOR: blue">using</span> (<span style="COLOR: #2b91af">TextWriter</span> writer = <span style="COLOR: blue">new</span> <span style="COLOR: #2b91af">StringWriter</span>(currentXML))&#0160; <br /></span><span style="FONT-SIZE: 10pt; FONT-FAMILY: &#39;Courier New&#39;; mso-no-proof: yes"><span style="mso-spacerun: yes">&#0160;&#0160;&#0160; </span>{&#0160; <br /></span><span style="FONT-SIZE: 10pt; FONT-FAMILY: &#39;Courier New&#39;; mso-no-proof: yes"><span style="mso-spacerun: yes">	&#0160;&#0160;&#0160; </span>serializer.Serialize(writer, def);&#0160; <br /></span><span style="FONT-SIZE: 10pt; FONT-FAMILY: &#39;Courier New&#39;; mso-no-proof: yes"><span style="mso-spacerun: yes">&#0160;&#0160;&#0160; </span>}&#0160; <br /><br /></span><span style="FONT-SIZE: 10pt; FONT-FAMILY: &#39;Courier New&#39;; mso-no-proof: yes"><span style="mso-spacerun: yes">&#0160;&#0160;&#0160; </span><span style="COLOR: green">// read in the stored XML&#0160; <br /></span></span><span style="FONT-SIZE: 10pt; FONT-FAMILY: &#39;Courier New&#39;; mso-no-proof: yes"><span style="mso-spacerun: yes">&#0160;&#0160;&#0160; </span><span style="COLOR: blue">string</span> originalXML = System.IO.<span style="COLOR: #2b91af">File</span>.ReadAllText(<span style="COLOR: #a31515">&quot;correct.xml&quot;</span>); </span></p><span style="FONT-SIZE: 10pt; FONT-FAMILY: &#39;Courier New&#39;; mso-no-proof: yes"><span style="mso-spacerun: yes">&#0160;&#0160;&#0160; </span><span style="COLOR: green">// now all you have to do is compare the two&#0160; <br /></span></span><span style="FONT-SIZE: 10pt; FONT-FAMILY: &#39;Courier New&#39;; mso-no-proof: yes"><span style="mso-spacerun: yes">&#0160;&#0160;&#0160; </span><span style="COLOR: blue">return</span> (originalXML != currentXML.ToString()); </span>
<p></p>
<p></p>
<p></p><span style="FONT-SIZE: 10pt; FONT-FAMILY: &#39;Courier New&#39;; mso-no-proof: yes; mso-fareast-font-family: simsun; mso-fareast-theme-font: minor-fareast; mso-ansi-language: en-us; mso-fareast-language: zh-cn; mso-bidi-language: ar-sa">}</span> </td></tr></tbody></table>
<br />
<p>VB:</p>
<table border="1" cellpadding="1" cellspacing="0" width="450">
<tbody>
<tr>
<td valign="top" width="450">
<p class="MsoNormal" style="MARGIN-BOTTOM: 0pt; LINE-HEIGHT: normal; mso-layout-grid-align: none"><span style="FONT-SIZE: 10pt; COLOR: blue; FONT-FAMILY: &#39;Courier New&#39;; mso-no-proof: yes">private</span><span style="FONT-SIZE: 10pt; FONT-FAMILY: &#39;Courier New&#39;; mso-no-proof: yes"> <span style="COLOR: blue">function</span><span style="mso-spacerun: yes">&#0160; </span>DidItChange(def <span style="COLOR: blue">as</span> LfCycDef ) <span style="COLOR: blue">as</span> <span style="COLOR: blue">boolean <br /></span></span><span style="FONT-SIZE: 10pt; FONT-FAMILY: &#39;Courier New&#39;; mso-no-proof: yes"><span style="mso-spacerun: yes">&#0160;&#0160;&#0160; </span><span style="COLOR: green">&#39; serialize the object <br /></span></span><span style="FONT-SIZE: 10pt; FONT-FAMILY: &#39;Courier New&#39;; mso-no-proof: yes"><span style="mso-spacerun: yes">&#0160;&#0160;&#0160; </span><span style="COLOR: blue">dim</span> currentXML <span style="COLOR: blue">as</span> StringBuilder<span style="mso-spacerun: yes">&#0160; </span>= <span style="COLOR: blue">new</span> StringBuilder() <br /></span><span style="FONT-SIZE: 10pt; FONT-FAMILY: &#39;Courier New&#39;; mso-no-proof: yes"><span style="mso-spacerun: yes">&#0160;&#0160;&#0160; </span><span style="COLOR: blue">dim</span> serializer <span style="COLOR: blue">as</span> XmlSerializer<span style="mso-spacerun: yes">&#0160; </span>= <span style="COLOR: blue">new</span> XmlSerializer(<span style="COLOR: blue">GetType</span>(LfCycDef)) <br /></span><span style="FONT-SIZE: 10pt; FONT-FAMILY: &#39;Courier New&#39;; mso-no-proof: yes"><span style="mso-spacerun: yes">&#0160;&#0160;&#0160; </span><span style="COLOR: blue">using</span> writer <span style="COLOR: blue">as</span> TextWriter = <span style="COLOR: blue">new</span> System.IO.StringWriter(currentXML) <br /></span><span style="FONT-SIZE: 10pt; FONT-FAMILY: &#39;Courier New&#39;; mso-no-proof: yes"><span style="mso-spacerun: yes">	&#0160;&#0160;&#0160; </span>serializer.Serialize(writer, def) <br /></span><span style="FONT-SIZE: 10pt; FONT-FAMILY: &#39;Courier New&#39;; mso-no-proof: yes"><span style="mso-spacerun: yes">&#0160;&#0160;&#0160; </span><span style="COLOR: blue">end</span> <span style="COLOR: blue">using </span></span><span style="FONT-SIZE: 10pt; COLOR: blue; FONT-FAMILY: &#39;Courier New&#39;; mso-no-proof: yes"><br />
<p></p></span><span style="FONT-SIZE: 10pt; FONT-FAMILY: &#39;Courier New&#39;; mso-no-proof: yes"><span style="mso-spacerun: yes">&#0160;&#0160;&#0160; </span><span style="COLOR: green">&#39; read in the stored XML <br /></span></span><span style="FONT-SIZE: 10pt; FONT-FAMILY: &#39;Courier New&#39;; mso-no-proof: yes"><span style="mso-spacerun: yes">&#0160;&#0160;&#0160; </span><span style="COLOR: blue">dim</span> originalXML <span style="COLOR: blue">as</span> <span style="COLOR: blue">string</span><span style="mso-spacerun: yes">&#0160; </span>= System.IO.File.ReadAllText(<span style="COLOR: #a31515">&quot;flex.xml&quot;</span>)&#0160;</span></p>
<p><span style="FONT-SIZE: 10pt; FONT-FAMILY: &#39;Courier New&#39;; mso-no-proof: yes"></span><span style="FONT-SIZE: 10pt; FONT-FAMILY: &#39;Courier New&#39;; mso-no-proof: yes"><span style="mso-spacerun: yes">&#0160;&#0160;&#0160; </span><span style="COLOR: green">&#39; now all you have to do is compare the two <br /></span></span><span style="FONT-SIZE: 10pt; FONT-FAMILY: &#39;Courier New&#39;; mso-no-proof: yes"><span style="mso-spacerun: yes">&#0160;&#0160;&#0160; </span><span style="COLOR: blue">return</span> (originalXML &lt;&gt; currentXML.ToString()) </span></p>
<p></p>
<p></p><span style="FONT-SIZE: 10pt; COLOR: blue; FONT-FAMILY: &#39;Courier New&#39;; mso-no-proof: yes; mso-fareast-font-family: simsun; mso-fareast-theme-font: minor-fareast; mso-ansi-language: en-us; mso-fareast-language: zh-cn; mso-bidi-language: ar-sa">end</span><span style="FONT-SIZE: 10pt; FONT-FAMILY: &#39;Courier New&#39;; mso-no-proof: yes; mso-fareast-font-family: simsun; mso-fareast-theme-font: minor-fareast; mso-ansi-language: en-us; mso-fareast-language: zh-cn; mso-bidi-language: ar-sa"> <span style="COLOR: blue">function</span></span> </td></tr></tbody></table>
