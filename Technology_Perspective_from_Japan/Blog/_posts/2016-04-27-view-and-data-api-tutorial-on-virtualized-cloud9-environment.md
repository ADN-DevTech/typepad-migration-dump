---
layout: "post"
title: "Cloud9 仮想環境で View and Data API チュートリアル"
date: "2016-04-27 00:06:20"
author: "Toshiaki Isezaki"
categories:
  - "API カスタマイズ"
  - "クラウドサービス"
original_url: "https://adndevblog.typepad.com/technology_perspective/2016/04/view-and-data-api-tutorial-on-virtualized-cloud9-environment.html "
typepad_basename: "view-and-data-api-tutorial-on-virtualized-cloud9-environment"
typepad_status: "Publish"
---

<p><a class="asset-img-link" href="http://adndevblog.typepad.com/.a/6a0167607c2431970b01b7c842aef4970b-pi" style="float: right;"><img alt="Cloud9_logo" class="asset  asset-image at-xid-6a0167607c2431970b01b7c842aef4970b img-responsive" src="/assets/image_705391.jpg" style="width: 150px; margin: 0px 0px 5px 5px;" title="Cloud9_logo" /></a></p>
<p><strong>Cloud9 -&#0160;<a href="https://c9.io/" target="_blank">https://c9.io/</a>&#0160;</strong>というサービスをご存じでしょうか？</p>
<p>Cloud9 は、クラウドを使って開発環境をクラウド上で提供するサービスです。View and Data API など、Forge Platform API の開発では、<strong><a href="http://adndevblog.typepad.com/technology_perspective/2015/08/setup-development-environment-view-and-data-api.html" target="_blank">View and Data API の開発環境</a></strong>&#0160;のブログ記事でご案内したような開発環境の準備や環境設定が必要になります。ただ、一部の企業では、プロキシ設定による制限やツールのインストールに制限が存在するため、自由に開発環境を準備することが難しい場合もあるかと思います。</p>
<p>また、本格開発に入る前の試験開発の段階では、今後も使い続けるかわからないツールなどはインストールしなくない、また、単純に、コンピュータをクリーンな状態にしておきたい、といった理由もあるかも知れません。</p>
<p>そのような場合には、クラウド上の環境で仮想化された開発環境を提供してくれる Cloud9 は便利です。GitHub アカウントをお持ちなら、そのアカウントでログインして GitHub 上に公開されたリポジトリを、そのままシームレスに利用することが出来ます。例えば、<strong><a href="http://adndevblog.typepad.com/technology_perspective/2016/02/view-and-data-api-tutorial.html" target="_blank">View and Data API チュートリアル</a></strong>&#0160;で紹介してきた内容を、Cloud9 を使って習得していくことも出来ます。今回は、<strong><a href="http://adndevblog.typepad.com/technology_perspective/2016/03/view-and-data-api-tutorial-part1-nodejs-basic.html" target="_blank">View and Data API チュートリアル ～ その1 ～ Node.js Basic</a></strong>&#0160;の内容を Cloud9 を使って実現する手順をご紹介したいと思います。前提となるのは、GiuHub アカウントの取得のみです。</p>
<ol>
<li>Cloud9 -&#0160;<a href="https://c9.io/" target="_blank">https://c9.io/</a>&#0160;のホームページを表示したら、画面右上の GitHub アイコンをクリックします。<br /> <a class="asset-img-link" href="http://adndevblog.typepad.com/.a/6a0167607c2431970b01b8d1cd6a08970c-pi" style="display: inline;"><img alt="Login_with_github_account" border="0" class="asset  asset-image at-xid-6a0167607c2431970b01b8d1cd6a08970c image-full img-responsive" src="/assets/image_377143.jpg" title="Login_with_github_account" /><br /></a></li>
<li>ログイン画面が表示されたら、お手持ちの GitHub&#0160;アカウントでログインしてください。<br /> <a class="asset-img-link" href="http://adndevblog.typepad.com/.a/6a0167607c2431970b01b8d1cd6d5b970c-pi" style="display: inline;"><img alt="Loginto_github" class="asset  asset-image at-xid-6a0167607c2431970b01b8d1cd6d5b970c img-responsive" src="/assets/image_627578.jpg" style="width: 450px;" title="Loginto_github" /></a></li>
<li>Cloud9 上にワークスペースを作成します。画面中央にある <strong>Create a new workspace</strong> と書かれた領域をクリックします。<br /> <a class="asset-img-link" href="http://adndevblog.typepad.com/.a/6a0167607c2431970b01b8d1cd704e970c-pi" style="display: inline;"><img alt="Create_new_workspace" border="0" class="asset  asset-image at-xid-6a0167607c2431970b01b8d1cd704e970c image-full img-responsive" src="/assets/image_774778.jpg" title="Create_new_workspace" /></a></li>
<li>下図の①から⑤について、作成するワークスペースの詳細を指定していきます。①は半角英数字のみでスペースは使用できません。<br /> <a class="asset-img-link" href="http://adndevblog.typepad.com/.a/6a0167607c2431970b01bb08e7460f970d-pi" style="display: inline;"><img alt="Create_new_workspace_detail" border="0" class="asset  asset-image at-xid-6a0167607c2431970b01bb08e7460f970d image-full img-responsive" src="/assets/image_921746.jpg" title="Create_new_workspace_detail" /><br /></a>ここで重要なのは、④ で &#0160;<strong><a href="https://github.com/Developer-Autodesk/workflow-node.js-view.and.data.api" target="_blank">Autodesk View and Data API Node.js Basic Sample リポジトリ</a></strong>&#0160;の URL を、⑤ で Node.js 環境をそれぞれ指定出来る点です。④ で指定する URL は、GitHub リポジトリ上の赤枠に記載されてものを使用してください。<br /> <a class="asset-img-link" href="http://adndevblog.typepad.com/.a/6a0167607c2431970b01b8d1cd9c7a970c-pi" style="display: inline;"><img alt="Url_on_giuhub2" border="0" class="asset  asset-image at-xid-6a0167607c2431970b01b8d1cd9c7a970c image-full img-responsive" src="/assets/image_555314.jpg" title="Url_on_giuhub2" /></a><br />①から⑤の指定が完了したら、ページ下部の <span style="background-color: #7fb959;">&#0160;<strong><span style="color: #ffffff;">Create workspace </span></strong></span>&#0160;ボタンをクリックしてください。GitHub リポジトリから必要なコードをコピーすると同時に、Node.js 環境が構築されます。<br /><br /></li>
<li>ワークスペースの作成が完了すると、Web ブラウザ上に次のような画面が表示されるはずです。ページ下部にワークスペースをコントロールするための <strong><a href="https://ja.wikipedia.org/wiki/Bash" target="_blank">bash</a></strong> が表示されていることが分かります。<br /> <a class="asset-img-link" href="http://adndevblog.typepad.com/.a/6a0167607c2431970b01b7c8436845970b-pi" style="display: inline;"><img alt="Created_workspace" border="0" class="asset  asset-image at-xid-6a0167607c2431970b01b7c8436845970b image-full img-responsive" src="/assets/image_952495.jpg" title="Created_workspace" /></a></li>
<li>bash 上に <strong>npm install</strong> と入力して、Autodesk View and Data API Node.js Basic Sample リポジトリのコードで Web サーバー構築に必要な Noe Package をインストールしてください。この手順は、<strong><a href="http://adndevblog.typepad.com/technology_perspective/2016/03/view-and-data-api-tutorial-part1-nodejs-basic.html" target="_blank">View and Data API チュートリアル ～ その1 ～ Node.js Basic</a></strong>&#0160;の 8. に相当するものです。<br /><br /></li>
<li>Cloud9 に作成されたワークスペースは、いわば統合開発環境（IDE）です。Adobe Brackets のようなエディタを別途インストールする必要はありません。ここでは、チュートリアルで実装したのと同じ手順を踏襲して、次に、credentials_.js ファイルを&#0160;credentials.js の名前でコピーします。この操作は、次のようにファイルを選択して貼り付け、名前変更の順序で実行できます。<br /> <a class="asset-img-link" href="http://adndevblog.typepad.com/.a/6a0167607c2431970b01bb08e75429970d-pi" style="display: inline;"><img alt="Copy_credentials_js" class="asset  asset-image at-xid-6a0167607c2431970b01bb08e75429970d img-responsive" src="/assets/image_654638.jpg" title="Copy_credentials_js" /></a></li>
<li>続いて、コピーした&#0160;credentials.js ファイルをダブルクリックで直接開いて、 <strong><a href="https://developer.autodesk.com/" target="_blank">Developer Portal</a></strong>&#0160;サイトで取得済の Consumer Key と Consumer Secret の値に置き換えて上書き保存します。&lt;replace with your consumer key&gt; を Consumer Key で、&lt;replace with your consumer secret&gt; を Consumer Secret で書き換えて、ファイルを上書き保存します。<br /> <a class="asset-img-link" href="http://adndevblog.typepad.com/.a/6a0167607c2431970b01bb08e75934970d-pi" style="display: inline;"><img alt="Embed_keys_to_credentials_js" border="0" class="asset  asset-image at-xid-6a0167607c2431970b01bb08e75934970d image-full img-responsive" src="/assets/image_420730.jpg" title="Embed_keys_to_credentials_js" /></a></li>
<li>&#0160;/www/index.js ファイルをダブルクリックで開いて、表示させるドキュメントの URN を指定します。URN は、<strong><a href="http://adndevblog.typepad.com/technology_perspective/2015/09/view-and-data-api-workflow.html" target="_blank">View and Data API ワークフロー</a></strong>&#0160;ページで紹介した手順で取得した Base64 でエンコードした値か、こちらの<strong><a href="http://models.autodesk.io/" target="_blank">テスト サイト</a></strong>から取得することが出来ます。&lt;replace with your encoded urn&gt; を置き換えて、ファイルを上書き保存してください。<br /> <a class="asset-img-link" href="http://adndevblog.typepad.com/.a/6a0167607c2431970b01bb08e75ced970d-pi" style="display: inline;"><img alt="Embed_urn_to_index_js" border="0" class="asset  asset-image at-xid-6a0167607c2431970b01bb08e75ced970d image-full img-responsive" src="/assets/image_120338.jpg" title="Embed_urn_to_index_js" /></a></li>
<li>Web サーバーを起動します。server.js をダブルクリックで開いたら、ページ上部にある Run ボタンをクリックしてみてください。<br /> <a class="asset-img-link" href="http://adndevblog.typepad.com/.a/6a0167607c2431970b01b8d1cdb17d970c-pi" style="display: inline;"><img alt="Run" border="0" class="asset  asset-image at-xid-6a0167607c2431970b01b8d1cdb17d970c image-full img-responsive" src="/assets/image_572318.jpg" title="Run" /><br /></a>ページ下部には、bash と同じコンソール領域の [server.js - Running] タブに、この Web サーバーの URL が表示されるはずです。<br /> <a class="asset-img-link" href="http://adndevblog.typepad.com/.a/6a0167607c2431970b01b7c8437d14970b-pi" style="display: inline;"><img alt="Url" border="0" class="asset  asset-image at-xid-6a0167607c2431970b01b7c8437d14970b image-full img-responsive" src="/assets/image_861754.jpg" title="Url" /></a></li>
<li>表示される URL は、https となっていますが、このチュートリアルでは SSL 認証を設定していないので、http として、別のブラウザ インスタンスで URL を入力してみてください。ここでは、http://test-project-toshiakiisezaki.c9users.io/ とすると、指定した URN ドキュメントを表示するはずです。<br /> <a class="asset-img-link" href="http://adndevblog.typepad.com/.a/6a0167607c2431970b01b8d1cdb467970c-pi" style="display: inline;"><img alt="On_viewer" border="0" class="asset  asset-image at-xid-6a0167607c2431970b01b8d1cdb467970c image-full img-responsive" src="/assets/image_846762.jpg" title="On_viewer" /></a></li>
</ol>
<p>Cloud9 で構築した Web サーバーは、localhost としてコンピュータ内でのみで参照するのではなく、インターネット上に接続されていれば、別のコンピュータやデバイスでも参照できます。つまり、開発用のコンピュータに、物理的な開発環境を用意しなくてもいいことになります。企業内プロキシの制限も、ある程度、緩和されるはずです。</p>
<p><span style="background-color: #ffff00;">ご注意：View and Data API は2016年6月に Viewer と &#0160;Model Derivative API に分離、及び、名称変更されました。</span></p>
<p>By Toshiaki Isezaki</p>
