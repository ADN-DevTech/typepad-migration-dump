---
layout: "post"
title: "Web アプリのデプロイ：GitHub Desktop を使った GitHub へのプッシュ"
date: "2019-05-13 00:02:08"
author: "Toshiaki Isezaki"
categories:
  - "API カスタマイズ"
  - "クラウドサービス"
original_url: "https://adndevblog.typepad.com/technology_perspective/2019/05/push-web-app-to-github-using-github-desktop.html "
typepad_basename: "push-web-app-to-github-using-github-desktop"
typepad_status: "Publish"
---

<p>Forge は、オートデスクがクラウド サービスの開発で培った要素技術を、複数の Web API として公開しているブランド名です。Forge を利用するのは、通常、<strong><a href="https://ja.wikipedia.org/wiki/Web%E3%82%B5%E3%83%BC%E3%83%90" rel="noopener" target="_blank">Web サーバー</a></strong>上に構築することになる <strong><a href="https://ja.wikipedia.org/wiki/%E3%82%A6%E3%82%A7%E3%83%96%E3%82%A2%E3%83%97%E3%83%AA%E3%82%B1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3" rel="noopener" target="_blank">Web アプリケーション</a></strong>（以降、<strong>Web アプリ</strong>）です。</p>
<p><a class="asset-img-link" href="https://adndevblog.typepad.com/.a/6a0167607c2431970b0240a45d4560200c-pi" style="display: inline;"><img alt="Web_app" border="0" class="asset  asset-image at-xid-6a0167607c2431970b0240a45d4560200c image-full img-responsive" src="/assets/image_850869.jpg" title="Web_app" /></a></p>
<p>Forge を利用する Web アプリの開発は、誰もがアクセス出来る Web サーバー上でおこなうのではなく、開発者が使用するコンピュータを使ってローカル コンピュータで実施し、完成した後、あるいは、完成に近い状態で Web サーバーに展開（デプロイ）するのが一般的です。</p>
<p>このため、ローカル コンピュータ上で Web アプリをテストする際には、Web ブラウザ上で <em><strong>http://localhost:3000</strong></em> などのように実行することになります。この場合、開発中の Web アプリは、ローカル コンピュータからのみしか実行出来ません。逆に言えば、誰にでもアクセスしてもらうには、完成した Web アプリを Web サーバーにデプロイする必要があります。</p>
<p>デプロイ作業の選択肢は多様なため、いままで、このブログであまり触れていませんでした。今後、数回に渡って、ローカル コンピュータで開発している Web アプリのデプロイを前提に、基本的な概要といくつかの手順をご案内していきたいと思います。基本的な考え方を把握いただくため、Forge に特化せずに説明を加えていきます。</p>
<p>次回以降、Forge アプリの紹介で比較的よく利用されている <strong><a href="https://jp.heroku.com/" rel="noopener" target="_blank">Heroku</a></strong> や <strong><a href="https://azure.microsoft.com/ja-jp/" rel="noopener" target="_blank">Microsoft Azure</a></strong> へのデプロイを前提にしていくことにします。今回は、その準備にあたる GitHub の理解とツール、手順をご紹介しすることにします。</p>
<p><span style="background-color: #ffff00;">※ ご紹介する画面遷移は2019年4月時点のものです。今後当該サービスプロバイダーによって変更される可能性があります。</span></p>
<hr />
<p><strong>ローカルでの Web アプリの準備</strong></p>
<p style="padding-left: 40px;">まず、Web アプリとして Visual Studio 2017&#0160; Professional エディションで作成した Node.js テンプレートを利用したスケルトン プロジェクトを利用します。なお、Visual Studio 2017&#0160; Professionalで Node.js プロジェクトを作成するには、インストールで Node.js 開発 を選択しておく必要があります。</p>
<p style="padding-left: 40px;"><a class="asset-img-link" href="https://adndevblog.typepad.com/.a/6a0167607c2431970b0240a453fe2e200c-pi" style="display: inline;"><img alt="Nodejs_install" border="0" class="asset  asset-image at-xid-6a0167607c2431970b0240a453fe2e200c image-full img-responsive" src="/assets/image_210174.jpg" title="Nodejs_install" /></a></p>
<ol>
<li>Visual Studio 2017 Professional エディションを起動して、Node.js プロジェクトを作成します。[ファイル(F)] メニューから [新規作成(N)] &gt;&gt; [プロジェクト(P)] を選択します。</li>
<li>[新しいプロジェクト] ダイアログが表示されたら、「<strong>空の Node.js Web アプリケーション</strong>」テンプレートを選択、プロジェクト名に</li>
<li><strong>NodejsWebApp1</strong> と命名して [OK] ボタンをクリックします。「新しい Git リポジトリの作成(G)」には<span style="text-decoration: underline;">チェックを入れない</span>でください。<br /><a class="asset-img-link" href="https://adndevblog.typepad.com/.a/6a0167607c2431970b0240a4a1d914200b-pi" style="display: inline;"><img alt="New_project_dialog" border="0" class="asset  asset-image at-xid-6a0167607c2431970b0240a4a1d914200b image-full img-responsive" src="/assets/image_144184.jpg" title="New_project_dialog" /></a></li>
<li>作成されたスケルトン プロジェクトの実行をテストしてみます。[デバッグ(D)] メニューから [▶ デバッグッグの開始(S)] を選択して、Web ブラウザが起動後に server.js の実装である <strong>Hello World</strong>&#0160;が表示されることを確認してください。<br /><a class="asset-img-link" href="https://adndevblog.typepad.com/.a/6a0167607c2431970b0240a4a1d991200b-pi" style="display: inline;"><img alt="Debug_app" border="0" class="asset  asset-image at-xid-6a0167607c2431970b0240a4a1d991200b img-responsive" src="/assets/image_327345.jpg" title="Debug_app" /></a></li>
</ol>
<hr />
<p><strong>GitHub とは</strong></p>
<p style="padding-left: 40px;"><a class="asset-img-link" href="https://adndevblog.typepad.com/.a/6a0167607c2431970b0240a47d8b71200d-pi" style="float: right;"><img alt="Github_logo" class="asset  asset-image at-xid-6a0167607c2431970b0240a47d8b71200d img-responsive" src="/assets/image_503938.jpg" style="width: 200px; margin: 0px 0px 5px 5px;" title="Github_logo" /></a>近年、開発の現場で耳にすることが多くなった GitHub ですが、一言で言うと、開発プロジェクト用のソースコード管理をおこなうクラウド サービス、という位置づけです。無償版と有償版があり、オートデスクも有償版（GitHub Enterprise）を使って、クラウド サービスや AutoCAD などのデスクトップ製品のソースコードを管理し、チーム開発をおこなっています。</p>
<p style="padding-left: 40px;">GitHub でソースコード管理するのは<strong>リポジトリ</strong>という単位です。ローカル コンピュータのリポジトリを <strong>ローカル&#0160; リポジトリ</strong>、GitHub サイトjにあるリポジトリを<strong>リモート リポジトリ</strong>と表現します。ローカル コンピュータ上にある開発中、あるいは、完成したソースコードは<strong>コミット</strong>すると、ローカル リポジトリに記録されます。その後、ローカル リポジトリの内容を<strong>プッシュ</strong>すると、GitHub サイト上のリモート リポジトリに記録されます。この流れでリモート リポジトリを使って、共同開発者と一緒にソースコードを管理していきます。</p>
<p style="padding-left: 40px;">リポジトリには、運用中のソースコードと、新機能や不具合修正した次期バージョン用のソースコードを並行して開発していけるよう、<strong>ブランチ</strong>という単位も存在します。互いのブランチは独立して管理されるので、ローカル リポジトリに運用中の master とブランチと次期バージョン用の next version というのように、複数のブランチを作ってメインテナンスすることが可能です。</p>
<p style="padding-left: 40px; text-align: center;"><a class="asset-img-link" href="https://adndevblog.typepad.com/.a/6a0167607c2431970b0240a45458a6200c-pi" style="display: inline;"><img alt="Branch" class="asset  asset-image at-xid-6a0167607c2431970b0240a45458a6200c img-responsive" src="/assets/image_271662.jpg" title="Branch" /></a></p>
<p style="padding-left: 40px;">開発環境に依存せずに Heroku をや Azure に Web アプリをデプロイ（Web サイトを公開）には、ローカル コンピュータ上にある 実行可能なソース コード一式を、いったん、<strong>GitHub</strong> リポジトリにアップロード（プッシュ）しなければなりません。</p>
<p style="padding-left: 40px; text-align: left;">GitHub の利用には GitHub&#0160; アカウントが必要です。もし、GitHub アカウントをお持ちでなければ、<strong><a href="https://github.com/join?source=header-home" rel="noopener" target="_blank">https://github.com/join?source=header-home</a></strong> からサインアップ（アカウント登録）することが出来ます（無償）。</p>
<hr />
<p><strong>GituHub Desktop とは</strong></p>
<p style="padding-left: 40px;"><a class="asset-img-link" href="https://adndevblog.typepad.com/.a/6a0167607c2431970b0240a47d99c4200d-pi" style="float: right;"><img alt="Github_desktop_splash" class="asset  asset-image at-xid-6a0167607c2431970b0240a47d99c4200d img-responsive" src="/assets/image_906176.jpg" style="width: 200px; margin: 0px 0px 5px 5px;" title="Github_desktop_splash" /></a>ローカル リポジトリの作成やコミット、ブランチの作成や切り替え、リモート リポジトリへのプッシュは、プロンプトによる<strong><a href="https://qiita.com/forest1/items/adf683c4cc2f8cdd6a24" rel="noopener" target="_blank">コマンド</a></strong>操作が一般的ですが、少しわかりにくいのが難点でした。この点を解決したのが、ユーザ インタフェースで同等の操作が可能な GitHub Desktop です。</p>
<p style="padding-left: 40px;">GitHub Desktop は、<strong><a href="https://desktop.github.com/" rel="noopener" target="_blank">https://desktop.github.com/</a></strong>&#0160;から無償でダウンロード、インストールして利用することが出来ます。</p>
<hr />
<p><strong>Web アプリの GitHub へのプッシュ</strong></p>
<p style="padding-left: 40px;">前置きが長くなりましたが、ここから、ローカル リポジトリを作成、GitHub 上のリモート リポジトリへのプッシュ作業をおこなっていきます。便宜上、今回はローカル リポジトリの master ブランチをプッシュしていきます。</p>
<ol>
<li><strong>ローカルでの Web アプリの準備</strong> で作成した Web アプリ <strong>NodejsWebApp1 プロジェクト</strong> のパスを確認します。ここでは、既定値の C:\Users\<em>&lt;windows user name&gt;</em>\source\repos\NodejsWebApp1 フォルダ下にプロジェクトがあり、アプリの実行時に実行される server.js が、C:\Users\<em>&lt;windows user name&gt;</em>\source\repos\NodejsWebApp1\NodejsWebApp1 フォルダ下に存在しているものとします。</li>
<li>GitHub Desktop を起動して、GitHub アカウントでサインインします。[File] メニューから [Options] を選択してください。<br /><a class="asset-img-link" href="https://adndevblog.typepad.com/.a/6a0167607c2431970b0240a4a24057200b-pi" style="display: inline;"><img alt="Options" border="0" class="asset  asset-image at-xid-6a0167607c2431970b0240a4a24057200b image-full img-responsive" src="/assets/image_654824.jpg" title="Options" /></a></li>
<li>[Accounts] タブ内の 「<strong>GitHub.com</strong>」右横の <span style="background-color: #a040ff; color: #ffffff;">[&#0160; &#0160;Sign in&#0160; &#0160;] </span>ボタンをクリックしてください。<br /><a class="asset-img-link" href="https://adndevblog.typepad.com/.a/6a0167607c2431970b0240a45466b1200c-pi" style="display: inline;"><img alt="Signin" border="0" class="asset  asset-image at-xid-6a0167607c2431970b0240a45466b1200c img-responsive" src="/assets/image_74108.jpg" title="Signin" /></a></li>
<li>GitHub アカウントを入力して <span style="background-color: #c080ff; color: #ffffff;">[&#0160; &#0160;Sign in&#0160; &#0160;]</span> ボタンをクリックしてサインインを完了します。このサインイン操作で、リポジトリとアカウントが関連付けられます。&#0160;<br /><a class="asset-img-link" href="https://adndevblog.typepad.com/.a/6a0167607c2431970b0240a4546782200c-pi" style="display: inline;"><img alt="Signin_dialog" border="0" class="asset  asset-image at-xid-6a0167607c2431970b0240a4546782200c img-responsive" src="/assets/image_561275.jpg" title="Signin_dialog" /></a></li>
<li>次に [File] メニューから [Add local repository....] を選択します。<br /><a class="asset-img-link" href="https://adndevblog.typepad.com/.a/6a0167607c2431970b0240a454606b200c-pi" style="display: inline;"><img alt="Add_locad_repository" border="0" class="asset  asset-image at-xid-6a0167607c2431970b0240a454606b200c img-responsive" src="/assets/image_306247.jpg" title="Add_locad_repository" /></a></li>
<li>[Add local repository] ダイアログが表示されたら、[Choose...] ボタンをクリックします。<br /><a class="asset-img-link" href="https://adndevblog.typepad.com/.a/6a0167607c2431970b0240a4546079200c-pi" style="display: inline;"><img alt="Add_locad_repository2" border="0" class="asset  asset-image at-xid-6a0167607c2431970b0240a4546079200c img-responsive" src="/assets/image_801410.jpg" title="Add_locad_repository2" /></a></li>
<li>server.js が存在する C:\Users\<em>&lt;windows user name&gt;</em>\source\repos\NodejsWebApp1\NodejsWebApp1 フォルダをナビゲートし、[フォルダーの選択] ボタンをクリックします。<br /><a class="asset-img-link" href="https://adndevblog.typepad.com/.a/6a0167607c2431970b0240a4a239d1200b-pi" style="display: inline;"><img alt="File_dialog" border="0" class="asset  asset-image at-xid-6a0167607c2431970b0240a4a239d1200b image-full img-responsive" src="/assets/image_667958.jpg" title="File_dialog" /></a></li>
<li>&quot;<span style="font-family: arial, helvetica, sans-serif;">This directory does not appear to be Git repository. Would you like to<span style="background-color: #ffffff; color: #a040ff;"> create a repository </span>here instead?</span>&quot; の警告メッセージとともに、[Add local repository] ダイアログが再び表示されるはずです。ここでは、このままメッセージ内の <span style="font-family: arial, helvetica, sans-serif;"><span style="background-color: #ffffff; color: #a040ff;"> create a repository </span></span>をクリックします。<br /><a class="asset-img-link" href="https://adndevblog.typepad.com/.a/6a0167607c2431970b0240a4546146200c-pi" style="display: inline;"><img alt="Add_locad_repository_dialog2" border="0" class="asset  asset-image at-xid-6a0167607c2431970b0240a4546146200c img-responsive" src="/assets/image_268291.jpg" title="Add_locad_repository_dialog2" /></a></li>
<li>NodejsWebApp1 が Name（リポジトリ名）として設定されている [Create a new repository] ダイアログが表示されるので、ここでは他の項目をそのままにして<span style="background-color: #a040ff; color: #ffffff;"> [&#0160; Create repository&#0160; &#0160;]&#0160;</span> ボタンをクリックします。<br /><a class="asset-img-link" href="https://adndevblog.typepad.com/.a/6a0167607c2431970b0240a47d9565200d-pi" style="display: inline;"><img alt="Create_new_repository_dialog" border="0" class="asset  asset-image at-xid-6a0167607c2431970b0240a47d9565200d img-responsive" src="/assets/image_506287.jpg" title="Create_new_repository_dialog" /></a><br />※ GitHub 無償枠では、リモート リポジトリはすべて Public モードでソースコードを誰でも閲覧出来るようになっていましたが、2019年1月から、<a href="https://github.blog/2019-01-07-new-year-new-github/" rel="noopener" target="_blank">無償枠でもソースコードを非公開とする Private モードを選択出来る</a>ようになっています。</li>
<li>「Current repositry」に<strong> NodejsWebApp1</strong> が（①）、「Current branch」に <strong>master</strong> が（②）、それぞれ選択されていることを確認出来たら、<span style="background-color: #8000ff; color: #ffffff;">[&#0160; Publish repository&#0160; ]</span>&#0160; ボタンをクリックしてください。<br /><a class="asset-img-link" href="https://adndevblog.typepad.com/.a/6a0167607c2431970b0240a47d965a200d-pi" style="display: inline;"><img alt="Push" border="0" class="asset  asset-image at-xid-6a0167607c2431970b0240a47d965a200d image-full img-responsive" src="/assets/image_595667.jpg" title="Push" /></a></li>
</ol>
<ol>
<li>[Publish repository]&#0160; ダイアログが表示されたら、「Keep this code private」のチェックを外して、<span style="background-color: #8000ff; color: #ffffff;">[&#0160; &#0160;Publish repository&#0160; &#0160;]</span> ボタンをクリックすると、Publish（パブリッシュ＝最初のプッシュ）が始まります。<br /><a class="asset-img-link" href="https://adndevblog.typepad.com/.a/6a0167607c2431970b0240a47d96c0200d-pi" style="display: inline;"><img alt="Publish_repository_dialog" border="0" class="asset  asset-image at-xid-6a0167607c2431970b0240a47d96c0200d img-responsive" src="/assets/image_859061.jpg" title="Publish_repository_dialog" /></a></li>
<li>しばらく時間がかかりますが、[Publish repository]&#0160; ダイアログが消えて、何もエラーが出なければ、GitHub へのリモート レポジトリ作成の完了です。<strong><a href="https://github.com" rel="noopener" target="_blank">GitHub サイト</a></strong>にリモート リポジトリが記録されたかチェックするには、GitHub Desktop 上で [View on GitHub] ボタンをクリックします。<br /><a class="asset-img-link" href="https://adndevblog.typepad.com/.a/6a0167607c2431970b0240a47d9834200d-pi" style="display: inline;"><img alt="Github_com" border="0" class="asset  asset-image at-xid-6a0167607c2431970b0240a47d9834200d image-full img-responsive" src="/assets/image_585666.jpg" title="Github_com" /></a></li>
<li><strong><a href="https://github.com" rel="noopener" target="_blank">GitHub サイト</a></strong>のリモート リポジトリ&#0160;<strong>NodejsWebApp1</strong> が表示されるはずです。<br /><a class="asset-img-link" href="https://adndevblog.typepad.com/.a/6a0167607c2431970b0240a4a23e22200b-pi" style="display: inline;"><img alt="Github_remote_repository" border="0" class="asset  asset-image at-xid-6a0167607c2431970b0240a4a23e22200b image-full img-responsive" src="/assets/image_156948.jpg" title="Github_remote_repository" /></a></li>
</ol>
<hr />
<p><strong>ローカル リポジトリのコミットとリモート リポジトリへのプッシュ</strong></p>
<p style="padding-left: 40px;">一度、リモート リポジトリへのプッシュを済ませた後も、GitHub Desktop はローカル リポジトリのソースコード編集を監視しています。例えば、NodejsWebApp1 プロジェクトの server.js の一部を編集してファイルを上書き保存してから GitHub Desktop を起動すると、編集箇所が画面に表示されるはずです。 <a class="asset-img-link" href="https://adndevblog.typepad.com/.a/6a0167607c2431970b0240a454eb80200c-pi" style="display: inline;"><img alt="Detected_changes" border="0" class="asset  asset-image at-xid-6a0167607c2431970b0240a454eb80200c image-full img-responsive" src="/assets/image_308304.jpg" title="Detected_changes" /></a><br />この状態では、またソースコードの変更がローカル リポジトリに記録（<strong>コミット</strong>）されていません。ローカル リポジトリへのコミットには、GitHub Desktop 左下の変更内容を判別する文字列を記入し、<span style="background-color: #0060bf; color: #ffffff;">[Commit to master]</span>（master ブランチへのコミット）ボタンをクリックする必要があります（①）。<br /><a class="asset-img-link" href="https://adndevblog.typepad.com/.a/6a0167607c2431970b0240a454ec63200c-pi" style="display: inline;"><img alt="Commit" border="0" class="asset  asset-image at-xid-6a0167607c2431970b0240a454ec63200c image-full img-responsive" src="/assets/image_452891.jpg" title="Commit" /></a><br />コミットしたローカル リポジトリの内容をリモート リポジトリに反映（<strong>プッシュ</strong>）するには、ローカル リポジトリへのコミット後に、画面表示が更新されて現れる [Push origin] ボタンをクリックしてプッシュしてください（②）。<br /><a class="asset-img-link" href="https://adndevblog.typepad.com/.a/6a0167607c2431970b0240a454ec9e200c-pi" style="display: inline;"><img alt="Push2" border="0" class="asset  asset-image at-xid-6a0167607c2431970b0240a454ec9e200c image-full img-responsive" src="/assets/image_399833.jpg" title="Push2" /></a></p>
<hr />
<p>ここまでの操作でローカル リポジトリの作成とリモート リポジトリへのプッシュが完了しました。</p>
<p>なお、今後、今回の記事に関連した次の方法についてご案内していく予定です。</p>
<ul>
<li><strong><a href="https://adndevblog.typepad.com/technology_perspective/2019/05/deploy-web-app-to-heroku.html" rel="noopener" target="_blank">Heroku へのデプロイ</a></strong></li>
<li><strong><a href="https://adndevblog.typepad.com/technology_perspective/2019/05/deploy-web-app-to-azure.html" rel="noopener" target="_blank">Azure へのデプロイ</a></strong></li>
<li><strong><a href="https://adndevblog.typepad.com/technology_perspective/2019/05/deploy-web-app-from-visual-studio.html" rel="noopener" target="_blank">Visual Studio から Azure への直接デプロイ</a></strong></li>
</ul>
<p>次回は、GitHub リモート リポジトリの Web アプリを Heroku にデプロイし、どこからでもアクセス出来るようにしていきます。</p>
<p>By Toshiaki Isezaki<a href="https://github.blog/changelog/2019-01-08-pricing-changes/"></a></p>
