---
layout: "post"
title: "DevCon 2017 : Forge VR/AR Toolkit 発表"
date: "2017-11-13 00:06:14"
author: "Toshiaki Isezaki"
categories:
  - "API カスタマイズ"
  - "クラウドサービス"
original_url: "https://adndevblog.typepad.com/technology_perspective/2017/11/announcing-forge-vrar-toolkit.html "
typepad_basename: "announcing-forge-vrar-toolkit"
typepad_status: "Publish"
---

<p><strong>VR/AR の潮流</strong></p>
<p style="padding-left: 30px;">新しく登場してきたテクノロジの成熟度と採用率をグラフィカルに表示する指標として、米国の IT コンサルティング企業であるガートナー社が定義した<strong>ハイプ サイクル</strong>（<strong><a href="https://www.gartner.co.jp/research/methodologies/research_hype.php" rel="noopener noreferrer" target="_blank">https://www.gartner.co.jp/research/methodologies/research_hype.php</a></strong>）というものが存在します。このハイプ サイクルを使って、最近徐々に浸透してきた <a href="https://ja.wikipedia.org/wiki/%E3%83%90%E3%83%BC%E3%83%81%E3%83%A3%E3%83%AB%E3%83%AA%E3%82%A2%E3%83%AA%E3%83%86%E3%82%A3" rel="noopener noreferrer" target="_blank"><strong>VR（Virtual Reality、仮想現実）</strong></a>や <a href="https://ja.wikipedia.org/wiki/%E6%8B%A1%E5%BC%B5%E7%8F%BE%E5%AE%9F" rel="noopener noreferrer" target="_blank"><strong>AR（Augumented Reality、拡張現実）</strong></a>を含むトレンド テクノロジの成熟度を説明するプレス リリースが <strong><a href="https://www.gartner.co.jp/press/html/pr20170823-01.html" rel="noopener noreferrer" target="_blank">https://www.gartner.co.jp/press/html/pr20170823-01.html </a></strong>に記載されています。</p>
<p style="padding-left: 30px;">この記事を一読いただくとお分かりのとおり、今年 2017 年のハイプ サイクルでは、VR が幻滅期を脱して啓蒙活動期に移行しつつあること、また、AR も幻滅期の底に近づきつつある状態であることが理解できます。昨年来続いている VR、AR、また、<strong><a href="https://en.wikipedia.org/wiki/Mixed_reality" rel="noopener noreferrer" target="_blank">MR（Mixed Reality、複合現実）</a></strong>は、このような流れに沿って実用化しつつあるということです。事実、VR 自体はかなり古く、オートデスクもその聡明期である 1993 年に AutoCAD をベースにした<strong> Cyberspace Developer Toolkit</strong> を開発者向けにリリース経験を持っています。</p>
<p style="padding-left: 30px;"><a class="asset-img-link" href="http://adndevblog.typepad.com/.a/6a0167607c2431970b01b8d2bc9d77970c-pi" style="display: inline;"><img alt="Vr_news_topic" border="0" class="asset  asset-image at-xid-6a0167607c2431970b01b8d2bc9d77970c image-full img-responsive" src="/assets/image_672052.jpg" title="Vr_news_topic" /></a></p>
<p style="padding-left: 30px;">Cyberspace Developer Toolkit&#0160;は、現在と同じようにヘッドマウント ディスプレイやグローブを接続して 3D 空間上にジオメトリを操作する、といった非常に意欲的な試みではありました。ただし、当時の AutoCAD の 3D 機能やハードウェアなどのパフォーマンスは低く、人々の期待に沿うような効果や利点が注目されることはありませんでした。このため、概念こそ話題になりましたが、市場が広がるほどの成功はなかったのが実情です。つまり、この時期、VR は聡明期から「過度な期待」のピーク時を迎えていたわけです。もちろん、VR はその後、幻滅期を経て現在に至ることになります。</p>
<p style="padding-left: 30px;">数年前の Google Cardboard から始まった VR の新しい潮流は、ハードウェアの進歩にあいまって、AR や Microsoft HoloLens の登場で話題の MR をも巻き込んだ啓蒙活動期に入っている、または、入りつつある状態です。事実、Oculus Rift、HTC VIVE、Google Daydream などのハードウェアの一般化と同時に、<strong><a href="https://developers.google.com/vr/" rel="noopener noreferrer" target="_blank">Google VR</a></strong>、<strong><a href="https://developer.apple.com/arkit/" rel="noopener noreferrer" target="_blank">Apple ARKit</a></strong> などの SDK も続々と登場してきています。</p>
<p style="padding-left: 30px;">こういった中で、設計やデザインの世界でも VR、AR の利用が広がりあるのは周知のとおりです。いまのところ、これらを利用する際には、手持ちのデザイン データを一定程度の時間をかけて、場合によっては手動で&#0160;3D コンテンツを用意する必要があります。デザインや設計の変更は割と頻繁に発生するものなので、その度に 3D コンテンツを準備していくのは大変面倒です。そこで、Forge の特徴を活かすパイプラインの開発が急がれていました。</p>
<p style="padding-left: 30px;"><a class="asset-img-link" href="http://adndevblog.typepad.com/.a/6a0167607c2431970b01bb09d5689c970d-pi" style="display: inline;"><img alt="Streamsvf" border="0" class="asset  asset-image at-xid-6a0167607c2431970b01bb09d5689c970d image-full img-responsive" src="/assets/image_393697.jpg" title="Streamsvf" /></a></p>
<p style="padding-left: 30px;">今回、米国 Las Vegas での開催が始まる Autodesk University、それに先立つ Forge DevCon で、Forge を利用した<strong>&#0160;Forge VR/AR Toolkit</strong> が初めて<span style="text-decoration: underline;">テクノロジ プレビュー</span>としてお披露目されます。テクノロジ プレビューの位置づけであるめ、まだ、正式なリリースが決まったわけではありませんが、開発者や一般ユーザからのフィードバックを得るための機会として公開に踏み切ることになりました。&#0160;&#0160;</p>
<p><strong>&#0160;Forge VR/AR Toolkit</strong></p>
<p style="padding-left: 30px;">Forge VR/AR Toolkit は、既存の Forge の Model Derivative API と、新たに作成された AR/VR API（仮称、下図では Future Forge Service と表現）と呼ばれる Web サービス API を利用して、クラウドンストレージに生成されたストリーミング配信用のデザインデータを、Unity、Stingray、Unreal といった代表的なゲームエンジンに動的に渡して各種 デバイスで VR/AR をサポートしていくことを目的としています。これによって、デザイン/設計変更にともなう一連の 3D コンテンツの準備のための作業時間を短縮し、処理を自動化出来るだけでなく、多様なデバイスをサポートする利点をもたらします。</p>
<p style="padding-left: 30px;">&#0160; <a class="asset-img-link" href="http://adndevblog.typepad.com/.a/6a0167607c2431970b01b8d2bd73b5970c-pi" style="display: inline;"><img alt="DataPrep" border="0" class="asset  asset-image at-xid-6a0167607c2431970b01b8d2bd73b5970c image-full img-responsive" src="/assets/image_485639.jpg" title="DataPrep" /></a></p>
<p style="padding-left: 30px;">それでは、Forge VR/AR Toolkit の仕組みを見ていきましょう。ご存じのとおり、Forge には 60 超のデザイン ファイル形式をサポートし、クラウドにアップロードしたデザイン ファイルを独自の中間ファイルである SVF ファイルなどに変換する&#0160;Model Derivative API が用意されています。変換された SVF ファイルは、Bubbles と呼ばれる同時に生成されるメタデータとともにクライアントにストリーミング配信され、デバイスを問わず、Forge Viewer で表示できる仕組みです。</p>
<p style="padding-left: 30px;">Forge VR/AR Toolkit は、Model Derivative API の仕組みをそのまま利用します。Model Derivative API 処理後に呼び出されることになる AR/VR API は、主に VR/AR デバイスに応じた最適化をおこなうために提供されます。この際、処理されたデザイン データはクラウド ストレージに残り、URN で参照できる点は Model Derivative API で変換後にデザイン データを参照する場合と同様です。デザイン データが格納されるクラウドストレージには、Forge OSS だけでなく、BIM 360 や Fusion 360 クラウドサービスが利用するストレージを指定することが出来ます（3-leggeed OAuth で取得した Access Token は必要）。</p>
<p style="padding-left: 30px;">&#0160;<a class="asset-img-link" href="http://adndevblog.typepad.com/.a/6a0167607c2431970b01b8d2bd73d3970c-pi" style="display: inline;"><img alt="Mechanism" border="0" class="asset  asset-image at-xid-6a0167607c2431970b01b8d2bd73d3970c image-full img-responsive" src="/assets/image_111259.jpg" title="Mechanism" /></a></p>
<p style="padding-left: 30px;">AR/VR API 処理後には、ゲームエンジンにデザイン データを渡して、デザインデータが持つジオメトリの配置位置と、光源、カメラを含むシーンなどの編集を実施します。例えば、Unity エディタには Forge 用のプラグインが提供されいて、URN を指定することでクラウド ストレージからデザインデータのストリーミング配信を受け、アセットとして取り込むことが出来るわけです。あとは、Unity エディタでデバイス（正確にはプラットフォーム）にあわせたビルドをおこなうだけです。ビルドされたアプリは、Unity エディタ上で URN 指定したデザイン データと同じように、ストリーミング配信でアセットを再現します。この際、ジオメトリのみ、メタデータのみ、あるいは両方のデータを選択的に受け取ることも可能です。</p>
<p style="padding-left: 30px;"><a class="asset-img-link" href="http://adndevblog.typepad.com/.a/6a0167607c2431970b01b8d2bd7628970c-pi" style="display: inline;"><img alt="Unity_editor" border="0" class="asset  asset-image at-xid-6a0167607c2431970b01b8d2bd7628970c image-full img-responsive" src="/assets/image_406852.jpg" title="Unity_editor" /></a></p>
<p style="padding-left: 30px;">デバイスによってはデバイス固有の機能に制限を受ける場合もありますが、Forge VR/AR Toolkit は、このようなコンセプトのもとに開発されています。</p>
<p style="padding-left: 30px;">※ 2016 年 9 月開催の Forge DevCon Japan で披露した HoloLens 用のサンプルは、変換済の SVF ファイルと Bubbles と呼ばれる関連メタデータ情報を HoloLens の App Package 化した専用アプリでした（ストリーミング配信されたデータではない）。</p>
<p style="padding-left: 30px;"><a class="asset-img-link" href="http://adndevblog.typepad.com/.a/6a0167607c2431970b01bb09d64457970d-pi" style="display: inline;"><img alt="Hololens" class="asset  asset-image at-xid-6a0167607c2431970b01bb09d64457970d img-responsive" src="/assets/image_301002.jpg" title="Hololens" /></a></p>
<p style="padding-left: 30px;">なお、テクニカル プレビューは一般公開といった意味で捉えられるかもしれませんが、社内ではプライベート アルファ版とも言われていて、一部の限定デベロッパにのみ提供する見込みです。Forge DevCon Las Vegas では、11 月 13 日（月）の次のセッションで&#0160;Forge VR/AR Toolkit について触れられる予定です。もし、この SDK に興味をお持ちで、Forge DevCon Las Vegas にご参加いただける場合には、これらのセッションにご参加いただくことをお勧めします。</p>
<p style="padding-left: 30px;"><strong><a href="https://autodeskuniversity.smarteventscloud.com/connect/sessionDetail.ww?SESSION_ID=125400" rel="noopener noreferrer" target="_blank">FDC125400 - Visualization of Design Using Augmented Reality and Smart Wearable Devices</a></strong></p>
<p style="padding-left: 30px;"><strong><a href="https://autodeskuniversity.smarteventscloud.com/connect/sessionDetail.ww?SESSION_ID=127489" rel="noopener noreferrer" target="_blank">FDC127489 - Using Stingray and Forge to Create Powerful AR and VR Applications</a></strong></p>
<p>&#0160;By Toshiaki Isezaki</p>
