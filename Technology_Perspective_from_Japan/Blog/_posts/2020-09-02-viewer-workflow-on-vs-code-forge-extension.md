---
layout: "post"
title: "VS Code Forge Extension を使った Viewer ワークフローの確認 "
date: "2020-09-02 00:34:10"
author: "Toshiaki Isezaki"
categories:
  - "API カスタマイズ"
  - "クラウドサービス"
original_url: "https://adndevblog.typepad.com/technology_perspective/2020/09/viewer-workflow-on-vs-code-forge-extension.html "
typepad_basename: "viewer-workflow-on-vs-code-forge-extension"
typepad_status: "Publish"
---

<p><strong><a href="https://adndevblog.typepad.com/technology_perspective/2020/06/forge-development-using-vs-code.html" rel="noopener" target="_blank">Visual Studio Code での Forge 開発</a></strong> でご紹介した &#0160;<em><strong><a href="https://marketplace.visualstudio.com/items?itemName=petrbroz.vscode-forge-tools" rel="noopener" target="_blank">Autodesk Forge Tools</a> </strong>エクステンションを利用すると、</em>Postman を使うより簡単に Forge のワークフローを理解することが出来ます。ここでは、<a href="https://adndevblog.typepad.com/technology_perspective/2020/06/forge-online-use-of-oss-bucket.html" rel="noopener" target="_blank"><strong>Forge Online - OSS Bucket の利用</strong></a> でご案内した内容を &#0160;<em><strong>Autodesk Forge Tools </strong>エクステンションでトレースしてみたいと思います。</em></p>
<p><em> <a class="asset-img-link" href="https://adndevblog.typepad.com/.a/6a0167607c2431970b0263e95ce765200b-pi" style="display: inline;"><img alt="&#0160;Autodesk Forge Tools" border="0" class="asset  asset-image at-xid-6a0167607c2431970b0263e95ce765200b image-full img-responsive" src="/assets/image_344182.jpg" title="&#0160;Autodesk Forge Tools" /></a><br /></em></p>
<p><em>プログラムの知識は不要なので</em>、IT マネージャやシステム管理者など、実際にコーディング作業をしないような立場の方も、OSS Bucket<em> の作成 &gt;&gt; </em><em>デザイン ファイルのアップロード &gt;&gt;</em> SVF ファイル変換 &gt;&gt; Viewer への表示 の手順を理解することが出来るはずです。</p>
<p><em><strong>Autodesk Forge Tools </strong></em>エクステンションのインストールと使用する Client ID/Secret の設定については、<strong><a href="https://adndevblog.typepad.com/technology_perspective/2020/06/forge-development-using-vs-code.html" rel="noopener" target="_blank">Visual Studio Code での Forge 開発</a></strong> のブログ記事をご参照ください。</p>
<hr />
<ol>
<li>VS Code の起動後、画面左手のアクティビティバーから Forge アイコン（①）をクリックして、Forge サイドバー（②）を表示させます。<br /><a class="asset-img-link" href="https://adndevblog.typepad.com/.a/6a0167607c2431970b026be4092c8a200d-pi" style="display: inline;"><img alt="Foge_sidebar" border="0" class="asset  asset-image at-xid-6a0167607c2431970b026be4092c8a200d image-full img-responsive" src="/assets/image_848080.jpg" title="Foge_sidebar" /></a></li>
<li>OSS Bucket を作成します。Forge サイドバー上部の <strong>BUCKET &amp; DERIVATIVES</strong> 上で <strong>＋</strong>（Create Bucket）をクリックします。<br /><a class="asset-img-link" href="https://adndevblog.typepad.com/.a/6a0167607c2431970b026bde8a67d1200c-pi" style="display: inline;"><img alt="Create_bucket" border="0" class="asset  asset-image at-xid-6a0167607c2431970b026bde8a67d1200c image-full img-responsive" src="/assets/image_948835.jpg" title="Create_bucket" /></a></li>
<li>作成する Bucket 名を入力します。Bucket 名（Bucket Key）には、他の Bucket と重複しないよう、お使いの Client ID を流用することが推奨されています。大文字英字や全角文字が入らないように Bucket 名を入力してリターンキーを押してください。Bucket についての詳細は、過去のブログ記事 <a href="https://adndevblog.typepad.com/technology_perspective/2016/07/summary-about-bucket.html" rel="noopener" target="_blank"><strong>Bucket に関してのサマリー</strong></a> を参照してみてください。<br /><a class="asset-img-link" href="https://adndevblog.typepad.com/.a/6a0167607c2431970b0263e95d187e200b-pi" style="display: inline;"><img alt="Bucket_name" border="0" class="asset  asset-image at-xid-6a0167607c2431970b0263e95d187e200b image-full img-responsive" src="/assets/image_42322.jpg" title="Bucket_name" /></a></li>
<li>続いて、Bucket にアップロードしたデザイン ファイル（別名、シード ファイル）のライフサイクル（寿命）を決定する Bucket ポリシーを指定します。表示されるポリシーから 1 つをクリックしてリターンキーを押してください。<br /><a class="asset-img-link" href="https://adndevblog.typepad.com/.a/6a0167607c2431970b026bde8a6929200c-pi" style="display: inline;"><img alt="Bucket_policy" border="0" class="asset  asset-image at-xid-6a0167607c2431970b026bde8a6929200c image-full img-responsive" src="/assets/image_840812.jpg" title="Bucket_policy" /></a></li>
<li>Bucket が作成されると、<strong>BUCKET &amp; DERIVATIVES</strong> ペインに Bucket 名が表示されます。<br /><a class="asset-img-link" href="https://adndevblog.typepad.com/.a/6a0167607c2431970b026be4092f02200d-pi" style="display: inline;"><img alt="Created_bucket" border="0" class="asset  asset-image at-xid-6a0167607c2431970b026be4092f02200d image-full img-responsive" src="/assets/image_663083.jpg" title="Created_bucket" /></a><br />Bucket の作成に失敗すると、画面右下にエラーが表示されます。[Details] をクリックすると、エラーの詳細が表示されますので、内容を確認、修正した内容で、再度、Bucket 作成を試みてください。Bucket 名に使用出来ない文字が含まれていたり（大文字など）、すでに同じ Bucket 名が作成されていると、エラーが発生します。<br /><a class="asset-img-link" href="https://adndevblog.typepad.com/.a/6a0167607c2431970b026bde8a69ab200c-pi" style="display: inline;"><img alt="Bucket_creation_error" border="0" class="asset  asset-image at-xid-6a0167607c2431970b026bde8a69ab200c image-full img-responsive" src="/assets/image_758987.jpg" title="Bucket_creation_error" /></a></li>
<li>作成した Bucket にデザイン ファイルをアップロードします。Bucket 名上にマウス カーソルをホバーしてマウス右ボタンをクリック、表示メニューから <strong>Upload Object</strong> を選択します。<br /><a class="asset-img-link" href="https://adndevblog.typepad.com/.a/6a0167607c2431970b0263e95d19c8200b-pi" style="display: inline;"><img alt="Upload_object" border="0" class="asset  asset-image at-xid-6a0167607c2431970b0263e95d19c8200b image-full img-responsive" src="/assets/image_806916.jpg" title="Upload_object" /></a></li>
<li>ファイル ダイアログが表示されるので、アップロードしたいファイルを選択して [開く(O)] をクリックします。<br /><a class="asset-img-link" href="https://adndevblog.typepad.com/.a/6a0167607c2431970b026bde8a6b45200c-pi" style="display: inline;"><img alt="Select_file" border="0" class="asset  asset-image at-xid-6a0167607c2431970b026bde8a6b45200c image-full img-responsive" src="/assets/image_571977.jpg" title="Select_file" /></a></li>
<li>アップデートするファイルの Object Key（Bucket 上のファイル名に相当）が表示されるので、そのままリターンキーを押してアプロードを継続します。<br /><a class="asset-img-link" href="https://adndevblog.typepad.com/.a/6a0167607c2431970b026be40931b1200d-pi" style="display: inline;"><img alt="Confirm_object_key" border="0" class="asset  asset-image at-xid-6a0167607c2431970b026be40931b1200d image-full img-responsive" src="/assets/image_935165.jpg" title="Confirm_object_key" /></a><br />ファイルのアップロード中には、画面右下のその旨を示すメッセージが表示されるはずです。<br /><a class="asset-img-link" href="https://adndevblog.typepad.com/.a/6a0167607c2431970b026bde8a6cf6200c-pi" style="display: inline;"><img alt="Uploading_file" border="0" class="asset  asset-image at-xid-6a0167607c2431970b026bde8a6cf6200c image-full img-responsive" src="/assets/image_205338.jpg" title="Uploading_file" /></a></li>
<li>デザイン ファイルがアップロードされると、Bucket 名の下に Object Key が表示されるので、Object Key 名上にマウス カーソルをホバー、マウスの右ボタンでメニュー表示させて <strong>Translate&#0160;Object</strong> を選択して SVF 変換を開始します。<br /><a class="asset-img-link" href="https://adndevblog.typepad.com/.a/6a0167607c2431970b026be40933a1200d-pi" style="display: inline;"><img alt="Translate_object" border="0" class="asset  asset-image at-xid-6a0167607c2431970b026be40933a1200d image-full img-responsive" src="/assets/image_961734.jpg" title="Translate_object" /></a><br />ファイルの変換中には、画面右下のその旨を示すメッセージが表示されます。<br /><a class="asset-img-link" href="https://adndevblog.typepad.com/.a/6a0167607c2431970b0263e95d1e57200b-pi" style="display: inline;"><img alt="Translating_object" border="0" class="asset  asset-image at-xid-6a0167607c2431970b0263e95d1e57200b image-full img-responsive" src="/assets/image_941146.jpg" title="Translating_object" /></a></li>
<li>SVF 変換が完了すると、Object Key 名の下にシーン名、あるいはシート/レイアウト名が表示されます。Viewer で表示したいアイテム名上にマウス カーソルをホバー、マウスの右ボタン クリックで表示されるメニューから <strong>Preview Derivative</strong> を選択してください。<br /><a class="asset-img-link" href="https://adndevblog.typepad.com/.a/6a0167607c2431970b026bde8a7073200c-pi" style="display: inline;"><img alt="Go_preview" border="0" class="asset  asset-image at-xid-6a0167607c2431970b026bde8a7073200c image-full img-responsive" src="/assets/image_763979.jpg" title="Go_preview" /></a><br />VS Code 上にインプレイス配置された Forge Viewer にアップロードしたデザイン ファイルがストリーミング表示されます。<br /><a class="asset-img-link" href="https://adndevblog.typepad.com/.a/6a0167607c2431970b026bde8a70f1200c-pi" style="display: inline;"><img alt="Object_on_viewer" border="0" class="asset  asset-image at-xid-6a0167607c2431970b026bde8a70f1200c image-full img-responsive" src="/assets/image_476237.jpg" title="Object_on_viewer" /></a></li>
</ol>
<hr />
<p>以上が、VS Code &#0160;<em><strong>Autodesk Forge Tools </strong>エクステンションを使った</em>デザイン ファイルのアップロードから Viewer 表示までのワークフローとなります。ちょうど、<strong><a href="https://adndevblog.typepad.com/technology_perspective/2016/09/understanding-steps-to-use-viewer-on-postman.html" rel="noopener" target="_blank">Postman による Viewer 利用手順の理解 - 2 legged 認証</a></strong> の <strong>3.バケットの作成 </strong>から <strong>6.クライアントからのアクセス </strong>までの手順に相当する endpoint を使用していることがわかります。</p>
<p>この他にも、マニフェスト ファイルの取得や Base64 エンコードされた URN のクリップボードへのコピーなど、よく利用する endpoint をラップした機能（上記、9. のメニュー参照）が網羅されていて、実際のコーディング時にも役立つはずです。</p>
<p>また、ここでは触れていませんが、オートデスク SaaS ストレージへのアクセスや WebHooks API、Design Automation API 用のペインが用意されているので、VS Code を使ったプログラム作成でも、大きな手助けとなるはずです。WebHooks API 使用時の開発作業の例は、<a href="https://adndevblog.typepad.com/technology_perspective/2020/08/forge-online-webhooks-api.html" rel="noopener" target="_blank"><strong>Forge Online - WebHooks：イベント通知と活用</strong></a> の <strong>Data Management Webhooks 使用例</strong>を確認してみてください。</p>
<p>By Toshiaki Isezaki</p>
