---
layout: "post"
title: "APS API を利用するアプリの登録とキーの取得"
date: "2016-07-04 01:48:00"
author: "Toshiaki Isezaki"
categories:
  - "API カスタマイズ"
  - "クラウドサービス"
original_url: "https://adndevblog.typepad.com/technology_perspective/2016/07/app-registration-and-getting-keys-for-forge-api.html "
typepad_basename: "app-registration-and-getting-keys-for-forge-api"
typepad_status: "Publish"
---

<p><span style="background-color: #ffff00;"><a href="https://adndevblog.typepad.com/technology_perspective/2022/09/au-2022autodesk-platform-services-forge-deepening.html" rel="noopener" style="background-color: #ffff00;" target="_blank">Autodesk Forge は 2022年9月開催の Autodesk University で<strong>&#0160;Autodesk Platform Services</strong>&#0160;へ改名されました。</a></span></p>
<p>RESTful API でクラウドにアクセスする際には、アクセス トークンを取得する必要があります。また、アクセス トークンを取得するためには、あらかじめデベロッパ ポータルにサインインして、Client ID と Client Secret（別名：Consumer Key と Consumer Secret）を取得しておく必要があります。</p>
<p>Autodesk Platform Services API で使用出来る API も増加して、デベロッパ ポータルのデザインも変更されていますので、改めて、アプリの登録とキーの取得についてまとめておきたいと思います。</p>
<p>さて、一般的なクラウド サービスでは、クラウドにアクセスするために「ログイン」または「サインイン」と呼ばれるアカウント認証が必要なのはご存じのとおりです。API を使ってクラウドにアクセスする場合にも、もちろん、アカウント認証に代わる処理が必要となります。ただ、ここで扱うことになるのは、ユーザ名やパスワードではありません。開発者に割り当てられた <strong>Client ID</strong>&#0160;と <strong>Client Secret</strong>&#0160;を利用して、<strong><a href="http://ja.wikipedia.org/wiki/OAuth" rel="noopener noreferrer" target="_blank">OAuth2</a>&#0160;</strong>仕様に基づいたアクセス許可を得ることで、オートデスクが管理するストレージにアクセスします。&#0160;</p>
<ul>
<li>ここで記載しているのは、<span style="background-color: #ffff00;">2025年4月4日現在(改定) </span>のものです。今後、画面構成が変わる可能性があります。ご注意ください。</li>
</ul>
<p><strong> Client ID&#0160;と Client Secret の取得手順</strong></p>
<ol>
<li><strong>Client ID</strong>&#0160;と <strong>Client Secret</strong> を取得するには、はじめに <a href="https://aps.autodesk.com/" rel="noopener noreferrer" target="_blank">APS ポータル（https://aps.autodesk.com）</a>にアクセスします。</li>
<li>APS ポータルにアクセスすると、画面の右上に [Sign In] リンクが表示されます。既に Autodesk ID （オートデスク アカウント）をお持ちであれば、[Sign In] をクリックしてサインインしてください。Autodesk ID をお持ちでない場合には、サインアップが必要です。サインアップは、下記の <a href="#step3">3.</a> へ、Autodesk ID を持ちの場合には、<a href="#step9">9.</a> へ進んでください。<br /><a class="asset-img-link" href="https://adndevblog.typepad.com/.a/6a0167607c2431970b02e860fdcb84200d-pi" style="display: inline;"><img alt="2-sign-in" border="0" class="asset  asset-image at-xid-6a0167607c2431970b02e860fdcb84200d image-full img-responsive" src="/assets/image_181386.jpg" title="2-sign-in" /></a></li>
<li><a id="step3"></a>Autodesk ID をお持ちでなければ、[アカウントを作成] をクリックして Autodesk ID を作成してください。Autodesk ID は、無償でどなたでも作成することが出来ます。<br /><a class="asset-img-link" href="https://adndevblog.typepad.com/.a/6a0167607c2431970b02e860e6cfa5200b-pi" style="display: inline;"><img alt="3-sign-in-sign-up" border="0" class="asset  asset-image at-xid-6a0167607c2431970b02e860e6cfa5200b image-full img-responsive" src="/assets/image_722678.jpg" title="3-sign-in-sign-up" /></a></li>
<li>[アカウントを作成]&#0160; 画面が表示されます。各項目の入力後、この画面を終了するには、「<a href="http://www.autodesk.com/termsofservice" rel="noopener" target="_blank">Autodesk 使用規約</a>および<a href="https://www.autodesk.com/privacy" rel="noopener" target="_blank">Autodesk プライバシー ステートメント</a>に同意します。」にチェックする必要があります。リンクから内容をご確認の上、同意可能な場合にはチェック ボックスにチェックを入れてください。<br /><a class="asset-img-link" href="https://adndevblog.typepad.com/.a/6a0167607c2431970b02e860fdcbb8200d-pi" style="display: inline;"><img alt="4-signup" border="0" class="asset  asset-image at-xid-6a0167607c2431970b02e860fdcbb8200d image-full img-responsive" src="/assets/image_130805.jpg" title="4-signup" /></a></li>
<li>アカウント作成を知らせるページが表示あれます。[完了] をクリックしてください。<br /><img alt="5-check_an_email" border="0" class="asset  asset-image at-xid-6a0167607c2431970b02e860e6d13e200b image-full img-responsive" src="/assets/image_798826.jpg" title="5-check_an_email" /></li>
<li>次の画面が表示された場合には、入力したメールボックスにメール アドレス確認用のメールが届いています。メールボックス（受信トレイ）を確認してみてください。<br /><a class="asset-img-link" href="https://adndevblog.typepad.com/.a/6a0167607c2431970b02e860e6d175200b-pi" style="display: inline;"><img alt="5-check_an_email2" border="0" class="asset  asset-image at-xid-6a0167607c2431970b02e860e6d175200b image-full img-responsive" src="/assets/image_937856.jpg" title="5-check_an_email2" /></a></li>
<li>メールボックスに確認メールが届いていたら、<a class="asset-img-link" href="http://adndevblog.typepad.com/.a/6a0167607c2431970b022ad3b8912e200b-pi"></a>[電子メールを確認] をクリックしてください。<br /><a class="asset-img-link" href="https://adndevblog.typepad.com/.a/6a0167607c2431970b02e860fdccf4200d-pi" style="display: inline;"><img alt="6-email_confirmation" border="0" class="asset  asset-image at-xid-6a0167607c2431970b02e860fdccf4200d image-full img-responsive" src="/assets/image_133206.jpg" title="6-email_confirmation" /></a></li>
<li>アカウント確認のページが表示されたら [完了] をクリックしてください。<br /><a class="asset-img-link" href="https://adndevblog.typepad.com/.a/6a0167607c2431970b02c8d3d02169200c-pi" style="display: inline;"><img alt="8.2step_verification" border="0" class="asset  asset-image at-xid-6a0167607c2431970b02c8d3d02169200c image-full img-responsive" src="/assets/image_680874.jpg" title="8.2step_verification" /></a></li>
<li><a id="step9"></a>（My profile and settings ページ - https://profile.autodesk.com/ に遷移したら、）URL に <a href="https://aps.autodesk.com" rel="noopener" target="_blank">https://aps.autodesk.com</a> を入力して APS ポータルへ移動します。</li>
<li>My applications 画面に移動します。右上のアカウント名下のメニューから [My applications] をクリックしてください。<br /><a class="asset-img-link" href="https://adndevblog.typepad.com/.a/6a0167607c2431970b02e860e6d225200b-pi" style="display: inline;"><img alt="10-myapplication" border="0" class="asset  asset-image at-xid-6a0167607c2431970b02e860e6d225200b img-responsive" src="/assets/image_314695.jpg" title="10-myapplication" /></a></li>
<li>アカウントの基本情報を入力後、Term Of Service（利用規約）への同意を求められたら、<a class="MuiTypography-root MuiLink-root MuiLink-underlineHover css-1qkltea" href="https://www.autodesk.com/company/legal-notices-trademarks/terms-of-service-autodesk360-web-services/forge-platform-web-services-api-terms-of-service" rel="noopener noreferrer" target="_blank">Terms of Service</a> の 内容を確認の上、「I agree to the Autodesk Platform Services Terms of Service.」にチェックして [Submit] をクリックして同意をお願いします。<br /><a class="asset-img-link" href="https://adndevblog.typepad.com/.a/6a0167607c2431970b02e860fdcded200d-pi" style="display: inline;"><img alt="11-common_info" border="0" class="asset  asset-image at-xid-6a0167607c2431970b02e860fdcded200d img-responsive" src="/assets/image_920560.jpg" title="11-common_info" /></a></li>
<li>My applications 画面に移動したら、アプリケーションを登録するために [Create application] をクリックします。<br /><a class="asset-img-link" href="https://adndevblog.typepad.com/.a/6a0167607c2431970b02e860fdce13200d-pi" style="display: inline;"><img alt="12-create_application" border="0" class="asset  asset-image at-xid-6a0167607c2431970b02e860fdce13200d img-responsive" src="/assets/image_689944.jpg" title="12-create_application" /></a></li>
<li>Create Application 画面が表示されたら、作成するアプリケーション名を入力してください（半角英数字の利用を推奨）。Application Type は、使用する<a href="https://adndevblog.typepad.com/technology_perspective/2016/08/oauth-authentication-scenario-on-forge.html" rel="noopener" target="_blank">シナリオ</a>に合わせて選択してください。 どのタイプを選択すべきか判断出来ない場合には、とりあえず、2-legged と 3-legged の OAuth をサポートする Traditional Web App タイプを選択することをお薦めします。入力が完了したら、右下の [Create] ボタンをクリックします。<br /><a class="asset-img-link" href="https://adndevblog.typepad.com/.a/6a0167607c2431970b02c8d3d04332200c-pi" style="display: inline;"><img alt="13-app_name" class="asset  asset-image at-xid-6a0167607c2431970b02c8d3d04332200c img-responsive" src="/assets/image_73207.jpg" title="13-app_name" /></a></li>
<li>入力したアプリケーション名の詳細情報を入力します。<strong>General Settings</strong> セクション上から、アプリケーション名（Name）、アプリケーションの説明（Description）、コールバック URL（Callback URL）を入力してください。なお、アプリケーション名には、先に入力した値が既定値として記入されているはずです。また、コールバック URL は、3-legged OAuthで利用する URL を指しますが、Autodesk Construction Cloud や BIM 360、Fusion Team のユーザ ストレージにアクセスしない限り不要です。ここではダミー入力（既定値のまま）で結構です。<br /><a class="asset-img-link" href="https://adndevblog.typepad.com/.a/6a0167607c2431970b02c8d3d02222200c-pi" style="display: inline;"><img alt="14-general_settings" border="0" class="asset  asset-image at-xid-6a0167607c2431970b02c8d3d02222200c image-full img-responsive" src="/assets/image_486538.jpg" title="14-general_settings" /></a></li>
<li><strong>API Access</strong> セクションで、登録するアプリで使用する API を選択します。使用する API にチェックを入れてください。<br /><a class="asset-img-link" href="https://adndevblog.typepad.com/.a/6a0167607c2431970b02e860fdce50200d-pi" style="display: inline;"><img alt="15-api_access" border="0" class="asset  asset-image at-xid-6a0167607c2431970b02e860fdce50200d img-responsive" src="/assets/image_146310.jpg" title="15-api_access" /></a></li>
<li>ここまでの入力を保存します。右下の [Save Changes] ボタンをクリックしてください<br /><a class="asset-img-link" href="https://adndevblog.typepad.com/.a/6a0167607c2431970b02e860fdce5d200d-pi" style="display: inline;"><img alt="16-api_access_save" border="0" class="asset  asset-image at-xid-6a0167607c2431970b02e860fdce5d200d img-responsive" src="/assets/image_517175.jpg" title="16-api_access_save" /></a></li>
<li>Team Assignment セクションでは、トークン課金をおこなうチームを指定します。アカウントで複数のチームを編成している場合には、プライマリ管理者、または、セカンダリ管理者に適切なチームを確認してください。通常はアカウントに 1 つのチームしか関連付けられていないので、表示されるチームを割り当てます。選択が出来たら [Assign] ボタンをクリックします。<br /><a class="asset-img-link" href="https://adndevblog.typepad.com/.a/6a0167607c2431970b02e860fdce89200d-pi" style="display: inline;"><img alt="17-team_assignment" border="0" class="asset  asset-image at-xid-6a0167607c2431970b02e860fdce89200d img-responsive" src="/assets/image_479549.jpg" title="17-team_assignment" /></a><br /><br /></li>
</ol>
<p>これで、アプリの登録と、そのアプリ用に割り当てられた Client ID&#0160;と Client Secret の取得が完了です。&#0160;<span style="background-color: #ffff00;">この Client ID&#0160;と Client Secret は、ユーザ名とパスワードに相当するもので、アプリを開発する開発者を特定するものとなります。もちろん、通常公開すべきものではありませんので、開発者は外部に漏れないよう注意してください。</span></p>
<p>開発作業で使用する Client ID と Client Secret は <strong>Client Credentials</strong> セクションに表示されます。Client Secret は既定値でマスク表示（<strong>・・・・・</strong>）になっていますが、<strong>目アイコン</strong>をクリックすることで画面に表示されます。もう一度、<strong>目アイコン</strong>をクリックすると非表示になります。下図は、アプリ名を「My Application」とした例です。</p>
<p><a class="asset-img-link" href="https://adndevblog.typepad.com/.a/6a0167607c2431970b02a2eed4d20a200d-pi" style="display: inline;"><img alt="Show_client_secret" border="0" class="asset  asset-image at-xid-6a0167607c2431970b02a2eed4d20a200d image-full img-responsive" src="/assets/image_479227.jpg" title="Show_client_secret" /></a></p>
<p>APS ポータルにサインインして、アカウント名下のメニューから [My applications] をクリックすれば、いつでもアプリ内容を変更することが可能です。また、 Client Secret は [Regenerate] ボタンで再生成したり、アプリケーション自体を削除したりすることも出来ます。 その場合、同 Client ID を使用して構築されたアプリケーションは動作しなくなりますのでご注意ください。</p>
<p>-Toshiaki Isezaki&#0160;</p>
