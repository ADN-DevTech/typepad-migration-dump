---
layout: "post"
title: "Fusion 360 API サンプル"
date: "2017-06-28 01:07:28"
author: "Toshiaki Isezaki"
categories:
  - "API カスタマイズ"
  - "クラウドサービス"
original_url: "https://adndevblog.typepad.com/technology_perspective/2017/06/fusion-360-api-samples.html "
typepad_basename: "fusion-360-api-samples"
typepad_status: "Publish"
---

<p>Fusion 360 のクライアント API には、たくさんの API サンプルが用意されています。最初に目につくのは、製品内で Fusion 360 API の窓口となっている&#0160;[スクリプトとアドイン] ダイアログです。ご自身でスクリプトやアドインを作成しなくても、すぐに実行出来るサンプルが表示されるはずです。もちろん、Adobe Brackets や Spyder などの組み込みエディタでソースコードを参照したり編集したりすることも出来ます。</p>
<p><a class="asset-img-link" href="http://adndevblog.typepad.com/.a/6a0167607c2431970b01b7c8ff304a970b-pi" style="display: inline;"><img alt="Script_and_addin_aialog" border="0" class="asset  asset-image at-xid-6a0167607c2431970b01b7c8ff304a970b image-full img-responsive" src="/assets/image_140437.jpg" title="Script_and_addin_aialog" /></a></p>
<p>これ以外には、Fusion 360 からアクセス可能なオンライン ヘルプにも、カテゴリ 別に多数のサンプルコードが記載されています。残念ながら、Fusion 360 API に関するオンライン ヘルプ <a href="Programming Interface 部分" rel="noopener noreferrer" target="_blank"><strong>Programming Interface</strong></a>&#0160;部分は、他の Fusion 360 オンライン ヘルプとは異なり英語のままですが、ここに記載されたサンプル コードはすぐに実行出来るものがほとんどなので、実際に実行しながらリファレンスとともの読み解いていただくことが可能です。</p>
<p><a class="asset-img-link" href="http://help.autodesk.com/view/fusion360/ENU/?guid=GUID-DE98632B-3DC0-422B-A1C6-8A5A15C99E11" rel="noopener noreferrer" style="display: inline;" target="_blank"><img alt="Online_help" border="0" class="asset  asset-image at-xid-6a0167607c2431970b01bb09a24e27970d image-full img-responsive" src="/assets/image_427468.jpg" title="Online_help" /></a></p>
<p>ここまでのサンプルは Fusion 360 製品からアクセス可能なものですが、これ以外にも、複数の GitHub サイトに多くのサンプルが記載されています。まず、オートデスク公式の GitHub サイトに <strong><a href="https://autodeskfusion360.github.io/" rel="noopener noreferrer" target="_blank">https://autodeskfusion360.github.io/</a></strong>&#0160;があります。このサイトからは、更に <strong><a href="https://github.com/AutodeskFusion360" rel="noopener noreferrer" target="_blank">https://github.com/AutodeskFusion360</a></strong>&#0160;にジャンプして別のサンプルを参照したり、また、各リポジトリから ZIP ファイルをダウンロードして、クライアントにダウンロード、Fusion 360 で実行することも出来ます。</p>
<p>また、Fusion 360 API をデザインしているオートデスクの開発者である Brian Ekins も、<strong><a href="https://github.com/brianekins" rel="noopener noreferrer" target="_blank">https://github.com/brianekins</a></strong>&#0160;でGitHub サイトを公開しています。このサイトからは、5 月に開催した <strong><a href="http://adndevblog.typepad.com/technology_perspective/2017/05/forge-seminar-summary.html" rel="noopener noreferrer" target="_blank">Forge セミナー</a></strong> の&#0160;<strong><a href="https://www.youtube.com/watch?v=R0WwsyT5814&amp;feature=youtu.be" rel="noopener noreferrer" target="_blank">Fusion 360 API&#0160;セッション</a></strong> でご紹介したサンプルのソースコードも入手することが出来ます。それでは、いくつかサンプルについてご紹介しておきます。<a href="https://github.com/brianekins/FlyThrough" rel="noopener noreferrer" target="_blank"></a></p>
<hr />
<p><a href="https://github.com/brianekins/FlyThrough" rel="noopener noreferrer" target="_blank"><strong>FryThrough サンプル</strong></a>&#0160; &#0160;← このリンクから GitHub リポジトリにジャンプします。<a class="asset-img-link" href="http://adndevblog.typepad.com/.a/6a0167607c2431970b01bb09a253eb970d-pi" style="float: right;"><img alt="Flythrough" class="asset  asset-image at-xid-6a0167607c2431970b01bb09a253eb970d img-responsive" src="/assets/image_509866.jpg" style="width: 200px; margin: 0px 0px 5px 5px;" title="Flythrough" /></a><a href="https://github.com/brianekins/FlyThrough" rel="noopener noreferrer" target="_blank"></a></p>
<p>視点（カメラ）を沿わせると目標のパスを指定してフライ スルーさせるアドイン サンプルです。このサンプルは、アドイン ロード後に Fusion 360 画面内のツールバーに追加される紙飛行機アイコンから起動します。</p>
<p><a class="asset-img-link" href="http://adndevblog.typepad.com/.a/6a0167607c2431970b01b7c8ff3733970b-pi" style="display: inline;"><img alt="Flythrough_command" class="asset  asset-image at-xid-6a0167607c2431970b01b7c8ff3733970b img-responsive" src="/assets/image_147027.jpg" style="width: 400px;" title="Flythrough_command" /></a></p>
<p>コマンド起動時には、あらかじめ Attribute（属性）が設定されたスプラインにカメラと目標を設定して状態で表示されます。表示されたダイアログ上で Animate と書かれた文字の右隣に表示される再生ボタンでフライスルーを開始出来ます。<a href="https://github.com/brianekins/Dado-Rabbet" rel="noopener noreferrer" target="_blank"></a></p>
<hr />
<p><strong><a href="https://github.com/brianekins/Dado-Rabbet" rel="noopener noreferrer" target="_blank">Dado-Rabbet サンプル</a>&#0160;&#0160;</strong>← このリンクから GitHub リポジトリにジャンプします。<a class="asset-img-link" href="http://adndevblog.typepad.com/.a/6a0167607c2431970b01bb09a253f1970d-pi" style="float: right;"><img alt="Dado-Rabbet" class="asset  asset-image at-xid-6a0167607c2431970b01bb09a253f1970d img-responsive" src="/assets/image_791854.jpg" style="width: 200px; margin: 0px 0px 5px 5px;" title="Dado-Rabbet" /></a><a href="https://github.com/brianekins/Dado-Rabbet" rel="noopener noreferrer" target="_blank"></a></p>
<p>指定した平面サーフェスとエッジからの距離を指定して、サーフェスを構成面するボディに溝を作成するアドイン サンプルです。アドインをロードすると、[モデル] ワークスペースの [修正] メニューに [Dado/Rabbet] コマンドが追加されるので、このコマンドをクリックしてサンプルを起動します。</p>
<p><a class="asset-img-link" href="http://adndevblog.typepad.com/.a/6a0167607c2431970b01bb09a25517970d-pi" style="display: inline;"><img alt="Dado-Rabbet_command" class="asset  asset-image at-xid-6a0167607c2431970b01bb09a25517970d img-responsive" src="/assets/image_975845.jpg" title="Dado-Rabbet_command" /></a></p>
<p>ダイアログが表示されたら、Face に溝を作成する平面サーフェスを、Edge に指定した距離に溝を作成するための基準エッジを指定してください。</p>
<p>&#0160;</p>
<hr />
<p><a href="https://github.com/brianekins/MeshIntersect" rel="noopener noreferrer" target="_blank"><strong>MeshIntersect サンプル</strong></a>&#0160;&#0160;← このリンクから GitHub リポジトリにジャンプします。<a class="asset-img-link" href="http://adndevblog.typepad.com/.a/6a0167607c2431970b01b8d28969b2970c-pi" style="float: right;"><img alt="MeshIntersect" class="asset  asset-image at-xid-6a0167607c2431970b01b8d28969b2970c img-responsive" src="/assets/image_596012.jpg" style="width: 200px; margin: 0px 0px 5px 5px;" title="MeshIntersect" /></a><a href="https://github.com/brianekins/MeshIntersect" rel="noopener noreferrer" target="_blank"></a></p>
<p>開いているメッシュを指定した感覚で配置した X-Y 平面で切断するアドイン サンプルです。アドインをロードすると、[モデル] ワークスペースの [スケッチ] メニューの [投影/含める]メニューに [Intersect Mesh Body] コマンドが追加されるので、このコマンドをクリックしてサンプルを起動します。</p>
<p><a class="asset-img-link" href="http://adndevblog.typepad.com/.a/6a0167607c2431970b01bb09a255a6970d-pi" style="display: inline;"><img alt="MeshIntersect_command" class="asset  asset-image at-xid-6a0167607c2431970b01bb09a255a6970d img-responsive" src="/assets/image_894418.jpg" style="width: 350px;" title="MeshIntersect_command" /></a><a href="https://github.com/brianekins/FusionHackathonSamples/tree/master/GeometryEval" rel="noopener noreferrer" target="_blank"></a></p>
<hr />
<p><a href="https://github.com/brianekins/FusionHackathonSamples/tree/master/GeometryEval" rel="noopener noreferrer" target="_blank"> </a><a class="asset-img-link" href="http://adndevblog.typepad.com/.a/6a0167607c2431970b01bb09a2c74b970d-pi" style="float: right;"><img alt="GeometryEval" class="asset  asset-image at-xid-6a0167607c2431970b01bb09a2c74b970d img-responsive" src="/assets/image_10944.jpg" style="width: 150px; margin: 0px 0px 5px 5px;" title="GeometryEval" /></a><a href="https://github.com/brianekins/FusionHackathonSamples/tree/master/GeometryEval" rel="noopener noreferrer" target="_blank"><strong>GeometryEval サンプル</strong></a>&#0160; ← このリンクから GitHub リポジトリにジャンプします。<br /><a href="https://github.com/brianekins/FusionHackathonSamples/tree/master/GeometryEval" rel="noopener noreferrer" target="_blank"></a></p>
<p>指定したサーフェスを評価して指定間隔でサーフェス上の点や法線ベクトルを表示するアドイン サンプルです。このアドインをロードすると、[モデル] ワークスペースの [検査] メニューに [Geometory Info] コマンドが追加されるので、このコマンドをクリックしてサンプルを起動します。</p>
<p><a class="asset-img-link" href="http://adndevblog.typepad.com/.a/6a0167607c2431970b01b8d289dcc1970c-pi" style="display: inline;"><img alt="GeometryEval_command" class="asset  asset-image at-xid-6a0167607c2431970b01b8d289dcc1970c img-responsive" src="/assets/image_543207.jpg" title="GeometryEval_command" /></a></p>
<p>ダイアログが表示されたら、評価するサーフェスを指定して、Evaluation Type でサーフェスに表示する点や法線ベクトルを変更出来ます。&#0160;</p>
<hr />
<p><a href="https://github.com/brianekins/FusionHackathonSamples/tree/master/CorkHoles" rel="noopener noreferrer" target="_blank"><strong>CorkHoles サンプル</strong></a>&#0160;&#0160;← このリンクから GitHub リポジトリにジャンプします。<a class="asset-img-link" href="http://adndevblog.typepad.com/.a/6a0167607c2431970b01bb09a25401970d-pi" style="float: right;"><img alt="CorkHoles" class="asset  asset-image at-xid-6a0167607c2431970b01bb09a25401970d img-responsive" src="/assets/image_572955.jpg" style="width: 200px; margin: 0px 0px 5px 5px;" title="CorkHoles" /></a><a href="https://github.com/brianekins/FusionHackathonSamples/tree/master/CorkHoles" rel="noopener noreferrer" target="_blank"></a></p>
<p>&#0160;穴フィーチャではない穴形状を Brep から見つけて、コルクで穴を塞ぐ処理を実装したアドイン サンプルです。アドインをロードすると、[モデル] ワークスペースの [アセンブリ] メニューに [Cork all holes] コマンドが追加されるので、このコマンドをクリックしてサンプルを起動します。ダイアログが表示されたら、処理したいボディを選択して [OK] ボタンをクリックするだけです。</p>
<p><a class="asset-img-link" href="http://adndevblog.typepad.com/.a/6a0167607c2431970b01b7c8ff3977970b-pi" style="display: inline;"><img alt="CorkHoles_command" class="asset  asset-image at-xid-6a0167607c2431970b01b7c8ff3977970b img-responsive" src="/assets/image_31378.jpg" title="CorkHoles_command" /></a></p>
<p>ご注意いただきたいのは、GitHub リポジトリからダウンロードしたソースコードを一部修正しなければならない点です。このサンプルでは、穴をふさぐ「コルク」を作成していきますが、このコルクに黄色いマテリアルを指定していきます。マテリアルは英語環境に合わせて指定されているので、そのまま実行すると該当する外観マテリアル &#0160;&#39;Paint - Enamel Glossy (Yellow)&#39; が見つけられずにエラーとなってしまいます。外観マテリアルについても同様です。</p>
<p>日本語版の Fusion 360 で実行する場合には、CorkHoles.py の次の太字部分、 &#0160;&#0160;</p>
<pre> # Change the color.<br /> app = adsk.core.Application.get()<br /><strong> #matLib = app.materialLibraries.itemByName(&#39;Fusion 360 Appearance Library&#39;)</strong><br /><strong> #color = matLib.appearances.itemByName(&#39;Paint - Enamel Glossy (Yellow)&#39;)</strong><br /> body = rev.bodies.item(0)<br /> body.appearance = color</pre>
<p>を見つけて、次のように変更してください。これで、日本語版 Fusion 360 で動作するようになるはずです。</p>
<pre> # Change the color.<br /> app = adsk.core.Application.get()<br /><strong> matLib = app.materialLibraries.itemByName(&quot;<span style="color: #0000ff;">Fusion 360 外観ライブラリ</span>&quot;)</strong><br /><strong> color = matLib.appearances.itemByName(&quot;<span style="color: #0000ff;">ペイント - エナメル 光沢(黄)</span>&quot;)</strong><br /> body = rev.bodies.item(0)<br /> body.appearance = color</pre>
<hr />
<p>なお、ここでご紹介した GeometryEval サンプル以外の Github サンプルは、前述の <strong><a href="http://adndevblog.typepad.com/technology_perspective/2017/05/forge-seminar-summary.html" rel="noopener noreferrer" target="_blank">Forge セミナー</a></strong> の&#0160;<strong><a href="https://www.youtube.com/watch?v=R0WwsyT5814&amp;feature=youtu.be" rel="noopener noreferrer" target="_blank">Fusion 360 API&#0160;セッション</a></strong> で実際にデモしていますので、収録動画で内容を確認していただくことも可能です。</p>
<p>By Toshiaki Isezaki</p>
